{"version":3,"sources":["WinAmount.js"],"names":["cc","Class","extends","Component","properties","bg","Node","win","default","type","SpriteFrame","lastWin","textWin","textLastWin","onLoad","node","on","updateWinAmount","updateBgToLastWin","updateBgToWin","value","time","emit","getComponent","Sprite","spriteFrame","Label","string"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,YAAIL,GAAGM,IADC;AAERC,aAAK;AACDC,qBAAS,IADR;AAEDC,kBAAMT,GAAGU;AAFR,SAFG;AAMRC,iBAAS;AACLH,qBAAS,IADJ;AAELC,kBAAMT,GAAGU;AAFJ,SAND;AAURE,iBAAS,OAVD;AAWRC,qBAAa;AAXL,KAHP;;AAiBLC,UAjBK,oBAiBK;AACN,aAAKC,IAAL,CAAUC,EAAV,CAAa,mBAAb,EAAiC,KAAKC,eAAtC,EAAsD,IAAtD;AACA,aAAKF,IAAL,CAAUC,EAAV,CAAa,oBAAb,EAAkC,KAAKE,iBAAvC,EAAyD,IAAzD;AACA,aAAKH,IAAL,CAAUC,EAAV,CAAa,eAAb,EAA6B,KAAKG,aAAlC,EAAgD,IAAhD;AACH,KArBI;AAsBLF,mBAtBK,iCAsB0B;AAAA,YAAdG,KAAc,QAAdA,KAAc;AAAA,YAAPC,IAAO,QAAPA,IAAO;;AAC3B,aAAKN,IAAL,CAAUO,IAAV,CAAe,sBAAf,EAAsC,EAACF,YAAD,EAAQC,UAAR,EAAtC;AACH,KAxBI;AAyBLF,iBAzBK,2BAyBW;AACZ,YAAI,KAAKd,EAAL,CAAQkB,YAAR,CAAqBvB,GAAGwB,MAAxB,CAAJ,EAAqC;AACjC,iBAAKnB,EAAL,CAAQkB,YAAR,CAAqBvB,GAAGwB,MAAxB,EAAgCC,WAAhC,GAA8C,KAAKlB,GAAnD;AACH,SAFD,MAEO,IAAI,KAAKF,EAAL,CAAQkB,YAAR,CAAqBvB,GAAG0B,KAAxB,CAAJ,EAAoC;AACvC,iBAAKrB,EAAL,CAAQkB,YAAR,CAAqBvB,GAAG0B,KAAxB,EAA+BC,MAA/B,GAAwC,KAAKf,OAA7C;AACH;AACJ,KA/BI;AAgCLM,qBAhCK,+BAgCe;AAChB,YAAI,KAAKb,EAAL,CAAQkB,YAAR,CAAqBvB,GAAGwB,MAAxB,CAAJ,EAAqC;AACjC,iBAAKnB,EAAL,CAAQkB,YAAR,CAAqBvB,GAAGwB,MAAxB,EAAgCC,WAAhC,GAA8C,KAAKd,OAAnD;AACH,SAFD,MAEO,IAAI,KAAKN,EAAL,CAAQkB,YAAR,CAAqBvB,GAAG0B,KAAxB,CAAJ,EAAoC;AACvC,iBAAKrB,EAAL,CAAQkB,YAAR,CAAqBvB,GAAG0B,KAAxB,EAA+BC,MAA/B,GAAwC,KAAKd,WAA7C;AACH;AACJ;AAtCI,CAAT","file":"WinAmount.js","sourceRoot":"../../../../../../assets/cc-common/cc-slotbase-v2/gui","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        bg: cc.Node,\n        win: {\n            default: null,\n            type: cc.SpriteFrame,\n        },\n        lastWin: {\n            default: null,\n            type: cc.SpriteFrame,\n        },\n        textWin: 'THẮNG',\n        textLastWin: 'MỚI THẮNG'\n    },\n\n    onLoad () {\n        this.node.on(\"UPDATE_WIN_AMOUNT\",this.updateWinAmount,this);\n        this.node.on(\"CHANGE_TO_LAST_WIN\",this.updateBgToLastWin,this);\n        this.node.on(\"CHANGE_TO_WIN\",this.updateBgToWin,this);\n    },\n    updateWinAmount({value, time}) {\n        this.node.emit(\"UPDATE_ANIMATE_STYLE\",{value, time});\n    },\n    updateBgToWin() {\n        if (this.bg.getComponent(cc.Sprite)) {\n            this.bg.getComponent(cc.Sprite).spriteFrame = this.win;\n        } else if (this.bg.getComponent(cc.Label)) {\n            this.bg.getComponent(cc.Label).string = this.textWin;\n        }\n    },\n    updateBgToLastWin() {\n        if (this.bg.getComponent(cc.Sprite)) {\n            this.bg.getComponent(cc.Sprite).spriteFrame = this.lastWin;\n        } else if (this.bg.getComponent(cc.Label)) {\n            this.bg.getComponent(cc.Label).string = this.textLastWin;\n        }\n    }\n});\n"]}