{"version":3,"sources":["../../../../../../assets/cc-taoquan-9983/scripts/table/assets/cc-taoquan-9983/scripts/table/SlotSymbol9983.js"],"names":["listWildAnim","cc","Class","extends","require","properties","subSymbol","Node","smallSubSymbol","onLoad","_super","node","addSubSymbol","bind","removeSubSymbol","addSmallSubSymbol","showSmallSubSymbol","addWildSymbol","removeWildSymbol","changeToFakeSymbol","staticSymbolSprite","staticSymbol","getComponent","Sprite","changeToSymbol","symbolName","isFakeSymbol","symbol","setIndex","zIndex","asset","assets","active","spriteFrame","stopAllActions","runTime","runAction","sequence","spawn","scaleTo","moveTo","x","y","callFunc","scale","setPosition","enableHighlight","opacity","blinkHighlight","disableHighlight","reset","bigSymbol","wildSymbol","position","v2","addChild","skeleton","sp","Skeleton","setSkin","setSlotsToSetupPose","setAnimation","removeChild"],"mappings":"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","file":"SlotSymbol9983.js","sourceRoot":"../../../../../../assets/cc-taoquan-9983/scripts/table","sourcesContent":["\n\nconst listWildAnim = {\n    'K': 'skin0',\n    'K1': 'skin1',\n    'K2': 'skin2',\n    'K3': 'skin3',\n    'K4': 'skin4',\n    'K5': 'skin5',\n    'K6': 'skin6',\n    'K7': 'skin7',\n};\ncc.Class({\n    extends: require('SlotSymbol'),\n\n    properties: {\n        subSymbol: cc.Node,   \n        smallSubSymbol: cc.Node,   \n    },\n\n    onLoad () {\n        this._super();\n        this.node.addSubSymbol = this.addSubSymbol.bind(this); \n        this.node.removeSubSymbol = this.removeSubSymbol.bind(this); \n        this.node.addSmallSubSymbol = this.addSmallSubSymbol.bind(this); \n        this.node.showSmallSubSymbol = this.showSmallSubSymbol.bind(this); \n        this.node.addWildSymbol = this.addWildSymbol.bind(this);\n        this.node.removeWildSymbol = this.removeWildSymbol.bind(this);\n        this.node.changeToFakeSymbol = this.changeToFakeSymbol.bind(this);\n\n        this.staticSymbolSprite = this.staticSymbol.getComponent(cc.Sprite);\n    },\n\n    changeToSymbol(symbolName) {\n        this.isFakeSymbol = false;\n        if (symbolName == \"1\") {\n            this.isFakeSymbol = true;\n            this.node.symbol = symbolName;\n        }\n        this._super(symbolName);\n        this.setIndex();\n    },\n\n    setIndex() {\n        if (this.node.symbol == \"A\") {\n            this.node.zIndex = 2;\n        } else if (this.node.symbol[0] == \"K\") {\n            this.node.zIndex = 1;\n        } else {\n            this.node.zIndex = 0;\n        }\n    },\n\n    addSubSymbol(symbolName) {\n        if (this.isFakeSymbol) return;\n        const asset = this.assets[symbolName];\n        this.subSymbol.active = true;\n        this.smallSubSymbol.active = false;\n        this.smallSubSymbol.getComponent(cc.Sprite).spriteFrame = asset;\n        this.subSymbol.getComponent(cc.Sprite).spriteFrame = asset;\n    },\n    showSmallSubSymbol(symbolName) {\n        if (this.isFakeSymbol) return;\n        const asset = this.assets[symbolName];\n        this.smallSubSymbol.getComponent(cc.Sprite).spriteFrame = asset;\n        this.subSymbol.getComponent(cc.Sprite).spriteFrame = asset;\n        this.subSymbol.active = false;\n        this.smallSubSymbol.active = true;\n    },\n    addSmallSubSymbol() {\n        if (this.isFakeSymbol) return;\n        this.subSymbol.stopAllActions();\n        const runTime = 0.2;\n        this.smallSubSymbol.active = false;\n        this.subSymbol.active = true;\n        this.subSymbol.runAction(cc.sequence(cc.spawn(cc.scaleTo(runTime, 0.5), cc.moveTo(runTime, this.smallSubSymbol.x, this.smallSubSymbol.y)),cc.callFunc(()=>{\n            this.subSymbol.scale = 1;\n            this.subSymbol.setPosition(0,0);\n            this.smallSubSymbol.active = true;\n            this.subSymbol.active = false;\n        })));\n    },\n    \n    removeSubSymbol(){\n        this.subSymbol.active = false;\n        this.smallSubSymbol.active = false;\n    },\n\n    enableHighlight() {\n        this.staticSymbol.opacity = 0;\n        this.subSymbol.opacity = 0;\n        this.smallSubSymbol.opacity = 0;\n    },\n\n    blinkHighlight(){\n        this.node.opacity = 255;\n        this.staticSymbol.stopAllActions();\n        this.staticSymbol.opacity = 255;\n        this.staticSymbol.active = true;\n        this.subSymbol.opacity = 255;\n        this.smallSubSymbol.opacity = 255;\n    },\n\n    disableHighlight() {\n        //maybe we will handle the big symbol from here, so it will never be dim\n        this.staticSymbol.stopAllActions();\n        this.staticSymbol.opacity = 100;\n        this.subSymbol.opacity = 100;\n        this.smallSubSymbol.opacity = 100;\n    },\n    reset() {\n        this.staticSymbol.stopAllActions();\n        this.bigSymbol = false;\n        this.node.opacity = 255;\n        this.staticSymbol.opacity = 255;\n        this.subSymbol.opacity = 255;\n        this.smallSubSymbol.opacity = 255;\n    },\n\n    addWildSymbol(wildSymbol) {\n        wildSymbol.active = true;\n        wildSymbol.position = cc.v2(0, 0);\n        this.staticSymbol.addChild(wildSymbol);\n        const skeleton = wildSymbol.getComponent(sp.Skeleton);\n        skeleton.setSkin(listWildAnim[this.node.symbol]);\n        skeleton.setSlotsToSetupPose();\n        skeleton.setAnimation(0, 'animation', true);\n        this.staticSymbolSprite.spriteFrame = null;\n    },\n\n    removeWildSymbol(wildSymbol) {\n        this.staticSymbol.removeChild(wildSymbol);\n        this.staticSymbolSprite.spriteFrame = this.assets[this.node.symbol];\n    },\n\n    changeToFakeSymbol(symbolName) {\n        this.staticSymbolSprite.spriteFrame = this.assets[symbolName];\n    },\n});\n"]}