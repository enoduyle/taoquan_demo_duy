{"version":3,"sources":["../../../../../../assets/cc-common/cc-slotbase-v2/component/assets/cc-common/cc-slotbase-v2/component/CutsceneMode.js"],"names":["cc","Class","extends","Component","onLoad","node","on","play","exit","init","skip","opacity","active","fullDisplay","mainDirector","content","callback","show","enter","onIngameEvent","name","emit"],"mappings":";;;;;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;AAELC,UAFK,oBAEI;AACL,aAAKC,IAAL,CAAUC,EAAV,CAAa,MAAb,EAAoB,KAAKC,IAAzB,EAA8B,IAA9B;AACA,aAAKF,IAAL,CAAUC,EAAV,CAAa,MAAb,EAAoB,KAAKE,IAAzB,EAA8B,IAA9B;AACA,aAAKH,IAAL,CAAUC,EAAV,CAAa,MAAb,EAAqB,KAAKG,IAA1B,EAAgC,IAAhC;AACA,aAAKJ,IAAL,CAAUC,EAAV,CAAa,MAAb,EAAqB,KAAKI,IAA1B,EAAgC,IAAhC;AACA,aAAKL,IAAL,CAAUM,OAAV,GAAoB,CAApB;AACA,aAAKN,IAAL,CAAUO,MAAV,GAAmB,KAAnB;AACA,aAAKP,IAAL,CAAUQ,WAAV,GAAwB,IAAxB;AACH,KAVI;AAWLJ,QAXK,gBAWAK,YAXA,EAWc;AACf,aAAKT,IAAL,CAAUS,YAAV,GAAyBA,YAAzB;AACH,KAbI;AAcLP,QAdK,gBAcAQ,OAdA,EAcSC,QAdT,EAcmB;AACpB,aAAKD,OAAL,GAAeA,OAAf;AACA,aAAKC,QAAL,GAAgBA,QAAhB;AACA,aAAKC,IAAL;AACA,aAAKC,KAAL;AACH,KAnBI;AAoBLD,QApBK,kBAoBE;AACH,aAAKZ,IAAL,CAAUM,OAAV,GAAoB,GAApB;AACA,aAAKN,IAAL,CAAUO,MAAV,GAAmB,IAAnB;AACH,KAvBI;AAwBLM,SAxBK,mBAwBG;AACJ;AACH,KA1BI;AA2BLR,QA3BK,kBA2BC,CAEL,CA7BI;AA8BLF,QA9BK,kBA8BE;AACH,YAAI,KAAKQ,QAAL,IAAiB,OAAO,KAAKA,QAAZ,IAAwB,UAA7C,EAAyD;AACrD,gBAAG,KAAKX,IAAL,CAAUS,YAAb,EAA0B;AACtB,qBAAKT,IAAL,CAAUS,YAAV,CAAuBK,aAAvB,CAAqC,mBAArC,EAA0D,KAAKd,IAAL,CAAUe,IAApE;AACH;AACD,iBAAKf,IAAL,CAAUgB,IAAV,CAAe,MAAf;AACA,iBAAKL,QAAL;AACH;AACD,aAAKX,IAAL,CAAUO,MAAV,GAAmB,KAAnB;AACH;AAvCI,CAAT","file":"CutsceneMode.js","sourceRoot":"../../../../../../assets/cc-common/cc-slotbase-v2/component","sourcesContent":["\n\ncc.Class({\n    extends: cc.Component,\n    onLoad() {\n        this.node.on(\"PLAY\",this.play,this);\n        this.node.on(\"HIDE\",this.exit,this);\n        this.node.on(\"INIT\", this.init, this);\n        this.node.on(\"SKIP\", this.skip, this);\n        this.node.opacity = 0;\n        this.node.active = false;\n        this.node.fullDisplay = true;\n    },\n    init(mainDirector) {\n        this.node.mainDirector = mainDirector;\n    }, \n    play(content, callback) {\n        this.content = content;\n        this.callback = callback;\n        this.show();\n        this.enter();\n    },\n    show() {\n        this.node.opacity = 255;\n        this.node.active = true;\n    },\n    enter() {\n        //Overwrite this when extends\n    },\n    skip(){\n        \n    },\n    exit() {\n        if (this.callback && typeof this.callback == \"function\") {\n            if(this.node.mainDirector){\n                this.node.mainDirector.onIngameEvent(\"ON_CUTSCENE_CLOSE\", this.node.name);\n            }\n            this.node.emit(\"STOP\");\n            this.callback();\n        }\n        this.node.active = false;\n    }\n});"]}