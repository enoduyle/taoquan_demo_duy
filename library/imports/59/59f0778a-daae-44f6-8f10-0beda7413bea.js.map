{"version":3,"sources":["../../../../../../assets/cc-common/cc-share-v1/common/assets/cc-common/cc-share-v1/common/globalAnimationLibrary.js"],"names":["tweenLooping","target","param","startActionListArr","endActionListArr","sequenceActionArr","actionArr","dur","undefined","easing","cc","easeSineInOut","opacity","push","fadeTo","to","from","scale","scaleTo","length","spawn","sequenceFading","sequence","repeatForever","sequenceLooping","DelayTime","CallFunc","rota","angle","randomSC","scaleX","scaleY","initSC","Math","random","i","runAction","tweenVolume","interval","soundID","volume","callback","curVolume","audioEngine","getVolume","clearInterval","BGInterval","setInterval","checkToEndTween","setVolume","curValue","endValue","checkValue","floor","abs","tweenSizeOfObject","object","curW","width","curH","height","finalWidth","finalHeight","delay","stopAllActions","delayTime","callFunc","enterframe","tweenObject","easeSineOut","actionListArr","action","dx","x","dy","y","moveTo","v2","skew","skewTo","rotate","rotateTo","sequenceAction","showScoreOnScreen","parentNode","scoreNodePrefab","scoreNode","instantiate","limitedX","limitedY","maxSC","endSC","startX","startY","endX","endY","midX","midY","getChildByName","getComponent","Label","string","score","parent","destroy","tweenVolumeV2","lastAction","soundId","node","stopAction","currentVolume","repeatTimes","volumeDelta","updateVolume","repeat","reverseEasing","t","module","exports"],"mappings":";;;;;;AAEA,IAAMA,eAAe,SAAfA,YAAe,CAACC,MAAD,EAASC,KAAT,EAAmB;AACpC,QAAIC,qBAAqB,EAAzB;AACA,QAAIC,mBAAmB,EAAvB;AACA,QAAIC,oBAAoB,EAAxB;AACA,QAAIC,YAAY,EAAhB;AACA,QAAMC,MAAML,MAAMK,GAAN,IAAaC,SAAb,GAAyB,EAAzB,GAA8BN,MAAMK,GAAhD;AACA,QAAME,SAASP,MAAMO,MAAN,IAAgBD,SAAhB,GAA4BE,GAAGC,aAAH,EAA5B,GAAiDT,MAAMO,MAAtE;;AAEA;AACA,QAAIP,MAAMU,OAAN,KAAkBJ,SAAtB,EAAiC;AAC7BL,2BAAmBU,IAAnB,CACIH,GAAGI,MAAH,CAAUP,GAAV,EAAeL,MAAMU,OAAN,CAAcG,EAA7B,EAAiCN,MAAjC,CAAwCA,MAAxC,CADJ;AAGAL,yBAAiBS,IAAjB,CACIH,GAAGI,MAAH,CAAUP,GAAV,EAAeL,MAAMU,OAAN,CAAcI,IAA7B,EAAmCP,MAAnC,CAA0CA,MAA1C,CADJ;AAGH;;AAED;AACA,QAAIP,MAAMe,KAAN,KAAgBT,SAApB,EAA+B;AAC3BL,2BAAmBU,IAAnB,CACIH,GAAGQ,OAAH,CAAWX,GAAX,EAAgBL,MAAMe,KAAN,CAAYF,EAA5B,EAAgCN,MAAhC,CAAuCA,MAAvC,CADJ;AAGAL,yBAAiBS,IAAjB,CACIH,GAAGQ,OAAH,CAAWX,GAAX,EAAgBL,MAAMe,KAAN,CAAYD,IAA5B,EAAkCP,MAAlC,CAAyCA,MAAzC,CADJ;AAGH;;AAED;AACA,QAAIN,mBAAmBgB,MAAnB,IAA6B,CAAjC,EAAoC;AAChCb,kBAAU,CAAV,IAAeI,GAAGU,KAAH,CAASjB,kBAAT,CAAf;AACH,KAFD,MAEO;AACH,YAAIA,mBAAmBgB,MAAnB,IAA6B,CAAjC,EAAoC;AAChCb,sBAAU,CAAV,IAAeH,mBAAmB,CAAnB,CAAf;AACH;AACJ;;AAED;AACA,QAAIC,iBAAiBe,MAAjB,IAA2B,CAA/B,EAAkC;AAC9Bb,kBAAU,CAAV,IAAeI,GAAGU,KAAH,CAAShB,gBAAT,CAAf;AACH,KAFD,MAEO;AACH,YAAIA,iBAAiBe,MAAjB,IAA2B,CAA/B,EAAkC;AAC9Bb,sBAAU,CAAV,IAAeF,iBAAiB,CAAjB,CAAf;AACH;AACJ;;AAED;AACA,QAAIE,UAAUa,MAAV,GAAkB,CAAtB,EAAyB;AACrB,YAAME,iBAAiBX,GAAGY,QAAH,CACnBhB,UAAU,CAAV,CADmB,EAEnBA,UAAU,CAAV,CAFmB,EAGrBiB,aAHqB,EAAvB;AAIAlB,0BAAkBQ,IAAlB,CAAuBQ,cAAvB;AACH;;AAED;AACA,QAAMG,kBAAkBd,GAAGY,QAAH,CACpB,IAAIZ,GAAGe,SAAP,CAAiB,MAAjB,CADoB,EAEpB,IAAIf,GAAGgB,QAAP,CAAgB,YAAM;AAClB;AACA,YAAIxB,MAAMyB,IAAN,IAAcnB,SAAlB,EAA6B;AACzBP,mBAAO2B,KAAP,IAAgB1B,MAAMyB,IAAtB;AACH;;AAED;AACA,YAAIzB,MAAM2B,QAAN,IAAkBrB,SAAtB,EAAiC;AAC7BP,mBAAO6B,MAAP,GAAgB7B,OAAO8B,MAAP,GAAgB9B,OAAO+B,MAAP,GAAgB,CAACC,KAAKC,MAAL,KAAgBD,KAAKC,MAAL,EAAjB,IAAkChC,MAAM2B,QAAxF;AACH;AACJ,KAVD,CAFoB,EAatBN,aAbsB,EAAxB;AAcAlB,sBAAkBQ,IAAlB,CAAuBW,eAAvB;;AAEA;AACA,SAAK,IAAIW,IAAI,CAAb,EAAgBA,IAAI9B,kBAAkBc,MAAtC,EAA8CgB,GAA9C,EAAkD;AAC9ClC,eAAOmC,SAAP,CAAiB/B,kBAAkB8B,CAAlB,CAAjB;AACH;AACJ,CA5ED;;AA+EA,IAAME,cAAc,SAAdA,WAAc,CAACC,QAAD,EAAWC,OAAX,EAAoBC,MAApB,EAA4BjC,GAA5B,EAAiCkC,QAAjC,EAA8C;;AAE9D,QAAIC,YAAYhC,GAAGiC,WAAH,CAAeC,SAAf,CAAyBL,OAAzB,CAAhB;AACAM,kBAAcP,QAAd;AACA,QAAMQ,aAAaC,YAAY,YAAM;AACjCL,qBAAa,CAACF,SAASE,SAAV,KAAwBnC,MAAI,GAA5B,CAAb;AACAyC,wBAAgBN,SAAhB,EAA2BF,MAA3B;AACA9B,WAAGiC,WAAH,CAAeM,SAAf,CAAyBV,OAAzB,EAAkCG,SAAlC;AACH,KAJkB,EAIhB,KAAK,GAJW,CAAnB;;AAMA;AACA,QAAMM,kBAAkB,SAAlBA,eAAkB,CAACE,QAAD,EAAWC,QAAX,EAAwB;AAC5C,YAAMC,aAAanB,KAAKoB,KAAL,CAAWpB,KAAKqB,GAAL,CAASJ,YAAYC,WAAW,KAAvB,CAAT,CAAX,CAAnB;AACA,YAAIC,cAAc,EAAlB,EAAsB;AAClBF,uBAAWC,QAAX;AACAN,0BAAcC,UAAd;AACA,gBAAIL,YAAY,OAAOA,QAAP,KAAoB,UAApC,EAAgD;AAC5CA;AACH;AACJ;AACJ,KATD;;AAWA,WAAOK,UAAP;AACH,CAvBD;;AAyBA,IAAMS,oBAAoB,SAApBA,iBAAoB,CAACC,MAAD,EAAStD,KAAT,EAAgBuC,QAAhB,EAA6B;AACnD,QAAIgB,OAAOD,OAAOE,KAAlB;AACA,QAAIC,OAAOH,OAAOI,MAAlB;AACA,QAAMC,aAAa3D,MAAMwD,KAAzB;AACA,QAAMI,cAAc5D,MAAM0D,MAA1B;AACA,QAAMrD,MAAML,MAAMK,GAAN,IAAaC,SAAb,GAAyBN,MAAMK,GAAN,GAAY,GAArC,GAA2C,EAAvD;AACA,QAAMwD,QAAQ7D,MAAM6D,KAAN,IAAevD,SAAf,GAA2BN,MAAM6D,KAAjC,GAAyC,CAAvD;;AAEAlB,kBAAcW,OAAOlB,QAArB;AACAkB,WAAOQ,cAAP;AACAR,WAAOpB,SAAP,CAAiB1B,GAAGY,QAAH,CACbZ,GAAGuD,SAAH,CAAaF,KAAb,CADa,EAEbrD,GAAGwD,QAAH,CAAY,YAAM;AACdC;AACH,KAFD,CAFa,CAAjB;;AAOA;AACA,QAAMA,aAAa,SAAbA,UAAa,GAAM;AACrBX,eAAOlB,QAAP,GAAkBS,YAAY,YAAM;AAChC;AACA,gBAAIc,cAAcrD,SAAlB,EAA6B;AACzBiD,wBAAQ,CAACI,aAAaJ,IAAd,IAAsBlD,GAA9B;AACAiD,uBAAOE,KAAP,GAAeD,IAAf;AACAT,gCAAgBS,IAAhB,EAAsBI,UAAtB;AACH;;AAED;AACA,gBAAIC,eAAetD,SAAnB,EAA8B;AAC1BmD,wBAAQ,CAACG,cAAcH,IAAf,IAAuBpD,GAA/B;AACAiD,uBAAOI,MAAP,GAAgBD,IAAhB;AACAX,gCAAgBW,IAAhB,EAAsBG,WAAtB;AACH;AACJ,SAdiB,EAcf,KAAK,GAdU,CAAlB;AAeH,KAhBD;;AAkBA;AACA,QAAMd,kBAAkB,SAAlBA,eAAkB,CAACE,QAAD,EAAUC,QAAV,EAAuB;AAC3C,YAAMC,aAAanB,KAAKoB,KAAL,CAAWpB,KAAKqB,GAAL,CAASJ,YAAYC,WAAW,KAAvB,CAAT,CAAX,CAAnB;AACA,YAAIC,cAAc,EAAlB,EAAsB;AAClBF,uBAAWC,QAAX;AACAN,0BAAcW,OAAOlB,QAArB;AACA,gBAAIG,YAAY,OAAOA,QAAP,KAAoB,UAApC,EAAgD;AAC5CA;AACH;AACJ;AACJ,KATD;AAUH,CA/CD;;AAkDA,IAAM2B,cAAc,SAAdA,WAAc,CAACnE,MAAD,EAASC,KAAT,EAAmB;AACnC,QAAM6D,QAAQ7D,MAAM6D,KAAN,IAAevD,SAAf,GAA2B,CAA3B,GAA+BN,MAAM6D,KAAnD;AACA,QAAMxD,MAAML,MAAMK,GAAN,IAAaC,SAAb,GAAyB,EAAzB,GAA8BN,MAAMK,GAAhD;AACA,QAAME,SAASP,MAAMO,MAAN,IAAgBD,SAAhB,GAA4BE,GAAG2D,WAAH,EAA5B,GAA+CnE,MAAMO,MAApE;;AAEA,QAAI6D,gBAAgB,EAApB;AACA,QAAIC,SAAS,IAAb;AACA,QAAMC,KAAKtE,MAAMsE,EAAN,IAAYhE,SAAZ,GAAwBP,OAAOwE,CAA/B,GAAmCvE,MAAMsE,EAApD;AACA,QAAME,KAAKxE,MAAMwE,EAAN,IAAYlE,SAAZ,GAAwBP,OAAO0E,CAA/B,GAAmCzE,MAAMwE,EAApD;;AAEA;AACA,QAAIxE,MAAMsE,EAAN,KAAahE,SAAb,IAA0BN,MAAMwE,EAAN,KAAalE,SAA3C,EAAsD;AAClD8D,sBAAczD,IAAd,CAAmBH,GAAGkE,MAAH,CAAUrE,GAAV,EAAeG,GAAGmE,EAAH,CAAML,EAAN,EAAUE,EAAV,CAAf,EAA8BjE,MAA9B,CAAqCA,MAArC,CAAnB;AACH;;AAED;AACA,QAAIP,MAAMe,KAAN,KAAgBT,SAApB,EAA+B;AAC3B8D,sBAAczD,IAAd,CAAmBH,GAAGQ,OAAH,CAAWX,GAAX,EAAgBL,MAAMe,KAAtB,EAA6BR,MAA7B,CAAoCA,MAApC,CAAnB;AACH;;AAED;AACA,QAAIP,MAAM4B,MAAN,KAAiBtB,SAArB,EAAgC;AAC5B8D,sBAAczD,IAAd,CAAmBH,GAAGQ,OAAH,CAAWX,GAAX,EAAgBL,MAAM4B,MAAtB,EAA8B7B,OAAO8B,MAArC,EAA6CtB,MAA7C,CAAoDA,MAApD,CAAnB;AACH;;AAED;AACA,QAAIP,MAAM6B,MAAN,KAAiBvB,SAArB,EAAgC;AAC5B8D,sBAAczD,IAAd,CAAmBH,GAAGQ,OAAH,CAAWX,GAAX,EAAgBN,OAAO6B,MAAvB,EAA+B5B,MAAM6B,MAArC,EAA6CtB,MAA7C,CAAoDA,MAApD,CAAnB;AACH;;AAED;AACA,QAAIP,MAAM4E,IAAN,KAAetE,SAAnB,EAA8B;AAC1B8D,sBAAczD,IAAd,CAAmBH,GAAGqE,MAAH,CAAUxE,GAAV,EAAeL,MAAM4E,IAArB,EAA2B5E,MAAM4E,IAAjC,EAAuCrE,MAAvC,CAA8CA,MAA9C,CAAnB;AACH;;AAED;AACA,QAAIP,MAAM8E,MAAN,KAAiBxE,SAArB,EAAgC;AAC5B8D,sBAAczD,IAAd,CAAmBH,GAAGuE,QAAH,CAAY1E,GAAZ,EAAiBL,MAAM8E,MAAvB,EAA+BvE,MAA/B,CAAsCA,MAAtC,CAAnB;AACH;;AAED;AACA,QAAIP,MAAMU,OAAN,KAAkBJ,SAAtB,EAAiC;AAC7B8D,sBAAczD,IAAd,CAAmBH,GAAGI,MAAH,CAAUP,GAAV,EAAeL,MAAMU,OAArB,EAA8BH,MAA9B,CAAqCA,MAArC,CAAnB;AACH;;AAED,QAAI6D,cAAcnD,MAAd,IAAwB,CAA5B,EAA+B;AAC3BoD,iBAAS7D,GAAGU,KAAH,CAASkD,aAAT,CAAT;AACH,KAFD,MAEO;AACHC,iBAASD,cAAc,CAAd,CAAT;AACH;;AAED,QAAML,YAAYvD,GAAGuD,SAAH,CAAaF,KAAb,CAAlB;AACA,QAAMG,WAAWxD,GAAGwD,QAAH,CAAY,YAAM;AAC/B,YAAIhE,MAAMuC,QAAN,IAAkB,OAAOvC,MAAMuC,QAAb,KAA0B,UAAhD,EAA4D;AACxDvC,kBAAMuC,QAAN;AACH;AACJ,KAJgB,CAAjB;;AAMA,QAAMyC,iBAAiBxE,GAAGY,QAAH,CAAY2C,SAAZ,EAAuBM,MAAvB,EAA+BL,QAA/B,CAAvB;AACAjE,WAAOmC,SAAP,CAAiB8C,cAAjB;AACH,CA5DD;;AA8DA,IAAMC,oBAAoB,SAApBA,iBAAoB,CAACC,UAAD,EAAaC,eAAb,EAA8BnF,KAA9B,EAAwC;AAC9D,QAAMoF,YAAY5E,GAAG6E,WAAH,CAAeF,eAAf,CAAlB;AACA,QAAMtB,QAAQ7D,MAAM6D,KAAN,KAAgBvD,SAAhB,GAA4BN,MAAM6D,KAAlC,GAA0C,CAAxD;AACA,QAAMxD,MAAML,MAAMK,GAAN,KAAcC,SAAd,GAA0BN,MAAMK,GAAhC,GAAsC,EAAlD;AACA,QAAMiF,WAAWtF,MAAMsF,QAAN,KAAmBhF,SAAnB,GAA+BN,MAAMsF,QAArC,GAAgD,GAAjE;AACA,QAAMC,WAAWvF,MAAMuF,QAAN,KAAmBjF,SAAnB,GAA+BN,MAAMuF,QAArC,GAAgD,GAAjE;AACA,QAAMC,QAAQxF,MAAMwF,KAAN,KAAgBlF,SAAhB,GAA4BN,MAAMwF,KAAlC,GAA0CJ,UAAUrE,KAAV,GAAkB,CAA1E;AACA,QAAM0E,QAAQzF,MAAMyF,KAAN,KAAgBnF,SAAhB,GAA4BN,MAAMyF,KAAlC,GAA0CL,UAAUrE,KAAV,GAAkB,CAA1E;AACA,QAAM2E,SAAS1F,MAAM0F,MAArB;AACA,QAAMC,SAAS3F,MAAM2F,MAArB;AACA,QAAMC,OAAO5F,MAAM4F,IAAnB;AACA,QAAMC,OAAO7F,MAAM6F,IAAnB;AACA,QAAIC,OAAOJ,SAAS,CAACE,OAAOF,MAAR,IAAkB,CAAtC;AACA,QAAIK,OAAOJ,SAAS,CAACE,OAAOF,MAAR,IAAkB,CAAtC;;AAEA;AACA,QAAIG,OAAOJ,SAASJ,QAApB,EAA8B;AAC1BQ,eAAOJ,SAASJ,QAAhB;AACH;;AAED,QAAIS,OAAOJ,SAASJ,QAApB,EAA8B;AAC1BQ,eAAOJ,SAASJ,QAAhB;AACH;;AAEDH,cAAUY,cAAV,CAAyB,OAAzB,EAAkCC,YAAlC,CAA+CzF,GAAG0F,KAAlD,EAAyDC,MAAzD,GAAkEnG,MAAMoG,KAAxE;AACAhB,cAAUb,CAAV,GAAcmB,MAAd;AACAN,cAAUX,CAAV,GAAckB,MAAd;AACAP,cAAUiB,MAAV,GAAmBnB,UAAnB;;AAEAhB,gBAAYkB,SAAZ,EAAuB,EAAC,OAAO/E,MAAM,CAAd,EAAiB,SAASwD,KAA1B,EAAiC,MAAMiC,IAAvC,EAA6C,MAAMC,IAAnD,EAAyD,SAASP,KAAlE,EAAyE,UAAU,IAAIhF,GAAG2D,WAAP,EAAnF,EAAyG,YAAY,oBAAM;AAC9ID,wBAAYkB,SAAZ,EAAuB,EAAE,OAAO/E,GAAT,EAAc,SAAS,EAAvB,EAA2B,MAAMuF,IAAjC,EAAuC,MAAMC,IAA7C,EAAmD,SAASJ,KAA5D,EAAmE,UAAU,IAAIjF,GAAGC,aAAP,EAA7E,EAAvB;AACAyD,wBAAYkB,SAAZ,EAAuB,EAAC,OAAO/E,GAAR,EAAa,SAASA,MAAM,GAA5B,EAAiC,WAAW,CAA5C,EAA+C,UAAU,IAAIG,GAAGC,aAAP,EAAzD,EAAiF,YAAY,oBAAM;AACtH2E,8BAAUkB,OAAV;AACA,wBAAItG,MAAMuC,QAAN,IAAkB,OAAOvC,MAAMuC,QAAb,KAA0B,UAAhD,EAA4D;AACxDvC,8BAAMuC,QAAN;AACH;AACJ,iBALsB,EAAvB;AAMH,SARsB,EAAvB;AASH,CAtCD;;AAwCA,IAAMgE,gBAAgB,SAAhBA,aAAgB;AAAA,WAAQ,UAACC,UAAD,EAAaC,OAAb,EAAsBnE,MAAtB,EAA8BjC,GAA9B,EAAmCkC,QAAnC,EAAgD;AAC1E,YAAIiE,UAAJ,EAAgBE,KAAKC,UAAL,CAAgBH,UAAhB;;AAEhB,YAAII,gBAAgBpG,GAAGiC,WAAH,CAAeC,SAAf,CAAyB+D,OAAzB,CAApB;AACA,YAAMrE,WAAW,GAAjB,CAJ0E,CAIpD;AACtB,YAAMyE,cAAc9E,KAAKoB,KAAL,CAAW9C,MAAI,IAAJ,GAAW+B,QAAtB,CAApB;AACA,YAAM0E,cAAc,CAACxE,SAASsE,aAAV,IAA2BC,WAA/C;;AAEA,YAAME,eAAevG,GAAGY,QAAH,CACjBZ,GAAGwD,QAAH,CAAY,YAAM;AACd4C,6BAAiBE,WAAjB;AACAtG,eAAGiC,WAAH,CAAeM,SAAf,CAAyB0D,OAAzB,EAAkCG,aAAlC;AACH,SAHD,CADiB,EAKjBpG,GAAGuD,SAAH,CAAa3B,WAAS,IAAtB,CALiB,CAArB;;AAQA,YAAMiC,SAAS7D,GAAGY,QAAH,CACXZ,GAAGwG,MAAH,CAAUD,YAAV,EAAwBF,cAAY,CAApC,CADW,EAEXrG,GAAGwD,QAAH,CAAY,YAAM;AACdxD,eAAGiC,WAAH,CAAeM,SAAf,CAAyB0D,OAAzB,EAAkCnE,MAAlC;AACA,gBAAIC,YAAY,OAAOA,QAAP,KAAoB,UAApC,EAAgD;AAC5CA;AACH;AACJ,SALD,CAFW,CAAf;AASAmE,aAAKxE,SAAL,CAAemC,MAAf;AACA,eAAOA,MAAP;AACH,KA3BqB;AAAA,CAAtB;;AA6BA,IAAM4C,gBAAgB,SAAhBA,aAAgB;AAAA,WAAU;AAAA,eAAK,IAAI1G,OAAO,IAAE2G,CAAT,CAAT;AAAA,KAAV;AAAA,CAAtB;;AAEAC,OAAOC,OAAP,GAAiB;AACbtH,8BADa;AAEbqC,4BAFa;AAGb+B,4BAHa;AAIbb,wCAJa;AAKb4B,wCALa;AAMbsB,gCANa;AAObU;AAPa,CAAjB","file":"globalAnimationLibrary.js","sourceRoot":"../../../../../../assets/cc-common/cc-share-v1/common","sourcesContent":["\n\nconst tweenLooping = (target, param) => {\n    let startActionListArr = [];\n    let endActionListArr = [];\n    let sequenceActionArr = [];\n    let actionArr = [];\n    const dur = param.dur == undefined ? .5 : param.dur;\n    const easing = param.easing == undefined ? cc.easeSineInOut() : param.easing;\n\n    //opacity\n    if (param.opacity !== undefined) {\n        startActionListArr.push(\n            cc.fadeTo(dur, param.opacity.to).easing(easing)\n        );\n        endActionListArr.push(\n            cc.fadeTo(dur, param.opacity.from).easing(easing)\n        );\n    }\n\n    //scale\n    if (param.scale !== undefined) {\n        startActionListArr.push(\n            cc.scaleTo(dur, param.scale.to).easing(easing)\n        );\n        endActionListArr.push(\n            cc.scaleTo(dur, param.scale.from).easing(easing)\n        );\n    }\n\n    //start\n    if (startActionListArr.length >= 2) {\n        actionArr[0] = cc.spawn(startActionListArr);\n    } else {\n        if (startActionListArr.length >= 1) {\n            actionArr[0] = startActionListArr[0];\n        }\n    }\n\n    //end\n    if (endActionListArr.length >= 2) {\n        actionArr[1] = cc.spawn(endActionListArr);\n    } else {\n        if (endActionListArr.length >= 1) {\n            actionArr[1] = endActionListArr[0];\n        }\n    }\n\n    //\n    if (actionArr.length >0) {\n        const sequenceFading = cc.sequence(\n            actionArr[0],\n            actionArr[1]\n        ).repeatForever();\n        sequenceActionArr.push(sequenceFading);\n    }\n\n    //\n    const sequenceLooping = cc.sequence(\n        new cc.DelayTime(.00001),\n        new cc.CallFunc(() => {\n            //rotation\n            if (param.rota != undefined) {\n                target.angle += param.rota;\n            }\n\n            //randomSC\n            if (param.randomSC != undefined) {\n                target.scaleX = target.scaleY = target.initSC + (Math.random() - Math.random()) * param.randomSC;\n            }\n        })\n    ).repeatForever();\n    sequenceActionArr.push(sequenceLooping);\n    \n    //run all actions;\n    for (let i = 0; i < sequenceActionArr.length; i++){\n        target.runAction(sequenceActionArr[i]);\n    }\n};\n\n\nconst tweenVolume = (interval, soundID, volume, dur, callback) => {\n\n    let curVolume = cc.audioEngine.getVolume(soundID);\n    clearInterval(interval);\n    const BGInterval = setInterval(() => {\n        curVolume += (volume - curVolume) / (dur*100);\n        checkToEndTween(curVolume, volume);\n        cc.audioEngine.setVolume(soundID, curVolume);\n    }, 60 / 100);  \n\n    //check to end this tween.\n    const checkToEndTween = (curValue, endValue) => {\n        const checkValue = Math.floor(Math.abs(curValue - (endValue + 0.001)));\n        if (checkValue <= .1) {\n            curValue = endValue;\n            clearInterval(BGInterval);\n            if (callback && typeof callback === 'function') {\n                callback();\n            }\n        }\n    };\n    \n    return BGInterval;\n};\n\nconst tweenSizeOfObject = (object, param, callback) => {\n    let curW = object.width;\n    let curH = object.height;\n    const finalWidth = param.width;\n    const finalHeight = param.height;\n    const dur = param.dur != undefined ? param.dur * 100 : 50;\n    const delay = param.delay != undefined ? param.delay : 0;\n    \n    clearInterval(object.interval);\n    object.stopAllActions();\n    object.runAction(cc.sequence(\n        cc.delayTime(delay),\n        cc.callFunc(() => {\n            enterframe();\n        })\n    ));\n\n    //end every time\n    const enterframe = () => {\n        object.interval = setInterval(() => {\n            //width\n            if (finalWidth != undefined) {\n                curW += (finalWidth - curW) / dur;\n                object.width = curW;\n                checkToEndTween(curW, finalWidth);\n            }\n\n            //height\n            if (finalHeight != undefined) {\n                curH += (finalHeight - curH) / dur;\n                object.height = curH;\n                checkToEndTween(curH, finalHeight);\n            }\n        }, 60 / 100);\n    };\n\n    //check to end this tween.\n    const checkToEndTween = (curValue,endValue) => {\n        const checkValue = Math.floor(Math.abs(curValue - (endValue + 0.001)));\n        if (checkValue <= .1) {\n            curValue = endValue;\n            clearInterval(object.interval);\n            if (callback && typeof callback === 'function') {\n                callback();\n            }\n        }\n    };\n};\n\n\nconst tweenObject = (target, param) => {\n    const delay = param.delay == undefined ? 0 : param.delay;\n    const dur = param.dur == undefined ? .5 : param.dur;\n    const easing = param.easing == undefined ? cc.easeSineOut() : param.easing;\n\n    let actionListArr = [];\n    let action = null;\n    const dx = param.dx == undefined ? target.x : param.dx;\n    const dy = param.dy == undefined ? target.y : param.dy;\n\n    //position\n    if (param.dx !== undefined || param.dy !== undefined) {\n        actionListArr.push(cc.moveTo(dur, cc.v2(dx, dy)).easing(easing));\n    }\n\n    //scale\n    if (param.scale !== undefined) {\n        actionListArr.push(cc.scaleTo(dur, param.scale).easing(easing));\n    }\n\n    //scaleX\n    if (param.scaleX !== undefined) {\n        actionListArr.push(cc.scaleTo(dur, param.scaleX, target.scaleY).easing(easing));\n    }\n\n    //scaleY\n    if (param.scaleY !== undefined) {\n        actionListArr.push(cc.scaleTo(dur, target.scaleX, param.scaleY).easing(easing));\n    }\n\n    //skewTo\n    if (param.skew !== undefined) {\n        actionListArr.push(cc.skewTo(dur, param.skew, param.skew).easing(easing));\n    }\n\n    //rotation\n    if (param.rotate !== undefined) {\n        actionListArr.push(cc.rotateTo(dur, param.rotate).easing(easing));\n    }\n\n    //opacity\n    if (param.opacity !== undefined) {\n        actionListArr.push(cc.fadeTo(dur, param.opacity).easing(easing));\n    }\n\n    if (actionListArr.length >= 2) {\n        action = cc.spawn(actionListArr);\n    } else {\n        action = actionListArr[0];\n    }\n\n    const delayTime = cc.delayTime(delay);\n    const callFunc = cc.callFunc(() => {\n        if (param.callback && typeof param.callback === 'function') {\n            param.callback();\n        }\n    });\n\n    const sequenceAction = cc.sequence(delayTime, action, callFunc);\n    target.runAction(sequenceAction);\n};\n\nconst showScoreOnScreen = (parentNode, scoreNodePrefab, param) => {\n    const scoreNode = cc.instantiate(scoreNodePrefab);\n    const delay = param.delay !== undefined ? param.delay : 0;\n    const dur = param.dur !== undefined ? param.dur : .5;\n    const limitedX = param.limitedX !== undefined ? param.limitedX : 100;\n    const limitedY = param.limitedY !== undefined ? param.limitedY : 300;\n    const maxSC = param.maxSC !== undefined ? param.maxSC : scoreNode.scale + 1;\n    const endSC = param.endSC !== undefined ? param.endSC : scoreNode.scale / 2;\n    const startX = param.startX;\n    const startY = param.startY;\n    const endX = param.endX;\n    const endY = param.endY;\n    let midX = startX + (endX - startX) / 3;\n    let midY = startY - (endY - startY) / 3;\n\n    //limited distance\n    if (midX > startX + limitedX) {\n        midX = startX + limitedX;\n    }\n\n    if (midY > startY + limitedY) {\n        midY = startY + limitedY;\n    }\n\n    scoreNode.getChildByName(\"score\").getComponent(cc.Label).string = param.score;\n    scoreNode.x = startX;\n    scoreNode.y = startY;\n    scoreNode.parent = parentNode;\n\n    tweenObject(scoreNode, {\"dur\": dur / 4, \"delay\": delay, \"dx\": midX, \"dy\": midY, \"scale\": maxSC, \"easing\": new cc.easeSineOut(), \"callback\": () => {\n        tweenObject(scoreNode, { \"dur\": dur, \"delay\": .2, \"dx\": endX, \"dy\": endY, \"scale\": endSC, \"easing\": new cc.easeSineInOut() });\n        tweenObject(scoreNode, {\"dur\": dur, \"delay\": dur / 1.5, \"opacity\": 0, \"easing\": new cc.easeSineInOut(), \"callback\": () => {\n            scoreNode.destroy();\n            if (param.callback && typeof param.callback === 'function') {\n                param.callback();\n            }\n        }});\n    }});\n};\n\nconst tweenVolumeV2 = node => (lastAction, soundId, volume, dur, callback) => {\n    if (lastAction) node.stopAction(lastAction);\n\n    let currentVolume = cc.audioEngine.getVolume(soundId);\n    const interval = 100; // 100ms\n    const repeatTimes = Math.floor(dur*1000 / interval);\n    const volumeDelta = (volume - currentVolume) / repeatTimes;\n\n    const updateVolume = cc.sequence(\n        cc.callFunc(() => {\n            currentVolume += volumeDelta;\n            cc.audioEngine.setVolume(soundId, currentVolume);\n        }),\n        cc.delayTime(interval/1000),\n    );\n\n    const action = cc.sequence(\n        cc.repeat(updateVolume, repeatTimes-1),\n        cc.callFunc(() => {\n            cc.audioEngine.setVolume(soundId, volume);\n            if (callback && typeof callback === 'function') {\n                callback();\n            }\n        }),\n    );\n    node.runAction(action);\n    return action;\n};\n\nconst reverseEasing = easing => t => 1 - easing(1-t);\n\nmodule.exports = {\n    tweenLooping,\n    tweenVolume,\n    tweenObject,\n    tweenSizeOfObject,\n    showScoreOnScreen,\n    tweenVolumeV2,\n    reverseEasing,\n};\n"]}