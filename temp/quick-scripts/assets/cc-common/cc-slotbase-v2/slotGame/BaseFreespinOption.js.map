{"version":3,"sources":["BaseFreespinOption.js"],"names":["cc","Class","extends","require","properties","options","Node","onLoad","_super","director","node","mainDirector","getComponent","opacity","enter","children","forEach","item","Button","interactable","optionClick","ev","index","i","currentGameMode","freeSpinOptionTrigger","exit","callback","onIngameEvent","name","emit","active"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASC,QAAQ,cAAR,CADJ;;AAGLC,gBAAY;AACRC,iBAASL,GAAGM;AADJ,KAHP;;AAOLC,UAPK,oBAOI;AACL,aAAKC,MAAL;AACA,aAAKC,QAAL,GAAgB,KAAKC,IAAL,CAAUC,YAAV,CAAuBC,YAAvB,CAAoC,UAApC,CAAhB;AACA,aAAKF,IAAL,CAAUG,OAAV,GAAoB,CAApB;AACH,KAXI;;;AAaL;AACAC,SAdK,mBAcG;AACJ,aAAKT,OAAL,CAAaU,QAAb,CAAsBC,OAAtB,CAA8B,UAACC,IAAD,EAAU;AACpCA,iBAAKL,YAAL,CAAkBZ,GAAGkB,MAArB,EAA6BC,YAA7B,GAA4C,IAA5C;AACAF,iBAAKJ,OAAL,GAAe,GAAf;AACH,SAHD;AAIH,KAnBI;;;AAqBL;AACAO,eAtBK,uBAsBOC,EAtBP,EAsBWC,KAtBX,EAsBkB;AAAA;;AACnB,aAAKjB,OAAL,CAAaU,QAAb,CAAsBC,OAAtB,CAA8B,UAACC,IAAD,EAAOM,CAAP,EAAa;AACvCN,iBAAKL,YAAL,CAAkBZ,GAAGkB,MAArB,EAA6BC,YAA7B,GAA4C,KAA5C;AACA,gBAAII,KAAKD,KAAT,EAAgB;AACZL,qBAAKJ,OAAL,GAAe,GAAf;AACH,aAFD,MAGK;AACD,sBAAKJ,QAAL,CAAce,eAAd,CAA8Bf,QAA9B,CAAuCgB,qBAAvC,CAA6DF,CAA7D;AACAN,qBAAKJ,OAAL,GAAe,GAAf;AACH;AACJ,SATD;AAUH,KAjCI;;;AAmCL;AACAa,QApCK,kBAoCE;AACH,YAAI,KAAKC,QAAL,IAAiB,OAAO,KAAKA,QAAZ,IAAwB,UAA7C,EAAyD;AACrD,gBAAG,KAAKjB,IAAL,CAAUC,YAAb,EAA0B;AACtB,qBAAKD,IAAL,CAAUC,YAAV,CAAuBiB,aAAvB,CAAqC,mBAArC,EAA0D,KAAKlB,IAAL,CAAUmB,IAApE;AACH;AACD,iBAAKnB,IAAL,CAAUoB,IAAV,CAAe,MAAf;AACA,iBAAKH,QAAL;AACH;AACD,aAAKjB,IAAL,CAAUqB,MAAV,GAAmB,KAAnB;AACH;AA7CI,CAAT","file":"BaseFreespinOption.js","sourceRoot":"../../../../../../assets/cc-common/cc-slotbase-v2/slotGame","sourcesContent":["\ncc.Class({\n    extends: require('CutsceneMode'),\n\n    properties: {\n        options: cc.Node,\n    },\n\n    onLoad() {\n        this._super();\n        this.director = this.node.mainDirector.getComponent('Director');\n        this.node.opacity = 0;\n    },\n\n    //enable option when open\n    enter() {\n        this.options.children.forEach((item) => {\n            item.getComponent(cc.Button).interactable = true;\n            item.opacity = 255;\n        });\n    },\n\n    //disable option when close\n    optionClick(ev, index) {\n        this.options.children.forEach((item, i) => {\n            item.getComponent(cc.Button).interactable = false;\n            if (i != index) {\n                item.opacity = 150;\n            }\n            else {\n                this.director.currentGameMode.director.freeSpinOptionTrigger(i);\n                item.opacity = 255;\n            }\n        });\n    },\n\n    //play anim if any before close\n    exit() {\n        if (this.callback && typeof this.callback == \"function\") {\n            if(this.node.mainDirector){\n                this.node.mainDirector.onIngameEvent(\"ON_CUTSCENE_CLOSE\", this.node.name);\n            }\n            this.node.emit(\"STOP\");\n            this.callback();\n        }\n        this.node.active = false;\n    }\n});\n"]}