{"version":3,"sources":["../../../../../../assets/cc-common/cc-slotbase-v2/component/assets/cc-common/cc-slotbase-v2/component/IntroGame.js"],"names":["cc","Class","extends","Component","properties","pageView","PageView","introNodes","type","Node","default","anchorPages","buttons","Button","isLoading","btnJoinGame","gameId","doNotShowNode","onLoad","node","on","enableButtonJoinGame","showButtonJoinGame","init","currentIndex","globalThis","currentIntroPage","showPageIntro","cacheValue","JSON","parse","sys","localStorage","getItem","isHideIntroGame","active","opacity","_onPageTurning","getCurrentPageIndex","onNextIntro","setCurrentPageIndex","onPrevIntro","forEach","item","index","isShow","interactable","onClickJoinGame","cacheHideIntroGame","runAction","sequence","fadeOut","callFunc","setItem","stringify","onCheckDoNotShowAgain","isEnable"],"mappings":"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","file":"IntroGame.js","sourceRoot":"../../../../../../assets/cc-common/cc-slotbase-v2/component","sourcesContent":["cc.Class({\n    extends: cc.Component,\n    properties: {\n        pageView: cc.PageView,\n        introNodes: { type: cc.Node, default: [] },\n        anchorPages: { type: cc.Node, default: [] },\n        buttons: { type: cc.Button, default: [] },\n        isLoading: false,\n        btnJoinGame: cc.Button,\n        gameId: \"\",\n        doNotShowNode: cc.Node,\n    },\n    onLoad() {\n        this.node.on(\"ENABLE_BUTTON_JOIN_GAME\", this.enableButtonJoinGame, this);\n        this.node.on(\"SHOW_BUTTON_JOIN_GAME\", this.showButtonJoinGame, this);\n        this.init();\n    },\n    init() {\n        this.currentIndex = globalThis.currentIntroPage || 0;\n        if (this.isLoading) this.currentIndex = 0;\n        this.showPageIntro();\n        if (!this.isLoading) {\n            const cacheValue = JSON.parse(cc.sys.localStorage.getItem(\"HideIntroGame\")) || {};\n            this.isHideIntroGame = cacheValue[this.gameId];\n            this.node.active = !this.isHideIntroGame;\n            this.node.opacity = 255;\n            this.showButtonJoinGame(false);\n        }\n        this.pageView.node.on('page-turning', this._onPageTurning, this);\n    },\n    _onPageTurning(){\n        this.currentIndex = this.pageView.getCurrentPageIndex();\n        this.showPageIntro();\n    },\n    onNextIntro() {\n        this.currentIndex++;\n        this.showPageIntro();\n        this.pageView.setCurrentPageIndex(this.currentIndex);\n    },\n    onPrevIntro() {\n        this.currentIndex--;\n        this.showPageIntro();\n        this.pageView.setCurrentPageIndex(this.currentIndex);\n    },\n    showPageIntro() {\n        globalThis.currentIntroPage = this.currentIndex;\n        this.introNodes.forEach((item, index) => {\n            const isShow = index == this.currentIndex;\n            item.active = isShow;\n            this.anchorPages[index].active = isShow;\n            this.buttons[index].interactable = isShow;\n        });\n    },\n    onClickJoinGame() {\n        this.cacheHideIntroGame();\n        this.node.runAction(cc.sequence(\n            cc.fadeOut(0.2),\n            cc.callFunc(() => {\n                this.node.active = false;\n            })\n        ));\n    },\n    cacheHideIntroGame() {\n        const cacheValue = {};\n        cacheValue[this.gameId] = this.isHideIntroGame;\n        cc.sys.localStorage.setItem(\"HideIntroGame\", JSON.stringify(cacheValue));\n    },\n    onCheckDoNotShowAgain() {\n        this.isHideIntroGame = !this.isHideIntroGame;\n    },\n    enableButtonJoinGame(isEnable) {\n        this.btnJoinGame && (this.btnJoinGame.interactable = isEnable);\n    },\n    showButtonJoinGame(isShow) {\n        this.doNotShowNode && (this.doNotShowNode.active = isShow);\n        this.btnJoinGame && (this.btnJoinGame.node.active = isShow);\n    }\n\n});\n"]}