{"version":3,"sources":["FreeGameWriter9983.js"],"names":["SlotGameWriter","require","cc","Class","extends","makeScriptGameStart","listScript","winAmount","node","gSlotDataStore","playSession","push","command","data","time","makeScriptSpinClick","freeGameRemain","availableSpinTimes","spinTimes","makeScriptResultReceive","lastEvent","matrix","fwm","type","fsoi","fSubSym1","fSubSym2","jpInfo","unshift","name","jackpotInfoArr","split","jackpotAmount","Number","jackpotId","isGrand","value","makeScriptShowResults","payLines","fsor","fsolr","extend","freeGameTotal","currentBetData","slotBetDataStore","winAmountPlaySession","gameSpeed","isFTR","config","GAME_SPEED","INSTANTLY","content","length","showBigWin","isNormal","fgo","mode","makeScriptGameRestart"],"mappings":"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","file":"FreeGameWriter9983.js","sourceRoot":"../../../../../../assets/cc-taoquan-9983/scripts/gameMode","sourcesContent":["const SlotGameWriter = require('SlotGameWriter');\ncc.Class({\n    extends: SlotGameWriter,\n\n    makeScriptGameStart() {\n        const listScript = [];\n        const { winAmount } = this.node.gSlotDataStore.playSession;\n        if (winAmount && winAmount > 0) {\n            listScript.push({\n                command: \"_updateWinningAmount\",\n                data: { winAmount, time: 300 }\n            });\n        }\n        listScript.push({\n            command: \"_gameStart\",\n        });\n        return listScript;\n    },\n\n    makeScriptSpinClick() {\n        let listScript = [];\n        const { freeGameRemain } = this.node.gSlotDataStore.playSession;\n        let availableSpinTimes = freeGameRemain - 1;\n        this.node.gSlotDataStore.spinTimes = availableSpinTimes;\n        listScript.push({\n            command: \"_clearPaylines\",\n        });\n        listScript.push({\n            command: \"_updateSpinTimes\",\n            data: availableSpinTimes\n        });\n        listScript.push({\n            command: \"_updateLastWin\",\n            data: false,\n        });\n        listScript.push({\n            command: \"_sendSpinToNetwork\",\n        });\n        listScript.push({\n            command: \"_spinClick\"\n        });\n        return listScript;\n    },\n\n    makeScriptResultReceive() {\n        const {matrix,fwm, type, fsoi,fSubSym1, fSubSym2,jpInfo} = this.node.gSlotDataStore.lastEvent;\n        const { freeGameRemain } = this.node.gSlotDataStore.playSession;\n        if (matrix) {\n            matrix[0].unshift(\"1\");\n            matrix[4].unshift(\"1\");\n        }\n        // to Hue: ma trận này nó trả 3 4 4 4 3 thì f2r tụi nó ko thể dừng cùng lúc với cùng speed\n        // e đã khô máu cho ra ma trận 4 4 4 4 4, với 2 symbols ko liên quan trong game\n\n        if(type == 'freeSpinOptionResult'){\n            const listScript = [];\n            this.node.gSlotDataStore.spinTimes = freeGameRemain;\n            this.node.gSlotDataStore.fsoi = fsoi;\n            listScript.push({\n                command: \"_updateWildType\",\n                data: fsoi\n            });\n            listScript.push({\n                command: \"_updateSpinTimes\",\n                data: freeGameRemain\n            });\n            listScript.push({\n                command: \"_hideCutscene\",\n                data: {\n                    name: \"FreeGameOption\",\n                }\n            });\n            return listScript;\n        }else{\n            const listScript = [];\n\n            if (jpInfo) {\n                const jackpotInfoArr = jpInfo.split(';');\n                const jackpotAmount = Number(jackpotInfoArr[1]);\n                const jackpotId = jackpotInfoArr[0];\n                listScript.push({\n                    command: \"_updateValueJP\",\n                    data: {\n                        isGrand: (jackpotId == '0') ? true : false,\n                        value: jackpotAmount\n                    }\n                });\n                listScript.push({\n                    command: \"_pauseUpdateJP\",\n                });\n            }\n            listScript.push({\n                command: \"_resultReceive\",\n                data: {matrix,fwm,fSubSym1,fSubSym2}\n            });\n            listScript.push({\n                command: \"_showResult\",\n                data: matrix,\n            });\n            return listScript;\n\n          \n        }  \n        \n    },\n    makeScriptShowResults() {\n        const {\n            matrix, winAmount, payLines, fsor, fwm, fsolr,jpInfo\n        } = this.node.gSlotDataStore.lastEvent;\n        const { freeGameRemain, extend, freeGameTotal } = this.node.gSlotDataStore.playSession;\n        const { currentBetData } = this.node.gSlotDataStore.slotBetDataStore.data;\n        const winAmountPlaySession = this.node.gSlotDataStore.playSession.winAmount;\n        const { gameSpeed } = this.node.gSlotDataStore;\n        const isFTR = gameSpeed === this.node.config.GAME_SPEED.INSTANTLY;\n        const listScript = [];\n        \n        listScript.push({\n            command: \"_clearPaylines\",\n        });\n        listScript.push({\n            command: \"_setUpPaylines\",\n            data: { matrix, payLines: payLines },\n        });\n\n        if(!jpInfo){\n            listScript.push({\n                command: \"_hideSubSymbolPayLine\",\n            });\n        } else {\n            const jackpotInfoArr = jpInfo.split(';');\n            const jackpotAmount = Number(jackpotInfoArr[1]);\n            const jackpotId = jackpotInfoArr[0];\n            listScript.push({\n                command: \"_showSubSymbolPayLine\",\n                data: jackpotId\n            });\n           \n            listScript.push({\n                command: \"_showUnskippedCutscene\",\n                data: {\n                    name: \"JackpotWin\",\n                    content: {\n                        jackpotId,\n                        jackpotAmount\n                    }\n                }\n            });\n            listScript.push({\n                command: \"_resumeUpdateJP\",\n            });\n            listScript.push({\n                command: \"_hideSubSymbolPayLine\",\n            });\n        }\n\n\n        if (payLines && payLines.length > 0) {\n           \n            const showBigWin = winAmount && winAmount >= currentBetData * 10 && !jpInfo ;\n            if (showBigWin) {\n                listScript.push({\n                    command: \"_showAllPayLine\",\n                });\n                if(fwm){\n                    listScript.push({\n                        command: \"_showWildTransition\",\n                        data: {\n                            name: \"WildTransition\",\n                            content: {\n                                matrix,\n                                fwm,\n                                isNormal: false\n                            }\n                        }\n                    });\n                }\n                listScript.push({\n                    command: \"_showCutscene\",\n                    data: {\n                        name: \"WinEffect\",\n                        content: {\n                            winAmount,\n                            currentBetData\n                        }\n                    }\n                });\n                listScript.push({\n                    command: \"_addWinningAmount\",\n                    data: { winAmount: winAmountPlaySession, time: isFTR ? 50 : 300 }\n                });\n            } else {\n\n                if(fwm){\n                    listScript.push({\n                        command: \"_showAllPayLine\",\n                    });\n                    listScript.push({\n                        command: \"_showWildTransition\",\n                        data: {\n                            name: \"WildTransition\",\n                            content: {\n                                matrix,\n                                fwm,\n                                isNormal: false\n                            }\n                        }\n                    });\n                }else{\n                    listScript.push({\n                        command: \"_showAllPayLineSync\",\n                    });\n                }\n                if (winAmount && winAmount < currentBetData * 10) {\n                    listScript.push({\n                        command: \"_showSoundWinAnimation\",\n                        data: {\n                            currentBetData,\n                            winAmount\n                        }\n                    });\n                }\n                listScript.push({\n                    command: \"_addWinningAmount\",\n                    data: { winAmount: winAmountPlaySession, time: isFTR ? 50 : 300 }\n                });\n            }\n            listScript.push({\n                command: \"_showEachPayLineSync\",\n            });\n        }\n\n        if(fsolr) {\n            listScript.push({\n                command: \"_showScatterPayLine\",\n            });\n            listScript.push({\n                command: \"_showCutscene\",\n                data: {\n                    name: \"ScatterTransition\",\n                    content: {\n                        matrix,\n                        isNormal: false\n                    }\n                }\n            });\n            if(!fsor){\n                listScript.push({\n                    command: \"_updateOptionRemain\",\n                    data: 1,\n                });\n            } else{\n                if(!freeGameRemain || freeGameRemain <= 0){\n                    listScript.push({\n                        command: \"_updateOptionRemain\",\n                        data: fsor + 1,\n                    });\n                }else{\n                    listScript.push({\n                        command: \"_updateOptionRemain\",\n                        data: fsor,\n                    });\n                }\n              \n            }\n\n        }\n\n        this.node.gSlotDataStore.spinTimes = freeGameRemain;\n        listScript.push({\n            command: \"_updateSpinTimes\",\n            data: freeGameRemain\n        });\n\n        if (!freeGameRemain || freeGameRemain <= 0) {\n            listScript.push({\n                command: \"_updateWinningAmount\",\n                data: { winAmount: winAmountPlaySession, time: isFTR ? 50 : 300 }\n            });\n            listScript.push({\n                command: \"_delayTimeScript\",\n                data: 1\n            });\n            listScript.push({\n                command: \"_clearPaylines\",\n            });\n            if( extend && !extend.fgo ){\n                listScript.push({\n                    command: \"_showCutscene\",\n                    data: {\n                        name: \"TotalWinDialog\",\n                        content: {\n                            winAmount: winAmountPlaySession,\n                            freeGameTotal\n                        }\n                    }\n                });\n                listScript.push({\n                    command: \"_playSFXCloud2\",\n                });\n                listScript.push({\n                    command: \"_showCutscene\",\n                    data: {\n                        name: \"CloudTransition\",\n                        content: {}\n                    }\n                });\n            }\n\n            if(extend && extend.fgo) {\n                listScript.push({\n                    command: \"_playSFXCloud2\",\n                });\n                listScript.push({\n                    command: \"_showCutscene\",\n                    data: {\n                        name: \"CloudTransition\",\n                        content: {}\n                    }\n                });\n             \n                listScript.push({\n                    command: \"_updateOptionRemain\",\n                    data: fsor,\n                });\n           \n                listScript.push({\n                    command: \"_showFreeGameOption\",\n                    data: {\n                        name: \"FreeGameOption\",\n                        content: {\n                            mode: \"free\"\n                        }\n                    }\n                });\n                listScript.push({\n                    command: \"_delayTimeScript\",\n                    data: 1\n                });\n                listScript.push({\n                    command: \"_gameRestart\"\n                });\n            } else {\n                listScript.push({\n                    command: \"_gameExit\",\n                });\n            }\n           \n        } else {\n            listScript.push({\n                command: \"_gameRestart\"\n            });\n        }\n        return listScript;\n    },\n\n    makeScriptGameRestart() {\n        const listScript = [];\n        const { winAmount } = this.node.gSlotDataStore.playSession;\n        const { spinTimes, gameSpeed } = this.node.gSlotDataStore;\n        const isFTR = gameSpeed === this.node.config.GAME_SPEED.INSTANTLY;\n        if (winAmount && winAmount > 0) {\n            if (winAmount > 0) {\n                listScript.push({\n                    command: \"_updateWinningAmount\",\n                    data: { winAmount, time: isFTR ? 50 : 300 }\n                });\n            }\n            listScript.push({\n                command: \"_updateLastWin\",\n                data: false,\n            });\n        }\n        if (spinTimes && spinTimes > 0) {\n            listScript.push({\n                command: \"_runAutoSpin\"\n            });\n        }\n        return listScript;\n    },\n\n\n\n\n});"]}