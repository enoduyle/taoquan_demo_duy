{"version":3,"sources":["SlotSymbolPayline9983.js"],"names":["symbolSpines","cc","Class","name","properties","default","spine","type","sp","SkeletonData","symbolStatic","static","SpriteFrame","listWildAnim","extends","require","spineList","symbolList","Node","winEff","subSymbol1","subSymbol2","onLoad","_super","node","init","bind","remove","playAnimationSubSymbol","hideAnimationSubSymbol","playWinLineEffect","hideWinLineEffect","isSpineSymbol","symbolName","skeData","findSymbolSpineData","active","getComponent","Skeleton","skeletonData","setSkin","setSlotsToSetupPose","sprData","findSymbolStaticData","Sprite","spriteFrame","setIndex","zIndex","data","modeTurbo","opacity","setAnimation","playAnimation","isBlink","seq","repeat","sequence","scaleTo","runAction","stopAnimation","stopAllActions","i","length","unuse","reuse","poolMng","poolManager","put","blinkHighlight"],"mappings":"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","file":"SlotSymbolPayline9983.js","sourceRoot":"../../../../../../assets/cc-taoquan-9983/scripts/table","sourcesContent":["\nvar symbolSpines = cc.Class({\n    name: 'symbolSpines9983',\n    properties: {\n        name: {\n            default: ''\n        },\n        spine: {\n            type: sp.SkeletonData,\n            default: null,\n        },\n    }\n});\n\nvar symbolStatic = cc.Class({\n    name: 'synmbolStatic9983',\n    properties: {\n        name: {\n            default: ''\n        },\n        static: {\n            type: cc.SpriteFrame,\n            default: null,\n        },\n    }\n});\n\nvar listWildAnim = {\n    'K': 'skin0',\n    'K1': 'skin1',\n    'K2': 'skin2',\n    'K3': 'skin3',\n    'K4': 'skin4',\n    'K5': 'skin5',\n    'K6': 'skin6',\n    'K7': 'skin7',\n};\n\ncc.Class({\n    extends: require('SlotSymbolPayline'),\n    properties: {\n        spineList: {\n            default: [],\n            type: [symbolSpines]\n        },\n        symbolList: {\n            default: [],\n            type: [symbolStatic]\n        },\n        spine: cc.Node,\n        static: cc.Node,\n        winEff: cc.Node,\n        subSymbol1: cc.Node,\n        subSymbol2: cc.Node,\n    },\n    onLoad() {\n        this._super();\n        this.node.init = this.init.bind(this);\n        this.node.remove = this.remove.bind(this);\n        this.node.playAnimationSubSymbol = this.playAnimationSubSymbol.bind(this);\n        this.node.hideAnimationSubSymbol = this.hideAnimationSubSymbol.bind(this);\n        this.node.playWinLineEffect = this.playWinLineEffect.bind(this);\n        this.node.hideWinLineEffect = this.hideWinLineEffect.bind(this);\n        this.node.isSpineSymbol = this.isSpineSymbol.bind(this);\n    },\n\n    init(symbolName) {\n        let skeData = this.findSymbolSpineData(symbolName);\n        this.spine.active = false;\n        this.static.active = false;\n        this.subSymbol1.active = false;\n        this.subSymbol2.active = false;\n        this.symbolName = symbolName;\n        this.node.name = symbolName;\n        if (skeData) {\n            this.spine.getComponent(sp.Skeleton).skeletonData = skeData.spine;\n            if (this.symbolName[0] == 'K') {\n                this.spine.getComponent(sp.Skeleton).setSkin(listWildAnim[this.symbolName]);\n                this.spine.getComponent(sp.Skeleton).setSlotsToSetupPose();\n            }\n            // this.spine.getComponent(sp.Skeleton).setAnimationCacheMode(sp.Skeleton.AnimationCacheMode.SHARED_CACHE);\n        }\n        let sprData = this.findSymbolStaticData(symbolName);\n        if (sprData) {\n            this.static.getComponent(cc.Sprite).spriteFrame = sprData.static;\n        }\n        this.setIndex();\n    },\n\n    isSpineSymbol() {\n        return this.findSymbolSpineData(this.symbolName) !== null;\n    },\n\n    setIndex() {\n        if (this.symbolName == \"A\") {\n            this.node.zIndex = 2;\n        } else if (this.symbolName[0] == \"K\") {\n            this.node.zIndex = 1;\n        } else {\n            this.node.zIndex = 0;\n        }\n    },\n\n    hideAnimationSubSymbol() {\n        this.subSymbol1.active = false;\n        this.subSymbol2.active = false;\n    },\n    playAnimationSubSymbol(data) {\n        if (this.node.modeTurbo == true) {\n            this.static.active = true;\n            if (data == '0') {\n                this.subSymbol1.active = true;\n            } else {\n                this.subSymbol2.active = true;\n            }\n            this.winEff.opacity = 255;\n            return;\n        }\n        this.spine.active = false;\n        this.static.active = true;\n        if (data == '0') {\n            this.subSymbol1.active = true;\n            this.subSymbol1.getComponent(sp.Skeleton).setAnimation(0, 'animation', false);\n        } else {\n            this.subSymbol2.active = true;\n            this.subSymbol2.getComponent(sp.Skeleton).setAnimation(0, 'animation', false);\n        }\n        \n    },\n\n    playWinLineEffect() {\n        this.winEff.opacity = 255;\n        this.node.opacity = 255;\n    },\n\n    hideWinLineEffect() {\n        this.winEff.opacity = 0;\n        this.node.opacity = 0;\n    },\n\n    playAnimation(isBlink = false) {\n        this.subSymbol1.active = false;\n        this.subSymbol2.active = false;\n        if (isBlink == true && this.symbolName[0] != 'K') {\n            this.static.active = true;\n            this.winEff.opacity = 255;\n            return;\n        }\n        if (this.findSymbolSpineData(this.symbolName)) {\n            this.setIndex();\n            this.spine.active = true;\n            this.spine.opacity = 255;\n            if (this.symbolName[0] == 'K') {\n                this.spine.getComponent(sp.Skeleton).setSkin(listWildAnim[this.symbolName]);\n                this.spine.getComponent(sp.Skeleton).setSlotsToSetupPose();\n            }\n            this.spine.getComponent(sp.Skeleton).setAnimation(0, 'animation', false);\n        } else {\n            this.static.active = true;\n            this.spine.opacity = 255;\n            const seq = cc.repeat(\n                cc.sequence(\n                    cc.scaleTo(0.2, 1.05),\n                    cc.scaleTo(0.2, 0.95),\n                    cc.scaleTo(0.2, 1),\n                ), 2);\n            this.static.runAction(seq);\n        }\n        this.winEff.opacity = 255;\n    },\n    stopAnimation() {\n        this.static.stopAllActions();\n        this.winEff.opacity = 0;\n        this.static.active = false;\n        this.spine.active = false;\n        this.subSymbol1.active = false;\n        this.subSymbol2.active = false;\n    },\n\n    findSymbolSpineData(symbolName) {\n        for (let i = 0; i < this.spineList.length; i++) {\n            if (this.spineList[i].name == symbolName)\n                return this.spineList[i];\n        }\n        return null;\n    },\n    findSymbolStaticData(symbolName) {\n        for (let i = 0; i < this.symbolList.length; i++) {\n            if (this.symbolList[i].name == symbolName)\n                return this.symbolList[i];\n        }\n        return null;\n    },\n    unuse() {\n\n    },\n    reuse(poolMng) {\n        this.poolManager = poolMng;\n    },\n    remove() {\n        this.node.stopAllActions();\n        this.poolManager.put(this.node);\n    },\n\n    blinkHighlight() {\n        this.winEff.opacity = 255;\n        this.node.opacity = 255;\n    },\n});\n"]}