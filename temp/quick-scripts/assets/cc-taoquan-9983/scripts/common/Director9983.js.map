{"version":3,"sources":["Director9983.js"],"names":["cc","Class","extends","require","properties","introGame","Node","onLoad","_super","usingPopups","setting","info","jackpotHistory","betHistory","closePopups","node","soundPlayer","playSFXClick","forEach","popup","emit","initGameMode","normalGame","init","freeGame","gSlotDataStore","currentGameMode","gui","enter","extendActionForResume","hideCutscene","name","callback","cutscene","newGameMode","data","hide","resetGameSpeed","resumeGameMode","show","director","pauseJackpot","jackpot","resumeJackpot","updateValueJackpot","isGrand","value","extendInit","metaData","dataResume","metaDataPromotion","active"],"mappings":"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","file":"Director9983.js","sourceRoot":"../../../../../../assets/cc-taoquan-9983/scripts/common","sourcesContent":["cc.Class({\n    extends: require('Director'),\n\n    properties: {\n        introGame: cc.Node\n    },\n\n    onLoad() {\n        this._super();\n        this.usingPopups = [this.setting, this.info, this.jackpotHistory, this.betHistory];\n    },\n    closePopups() {\n        if (this.node.soundPlayer) this.node.soundPlayer.playSFXClick();\n        this.usingPopups.forEach(popup => {\n            popup && popup.emit(\"CLOSE_PANEL\");\n        });\n    },\n\n    initGameMode() {\n        //Binding game modes\n        if (this.normalGame) this.normalGame.init(this, true);\n        if (this.freeGame) this.freeGame.init(this);\n\n        //2 modes: normalGame, freeGame\n        this.node.gSlotDataStore.currentGameMode = \"normalGame\";\n        this.currentGameMode = this[this.node.gSlotDataStore.currentGameMode];\n\n        this.gui.emit('SHOW_GUI_NORMAL_GAME_MODE');\n        this.currentGameMode.enter();\n    },\n\n    extendActionForResume() {\n        this.normalGame.emit(\"AUTO_SPIN_DISABLE\");\n    },\n\n    hideCutscene(name, callback) {\n        this.cutscene.emit(\"CLOSE_CUTSCENE\", name, callback);\n    },\n\n    newGameMode({ name, data }, callback) {\n        if (this[name]) {\n            this.currentGameMode.hide();\n            this.node.gSlotDataStore.currentGameMode = name;\n            this.currentGameMode = this[this.node.gSlotDataStore.currentGameMode];\n            switch (name) {\n                case 'normalGame':\n                    this.gui.emit('SHOW_GUI_NORMAL_GAME_MODE');\n                    break;\n                case 'freeGame':\n                    this.gui.emit('SHOW_GUI_FREE_GAME_MODE');\n                    break;\n            }\n            this.resetGameSpeed();\n            this.currentGameMode.enter(data, callback);\n        }\n    },\n    resumeGameMode({ name }, callback) {\n        if (this[name]) {\n            this.node.gSlotDataStore.currentGameMode = name;\n            this.currentGameMode = this[this.node.gSlotDataStore.currentGameMode];\n            switch (name) {\n                case 'normalGame':\n                    this.gui.emit('SHOW_GUI_NORMAL_GAME_MODE');\n                    break;\n                case 'freeGame':\n                    this.gui.emit('SHOW_GUI_FREE_GAME_MODE');\n                    break;\n            }\n            this.resetGameSpeed();\n            this.currentGameMode.show(callback);\n        }\n    },\n\n    resetGameSpeed() {\n        if (this.currentGameMode.director && this.currentGameMode.director.resetGameSpeed) {\n            this.currentGameMode.director.resetGameSpeed();\n        }\n    },\n\n    pauseJackpot() {\n        this.jackpot.emit(\"PAUSE_JACKPOT\");\n    },\n    resumeJackpot() {\n        this.jackpot.emit(\"RESUME_JACKPOT\");\n    },\n    updateValueJackpot(isGrand = true, value = 0) {\n        this.jackpot.emit(\"UPDATE_VALUE_JACKPOT\", isGrand, value);\n    },\n    extendInit(metaData){\n        const { dataResume, metaDataPromotion } = metaData;\n        if (dataResume || metaDataPromotion) {\n            this.introGame.active = false;\n        } else {\n            this.introGame.emit(\"SHOW_BUTTON_JOIN_GAME\", true);\n        }\n    }\n});\n"]}