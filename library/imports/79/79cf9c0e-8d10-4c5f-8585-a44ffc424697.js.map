{"version":3,"sources":["../../../../../../assets/cc-common/cc-slot-base-test/ExtendScripts/assets/cc-common/cc-slot-base-test/ExtendScripts/ExtendSlotTablePayline.js"],"names":["cc","Class","extends","require","properties","winLineFramePrefabName","onLoad","_super","node","on","setUpPaylineAtReel","showIntroSymbols","exendInit","usingObj","paylinesMatrix","scatterHolderNode","bonusHolderNode","wildHolderNode","jackpotHolderNode","col","payLines","curentConfig","config","STATS","mode","paylineHolderNode","active","payLineNormals","reels","showSymbols","forEach","symbol","row","paylineSymbol","createPaylineSymbol","winLineFrame","createWinLineFrame","payline","emit","isSymbolAnimated","isSpecialSymbol","push","playSpecialSymbolAppear","setupPaylines","matrix","length","reel","parentNode","poolFactory","warn","getObject","symbolSpinePrefabName","parent","x","getXPosition","y","showNumber","SYMBOL_HEIGHT","changeToSymbol","disableHighlight","isWinLineFront","prefabName","winLineFrameFrontHolder","winLineFrameHolder","animationClip","getComponent","Animation","blinkNormalPaylinePerline","payLineID","payLineWinNumbers","PAY_LINE_MATRIX","paylinePos","blinkHighlight","BLINK_DURATION","BLINKS","blinkNormalPaylineAllline","symbolId","symbolCount","showNormalPaylinePerline","disableHighlightNormalPaylines","enableHighlight","playAnimation","showNormalPaylineAllLine","clearPaylines","i","removedObj","stopAllActions","removeObject"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASC,QAAQ,oBAAR,CADJ;;AAGLC,gBAAY;AACRC,gCAAwB;AADhB,KAHP;;AAOLC,UAPK,oBAOI;AACL,aAAKC,MAAL;AACA,aAAKC,IAAL,CAAUC,EAAV,CAAa,wBAAb,EAAuC,KAAKC,kBAA5C,EAAgE,IAAhE;AACA,aAAKF,IAAL,CAAUC,EAAV,CAAa,oBAAb,EAAmC,KAAKE,gBAAxC,EAA0D,IAA1D;AACA,aAAKC,SAAL;AACH,KAZI;AAcLA,aAdK,uBAcO;AACR,aAAKC,QAAL,GAAgB,EAAhB;AACA,aAAKC,cAAL,GAAsB,EAAtB;AACA,aAAKC,iBAAL,GAAyB,EAAzB;AACA,aAAKC,eAAL,GAAuB,EAAvB;AACA,aAAKC,cAAL,GAAsB,EAAtB;AACA,aAAKC,iBAAL,GAAyB,EAAzB;AACH,KArBI;AAuBLR,sBAvBK,8BAuBcS,GAvBd,EAuBmBC,QAvBnB,EAuB6B;AAAA;;AAC9B,aAAKZ,IAAL,CAAUa,YAAV,GAAyB,KAAKb,IAAL,CAAUc,MAAV,CAAiBC,KAAjB,CAAuB,KAAKf,IAAL,CAAUgB,IAAjC,CAAzB;AACA,aAAKC,iBAAL,CAAuBC,MAAvB,GAAgC,IAAhC;AACA,aAAKC,cAAL,GAAsBP,QAAtB;AACA,aAAKN,cAAL,CAAoBK,GAApB,IAA2B,EAA3B;;AAEA,aAAKX,IAAL,CAAUoB,KAAV,CAAgBT,GAAhB,EAAqBU,WAArB,CAAiCC,OAAjC,CAAyC,UAACC,MAAD,EAASC,GAAT,EAAiB;AACtD,gBAAMC,gBAAgB,MAAKC,mBAAL,CAAyB,MAAK1B,IAAL,CAAUoB,KAAV,CAAgBT,GAAhB,CAAzB,EAA+CY,OAAOA,MAAtD,EAA8DZ,GAA9D,EAAmEa,GAAnE,CAAtB;AACA,gBAAMG,eAAe,MAAKC,kBAAL,CAAwBjB,GAAxB,EAA6Ba,GAA7B,EAAkC,MAAKxB,IAAL,CAAUoB,KAAV,CAAgBT,GAAhB,CAAlC,CAArB;AACA,gBAAMkB,UAAU,EAAEN,cAAF,EAAUE,4BAAV,EAAyBE,0BAAzB,EAAhB;AACAJ,mBAAOO,IAAP,CAAY,kBAAZ,EAAgCL,cAAcM,gBAA9C;AACA,kBAAKzB,cAAL,CAAoBK,GAApB,EAAyBa,GAAzB,IAAgCK,OAAhC;AACAJ,0BAAcO,eAAd,GAAgC,IAAhC;AACA,gBAAIT,OAAOA,MAAP,IAAiB,GAArB,EAA0B;AACtB,sBAAKhB,iBAAL,CAAuB0B,IAAvB,CAA4BJ,OAA5B;AACH,aAFD,MAEO,IAAIN,OAAOA,MAAP,IAAiB,GAArB,EAA0B;AAC7B,sBAAKf,eAAL,CAAqByB,IAArB,CAA0BJ,OAA1B;AACH,aAFM,MAEA,IAAIN,OAAOA,MAAP,IAAiB,GAArB,EAA0B;AAC7B,sBAAKd,cAAL,CAAoBwB,IAApB,CAAyBJ,OAAzB;AACH,aAFM,MAEA,IAAIN,OAAOA,MAAP,IAAiB,IAArB,EAA2B;AAC9B,sBAAKb,iBAAL,CAAuBuB,IAAvB,CAA4BJ,OAA5B;AACH,aAFM,MAEA;AACHJ,8BAAcO,eAAd,GAAgC,KAAhC;AACH;;AAED,gBAAIP,cAAcO,eAAlB,EAAmC;AAC/B,sBAAKE,uBAAL,CAA6BL,OAA7B;AACH;AACJ,SAtBD;AAuBH,KApDI;AAsDLM,iBAtDK,yBAsDSC,MAtDT,EAsDiBxB,QAtDjB,EAsD2B;AAC5B,aAAKZ,IAAL,CAAUa,YAAV,GAAyB,KAAKb,IAAL,CAAUc,MAAV,CAAiBC,KAAjB,CAAuB,KAAKf,IAAL,CAAUgB,IAAjC,CAAzB;AACA,aAAKC,iBAAL,CAAuBC,MAAvB,GAAgC,IAAhC;AACA,aAAKC,cAAL,GAAsBP,QAAtB;AACA,aAAKN,cAAL,GAAsB,EAAtB;AACA,aAAKC,iBAAL,GAAyB,EAAzB;AACA,aAAKE,cAAL,GAAsB,EAAtB;;AAEA,aAAK,IAAIE,MAAM,CAAf,EAAkBA,MAAM,KAAKX,IAAL,CAAUoB,KAAV,CAAgBiB,MAAxC,EAAgD,EAAE1B,GAAlD,EAAuD;AACnD,iBAAKL,cAAL,CAAoBK,GAApB,IAA2B,EAA3B;AACA,iBAAK,IAAIa,MAAM,CAAf,EAAkBA,MAAM,KAAKxB,IAAL,CAAUoB,KAAV,CAAgBT,GAAhB,EAAqBU,WAArB,CAAiCgB,MAAzD,EAAiE,EAAEb,GAAnE,EAAwE;AACpE,oBAAMD,SAAS,KAAKvB,IAAL,CAAUoB,KAAV,CAAgBT,GAAhB,EAAqBU,WAArB,CAAiCG,GAAjC,CAAf;AACA,oBAAMC,gBAAgB,KAAKC,mBAAL,CAAyB,KAAK1B,IAAL,CAAUoB,KAAV,CAAgBT,GAAhB,CAAzB,EAA+CY,OAAOA,MAAtD,EAA8DZ,GAA9D,EAAmEa,GAAnE,CAAtB;AACA,oBAAMG,eAAe,KAAKC,kBAAL,CAAwBjB,GAAxB,EAA6Ba,GAA7B,EAAkC,KAAKxB,IAAL,CAAUoB,KAAV,CAAgBT,GAAhB,CAAlC,CAArB;AACA,oBAAMkB,UAAU,EAAEN,cAAF,EAAUE,4BAAV,EAAyBE,0BAAzB,EAAhB;AACAJ,uBAAOO,IAAP,CAAY,kBAAZ,EAAgCL,cAAcM,gBAA9C;AACA,qBAAKzB,cAAL,CAAoBK,GAApB,EAAyBa,GAAzB,IAAgCK,OAAhC;AACA,oBAAIN,OAAOA,MAAP,IAAiB,GAArB,EAA0B;AACtB,yBAAKhB,iBAAL,CAAuB0B,IAAvB,CAA4BJ,OAA5B;AACH,iBAFD,MAEO,IAAIN,OAAOA,MAAP,IAAiB,GAArB,EAA0B;AAC7B,yBAAKf,eAAL,CAAqByB,IAArB,CAA0BJ,OAA1B;AACH,iBAFM,MAEA,IAAIN,OAAOA,MAAP,IAAiB,GAArB,EAA0B;AAC7B,yBAAKd,cAAL,CAAoBwB,IAApB,CAAyBJ,OAAzB;AACH,iBAFM,MAEA,IAAIN,OAAOA,MAAP,IAAiB,IAArB,EAA2B;AAC9B,yBAAKb,iBAAL,CAAuBuB,IAAvB,CAA4BJ,OAA5B;AACH;AACJ;AACJ;AACJ,KAlFI;AAoFLH,uBApFK,+BAoFeY,IApFf,EAoFqBf,MApFrB,EAoF6BZ,GApF7B,EAoFkCa,GApFlC,EAoF0D;AAAA,YAAnBe,UAAmB,uEAAN,IAAM;;AAC3D,YAAI,CAAC,KAAKvC,IAAL,CAAUwC,WAAf,EAA4B;AACxBhD,eAAGiD,IAAH,CAAQ,4BAAR;AACA,mBAAO,KAAK1C,MAAL,CAAYuC,IAAZ,EAAkBf,MAAlB,EAA0BZ,GAA1B,EAA+Ba,GAA/B,EAAoCe,UAApC,CAAP;AACH;AACD,YAAId,gBAAgB,KAAKzB,IAAL,CAAUwC,WAAV,CAAsBE,SAAtB,CAAgC,KAAKC,qBAArC,CAApB;AACAlB,sBAAcP,MAAd,GAAuB,IAAvB;AACAO,sBAAcmB,MAAd,GAAuBL,cAAc,KAAKtB,iBAA1C;AACAQ,sBAAcoB,CAAd,GAAkB,KAAKC,YAAL,CAAkBnC,GAAlB,CAAlB;AACAc,sBAAcsB,CAAd,GAAkB,CAAET,KAAKU,UAAL,GAAkB,CAAlB,GAAsBxB,GAAtB,GAA4B,GAA9B,IAAsC,KAAKxB,IAAL,CAAUc,MAAV,CAAiBmC,aAAzE;AACAxB,sBAAcyB,cAAd,CAA6B3B,MAA7B;AACAE,sBAAc0B,gBAAd;AACA,aAAK9C,QAAL,CAAc4B,IAAd,CAAmBR,aAAnB;AACA,eAAOA,aAAP;AACH,KAlGI;AAoGLG,sBApGK,8BAoGcjB,GApGd,EAoGmBa,GApGnB,EAoGwBc,IApGxB,EAoGsD;AAAA,YAAxBc,cAAwB,uEAAP,KAAO;;AACvD,YAAI,CAAC,KAAKpD,IAAL,CAAUwC,WAAf,EAA4B;AACxBhD,eAAGiD,IAAH,CAAQ,4BAAR;AACA,mBAAO,IAAP;AACH;AACD,YAAMY,aAAa,KAAKxD,sBAAxB;AACA,YAAI8B,eAAe,KAAK3B,IAAL,CAAUwC,WAAV,CAAsBE,SAAtB,CAAgCW,UAAhC,CAAnB;AACA,YAAI1B,YAAJ,EAAkB;AACdA,yBAAaT,MAAb,GAAsB,KAAtB;AACAS,yBAAaiB,MAAb,GAAsBQ,iBAAiB,KAAKE,uBAAtB,GAAgD,KAAKC,kBAA3E;AACA5B,yBAAakB,CAAb,GAAiB,KAAKC,YAAL,CAAkBnC,GAAlB,CAAjB;AACAgB,yBAAaoB,CAAb,GAAiB,CAAET,KAAKU,UAAL,GAAkB,CAAlB,GAAsBxB,GAAtB,GAA4B,GAA9B,IAAsC,KAAKxB,IAAL,CAAUc,MAAV,CAAiBmC,aAAxE;AACAtB,yBAAa6B,aAAb,GAA6B7B,aAAa8B,YAAb,CAA0BjE,GAAGkE,SAA7B,CAA7B;AACA,iBAAKrD,QAAL,CAAc4B,IAAd,CAAmBN,YAAnB;AACH;AACD,eAAOA,YAAP;AACH,KApHI;AAsHLgC,6BAtHK,2CAsHqD;AAAA,YAA/BC,SAA+B,QAA/BA,SAA+B;AAAA,YAApBC,iBAAoB,QAApBA,iBAAoB;;AACtD,YAAIhC,UAAU,KAAK7B,IAAL,CAAUc,MAAV,CAAiBgD,eAAjB,CAAiCF,SAAjC,CAAd;AACA,aAAK,IAAIG,aAAa,CAAtB,EAAyBA,aAAaF,iBAAtC,EAAyD,EAAEE,UAA3D,EAAuE;AACnE,gBAAMvC,MAAMK,QAAQkC,UAAR,CAAZ;AACA,gBAAMpD,MAAMoD,UAAZ;AAFmE,wCAGjC,KAAKzD,cAAL,CAAoBK,GAApB,EAAyBa,GAAzB,CAHiC;AAAA,gBAG3DD,MAH2D,yBAG3DA,MAH2D;AAAA,gBAGnDE,aAHmD,yBAGnDA,aAHmD;;AAInEF,mBAAOyC,cAAP,CAAsB,KAAKhE,IAAL,CAAUa,YAAV,CAAuBoD,cAA7C,EAA6D,KAAKjE,IAAL,CAAUa,YAAV,CAAuBqD,MAApF;AACAzC,0BAAcuC,cAAd,CAA6B,KAAKhE,IAAL,CAAUa,YAAV,CAAuBoD,cAApD,EAAoE,KAAKjE,IAAL,CAAUa,YAAV,CAAuBqD,MAA3F;AACH;AACJ,KA/HI;AAiILC,6BAjIK,4CAiI8C;AAAA,YAAxBC,QAAwB,SAAxBA,QAAwB;AAAA,YAAdC,WAAc,SAAdA,WAAc;;AAC/C,aAAK,IAAI1D,MAAM,CAAf,EAAkBA,MAAM0D,WAAxB,EAAqC1D,KAArC,EAA4C;AACxC,iBAAK,IAAIa,MAAM,CAAf,EAAkBA,MAAM,KAAKlB,cAAL,CAAoBK,GAApB,EAAyB0B,MAAjD,EAAyDb,KAAzD,EAAgE;AAAA,6CAC1B,KAAKlB,cAAL,CAAoBK,GAApB,EAAyBa,GAAzB,CAD0B;AAAA,oBACpDD,MADoD,0BACpDA,MADoD;AAAA,oBAC5CE,aAD4C,0BAC5CA,aAD4C;;AAE5D,oBAAIF,OAAOA,MAAP,IAAiB6C,QAAjB,IAA6B7C,OAAOA,MAAP,IAAiB,GAAlD,EAAuD;AACnDA,2BAAOyC,cAAP,CAAsB,KAAKhE,IAAL,CAAUa,YAAV,CAAuBoD,cAA7C,EAA6D,KAAKjE,IAAL,CAAUa,YAAV,CAAuBqD,MAApF;AACAzC,kCAAcuC,cAAd,CAA6B,KAAKhE,IAAL,CAAUa,YAAV,CAAuBoD,cAApD,EAAoE,KAAKjE,IAAL,CAAUa,YAAV,CAAuBqD,MAA3F;AACH;AACJ;AACJ;AACJ,KA3II;AA6ILI,4BA7IK,2CA6IoD;AAAA,YAA/BV,SAA+B,SAA/BA,SAA+B;AAAA,YAApBC,iBAAoB,SAApBA,iBAAoB;;AACrD,aAAKU,8BAAL;AACA,YAAI1C,UAAU,KAAK7B,IAAL,CAAUc,MAAV,CAAiBgD,eAAjB,CAAiCF,SAAjC,CAAd;AACA,YAAI/B,WAAWA,QAAQQ,MAAR,GAAiB,CAA5B,IAAiC,KAAK/B,cAAtC,IAAwD,KAAKA,cAAL,CAAoB+B,MAApB,GAA6B,CAAzF,EAA4F;AACxF,iBAAK,IAAI0B,aAAa,CAAtB,EAAyBA,aAAaF,iBAAtC,EAAyD,EAAEE,UAA3D,EAAuE;AACnE,oBAAMvC,MAAMK,QAAQkC,UAAR,CAAZ;AACA,oBAAMpD,MAAMoD,UAAZ;AAFmE,6CAGjC,KAAKzD,cAAL,CAAoBK,GAApB,EAAyBa,GAAzB,CAHiC;AAAA,oBAG3DD,MAH2D,0BAG3DA,MAH2D;AAAA,oBAGnDE,aAHmD,0BAGnDA,aAHmD;;AAInEF,uBAAOiD,eAAP;AACA/C,8BAAc+C,eAAd;AACA/C,8BAAcgD,aAAd;AAEH;AACJ;AACJ,KA3JI;AA6JLC,4BA7JK,2CA6J6C;AAAA,YAAxBN,QAAwB,SAAxBA,QAAwB;AAAA,YAAdC,WAAc,SAAdA,WAAc;;AAC9C,aAAKE,8BAAL;AACA,aAAK,IAAI5D,MAAM,CAAf,EAAkBA,MAAM0D,WAAxB,EAAqC1D,KAArC,EAA4C;AACxC,iBAAK,IAAIa,MAAM,CAAf,EAAkBA,MAAM,KAAKlB,cAAL,CAAoBK,GAApB,EAAyB0B,MAAjD,EAAyDb,KAAzD,EAAgE;AAAA,6CAC1B,KAAKlB,cAAL,CAAoBK,GAApB,EAAyBa,GAAzB,CAD0B;AAAA,oBACpDD,MADoD,0BACpDA,MADoD;AAAA,oBAC5CE,aAD4C,0BAC5CA,aAD4C;;AAE5D,oBAAIF,OAAOA,MAAP,IAAiB6C,QAAjB,IAA6B7C,OAAOA,MAAP,IAAiB,GAAlD,EAAuD;AACnDA,2BAAOiD,eAAP;AACA/C,kCAAc+C,eAAd;AACA/C,kCAAcgD,aAAd;AACH;AACJ;AACJ;AACJ,KAzKI;AA2KLF,kCA3KK,4CA2K4B;AAC7B,aAAK,IAAI5D,MAAM,CAAf,EAAkBA,MAAM,KAAKL,cAAL,CAAoB+B,MAA5C,EAAoD,EAAE1B,GAAtD,EAA2D;AACvD,iBAAK,IAAIa,MAAM,CAAf,EAAkBA,MAAM,KAAKlB,cAAL,CAAoBK,GAApB,EAAyB0B,MAAjD,EAAyD,EAAEb,GAA3D,EAAgE;AAAA,6CAC1B,KAAKlB,cAAL,CAAoBK,GAApB,EAAyBa,GAAzB,CAD0B;AAAA,oBACpDD,MADoD,0BACpDA,MADoD;AAAA,oBAC5CE,aAD4C,0BAC5CA,aAD4C;;AAE5DF,uBAAO4B,gBAAP;AACA1B,8BAAc0B,gBAAd;AACH;AACJ;AACJ,KAnLI;AAqLLjB,2BArLK,mCAqLmBL,OArLnB,EAqL4B;AAAA,YACrBN,MADqB,GACKM,OADL,CACrBN,MADqB;AAAA,YACbE,aADa,GACKI,OADL,CACbJ,aADa;;AAE7B,YAAIF,UAAUE,aAAV,IAA2BA,cAAcM,gBAA7C,EAA+D;AAC3DR,mBAAOiD,eAAP;AACAjD,mBAAOkD,aAAP;AACAhD,0BAAc+C,eAAd;AACA/C,0BAAcS,uBAAd;AACH;AACJ,KA7LI;AA+LLyC,iBA/LK,2BA+LW;AACZ,aAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI,KAAKvE,QAAL,CAAcgC,MAAlC,EAA0CuC,GAA1C,EAA+C;AAC3C,gBAAIC,aAAa,KAAKxE,QAAL,CAAcuE,CAAd,CAAjB;AACAC,uBAAWC,cAAX;AACA,iBAAK9E,IAAL,CAAUwC,WAAV,CAAsBuC,YAAtB,CAAmCF,UAAnC;AACH;AACD,aAAKxE,QAAL,GAAgB,EAAhB;AACA,aAAKN,MAAL;AACH,KAvMI;AAyMLI,oBAzMK,8BAyMc;AACf,aAAK,IAAIQ,MAAM,CAAf,EAAkBA,MAAM,KAAKL,cAAL,CAAoB+B,MAA5C,EAAoD,EAAE1B,GAAtD,EAA2D;AACvD,iBAAK,IAAIa,MAAM,CAAf,EAAkBA,MAAM,KAAKlB,cAAL,CAAoBK,GAApB,EAAyB0B,MAAjD,EAAyD,EAAEb,GAA3D,EAAgE;AAAA,6CAC1B,KAAKlB,cAAL,CAAoBK,GAApB,EAAyBa,GAAzB,CAD0B;AAAA,oBACpDD,MADoD,0BACpDA,MADoD;AAAA,oBAC5CE,aAD4C,0BAC5CA,aAD4C;;AAE5D,oBAAIF,UAAUE,aAAd,EAA6B;AACzBF,2BAAOiD,eAAP;AACA/C,kCAAc+C,eAAd;AACA/C,kCAAcgD,aAAd;AACH;AACJ;AACJ;AACJ;AApNI,CAAT","file":"ExtendSlotTablePayline.js","sourceRoot":"../../../../../../assets/cc-common/cc-slot-base-test/ExtendScripts","sourcesContent":["cc.Class({\n    extends: require('SlotTablePaylinev2'),\n\n    properties: {\n        winLineFramePrefabName: 'WinlineFrame',\n    },\n\n    onLoad() {\n        this._super();\n        this.node.on(\"SET_UP_PAYLINE_AT_REEL\", this.setUpPaylineAtReel, this);\n        this.node.on(\"SHOW_INTRO_SYMBOLS\", this.showIntroSymbols, this);\n        this.exendInit();\n    },\n\n    exendInit() {\n        this.usingObj = [];\n        this.paylinesMatrix = [];\n        this.scatterHolderNode = [];\n        this.bonusHolderNode = [];\n        this.wildHolderNode = [];\n        this.jackpotHolderNode = [];\n    },\n\n    setUpPaylineAtReel(col, payLines) {\n        this.node.curentConfig = this.node.config.STATS[this.node.mode];\n        this.paylineHolderNode.active = true;\n        this.payLineNormals = payLines;\n        this.paylinesMatrix[col] = [];\n\n        this.node.reels[col].showSymbols.forEach((symbol, row) => {\n            const paylineSymbol = this.createPaylineSymbol(this.node.reels[col], symbol.symbol, col, row);\n            const winLineFrame = this.createWinLineFrame(col, row, this.node.reels[col]);\n            const payline = { symbol, paylineSymbol, winLineFrame };\n            symbol.emit(\"INIT_FOR_PAYLINE\", paylineSymbol.isSymbolAnimated);\n            this.paylinesMatrix[col][row] = payline;\n            paylineSymbol.isSpecialSymbol = true;\n            if (symbol.symbol == \"A\") {\n                this.scatterHolderNode.push(payline);\n            } else if (symbol.symbol == \"R\") {\n                this.bonusHolderNode.push(payline);\n            } else if (symbol.symbol == \"K\") {\n                this.wildHolderNode.push(payline);\n            } else if (symbol.symbol == \"JP\") {\n                this.jackpotHolderNode.push(payline);\n            } else {\n                paylineSymbol.isSpecialSymbol = false;\n            }\n\n            if (paylineSymbol.isSpecialSymbol) {\n                this.playSpecialSymbolAppear(payline);\n            }\n        });\n    },\n\n    setupPaylines(matrix, payLines) {\n        this.node.curentConfig = this.node.config.STATS[this.node.mode];\n        this.paylineHolderNode.active = true;\n        this.payLineNormals = payLines;\n        this.paylinesMatrix = [];\n        this.scatterHolderNode = [];\n        this.wildHolderNode = [];\n\n        for (let col = 0; col < this.node.reels.length; ++col) {\n            this.paylinesMatrix[col] = [];\n            for (let row = 0; row < this.node.reels[col].showSymbols.length; ++row) {\n                const symbol = this.node.reels[col].showSymbols[row];\n                const paylineSymbol = this.createPaylineSymbol(this.node.reels[col], symbol.symbol, col, row);\n                const winLineFrame = this.createWinLineFrame(col, row, this.node.reels[col]);\n                const payline = { symbol, paylineSymbol, winLineFrame };\n                symbol.emit(\"INIT_FOR_PAYLINE\", paylineSymbol.isSymbolAnimated);\n                this.paylinesMatrix[col][row] = payline;\n                if (symbol.symbol == \"A\") {\n                    this.scatterHolderNode.push(payline);\n                } else if (symbol.symbol == \"R\") {\n                    this.bonusHolderNode.push(payline);\n                } else if (symbol.symbol == \"K\") {\n                    this.wildHolderNode.push(payline);\n                } else if (symbol.symbol == \"JP\") {\n                    this.jackpotHolderNode.push(payline);\n                }\n            }\n        }\n    },\n\n    createPaylineSymbol(reel, symbol, col, row, parentNode = null) {\n        if (!this.node.poolFactory) {\n            cc.warn('Do not having pool factory');\n            return this._super(reel, symbol, col, row, parentNode);\n        }\n        let paylineSymbol = this.node.poolFactory.getObject(this.symbolSpinePrefabName);\n        paylineSymbol.active = true;\n        paylineSymbol.parent = parentNode || this.paylineHolderNode;\n        paylineSymbol.x = this.getXPosition(col);\n        paylineSymbol.y = ((reel.showNumber / 2 - row - 0.5)) * this.node.config.SYMBOL_HEIGHT;\n        paylineSymbol.changeToSymbol(symbol);\n        paylineSymbol.disableHighlight();\n        this.usingObj.push(paylineSymbol);\n        return paylineSymbol;\n    },\n\n    createWinLineFrame(col, row, reel, isWinLineFront = false) {\n        if (!this.node.poolFactory) {\n            cc.warn('Do not having pool factory');\n            return null;\n        }\n        const prefabName = this.winLineFramePrefabName;\n        let winLineFrame = this.node.poolFactory.getObject(prefabName);\n        if (winLineFrame) {\n            winLineFrame.active = false;\n            winLineFrame.parent = isWinLineFront ? this.winLineFrameFrontHolder : this.winLineFrameHolder;\n            winLineFrame.x = this.getXPosition(col);\n            winLineFrame.y = ((reel.showNumber / 2 - row - 0.5)) * this.node.config.SYMBOL_HEIGHT;\n            winLineFrame.animationClip = winLineFrame.getComponent(cc.Animation);\n            this.usingObj.push(winLineFrame);\n        }\n        return winLineFrame;\n    },\n\n    blinkNormalPaylinePerline({payLineID, payLineWinNumbers}) {\n        let payline = this.node.config.PAY_LINE_MATRIX[payLineID];\n        for (let paylinePos = 0; paylinePos < payLineWinNumbers; ++paylinePos) {\n            const row = payline[paylinePos];\n            const col = paylinePos;\n            const { symbol, paylineSymbol } = this.paylinesMatrix[col][row];\n            symbol.blinkHighlight(this.node.curentConfig.BLINK_DURATION, this.node.curentConfig.BLINKS);\n            paylineSymbol.blinkHighlight(this.node.curentConfig.BLINK_DURATION, this.node.curentConfig.BLINKS);\n        }\n    },\n\n    blinkNormalPaylineAllline({symbolId, symbolCount}) {\n        for (let col = 0; col < symbolCount; col++) {\n            for (let row = 0; row < this.paylinesMatrix[col].length; row++) {\n                const { symbol, paylineSymbol } = this.paylinesMatrix[col][row];\n                if (symbol.symbol == symbolId || symbol.symbol == \"K\") {\n                    symbol.blinkHighlight(this.node.curentConfig.BLINK_DURATION, this.node.curentConfig.BLINKS);\n                    paylineSymbol.blinkHighlight(this.node.curentConfig.BLINK_DURATION, this.node.curentConfig.BLINKS);\n                }\n            }\n        }\n    },\n\n    showNormalPaylinePerline({payLineID, payLineWinNumbers}) {\n        this.disableHighlightNormalPaylines();\n        let payline = this.node.config.PAY_LINE_MATRIX[payLineID];\n        if (payline && payline.length > 0 && this.paylinesMatrix && this.paylinesMatrix.length > 0) {\n            for (let paylinePos = 0; paylinePos < payLineWinNumbers; ++paylinePos) {\n                const row = payline[paylinePos];\n                const col = paylinePos;\n                const { symbol, paylineSymbol } = this.paylinesMatrix[col][row];\n                symbol.enableHighlight();\n                paylineSymbol.enableHighlight();\n                paylineSymbol.playAnimation();\n\n            }\n        }\n    },\n    \n    showNormalPaylineAllLine({symbolId, symbolCount}) {\n        this.disableHighlightNormalPaylines();\n        for (let col = 0; col < symbolCount; col++) {\n            for (let row = 0; row < this.paylinesMatrix[col].length; row++) {\n                const { symbol, paylineSymbol } = this.paylinesMatrix[col][row];\n                if (symbol.symbol == symbolId || symbol.symbol == \"K\") {\n                    symbol.enableHighlight();\n                    paylineSymbol.enableHighlight();\n                    paylineSymbol.playAnimation();\n                }\n            }\n        }\n    },\n\n    disableHighlightNormalPaylines() {\n        for (let col = 0; col < this.paylinesMatrix.length; ++col) {\n            for (let row = 0; row < this.paylinesMatrix[col].length; ++row) {\n                const { symbol, paylineSymbol } = this.paylinesMatrix[col][row];\n                symbol.disableHighlight();\n                paylineSymbol.disableHighlight();\n            }\n        }\n    },\n\n    playSpecialSymbolAppear(payline) {\n        const { symbol, paylineSymbol } = payline;\n        if (symbol && paylineSymbol && paylineSymbol.isSymbolAnimated) {\n            symbol.enableHighlight();\n            symbol.playAnimation();\n            paylineSymbol.enableHighlight();\n            paylineSymbol.playSpecialSymbolAppear();\n        }\n    },\n\n    clearPaylines() {\n        for (let i = 0; i < this.usingObj.length; i++) {\n            let removedObj = this.usingObj[i];\n            removedObj.stopAllActions();\n            this.node.poolFactory.removeObject(removedObj);\n        }\n        this.usingObj = [];\n        this._super();\n    },\n\n    showIntroSymbols() {\n        for (let col = 0; col < this.paylinesMatrix.length; ++col) {\n            for (let row = 0; row < this.paylinesMatrix[col].length; ++row) {\n                const { symbol, paylineSymbol } = this.paylinesMatrix[col][row];\n                if (symbol && paylineSymbol) {\n                    symbol.enableHighlight();\n                    paylineSymbol.enableHighlight();\n                    paylineSymbol.playAnimation();\n                }\n            }\n        }\n    },\n});\n"]}