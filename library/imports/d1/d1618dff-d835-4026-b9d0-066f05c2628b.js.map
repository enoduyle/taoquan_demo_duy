{"version":3,"sources":["../../../../../../assets/cc-common/cc-slotbase-v2/portrailGame/assets/cc-common/cc-slotbase-v2/portrailGame/BetOptionScrollView.js"],"names":["PoolFactory","require","cc","Class","extends","Component","properties","poolFactory","type","default","visible","scrollView","Node","content","view","betSelectPrefabName","onLoad","on","scrollEnded","touchUp","scrollingView","initPos","height","heightItem","node","updateData","selectMaxBet","clearAllBets","EventType","TOUCH_END","touchViewEnded","bind","TOUCH_START","touchViewStart","TOUCH_MOVE","touchViewMove","TOUCH_CANCEL","touchViewCancel","MOUSE_WHEEL","mouseWheel","listItems","currentIndex","mainDirector","getComponent","y","limitBottom","limitTop","getCorrectPositionY","isTouchStarted","isDelayChangeColorButton","controller","setSelectColorButtons","getIsScrolling","unSetSelectColorButtons","delayTimeChangeColorButton","isTouchUp","calculateScroll","ScrollView","isScrolling","getSelectBlocked","isSelectBlocked","update","dt","parseInt","countWheel","prevPos","getPosition","scrollDirection","tween","stop","delay","call","start","i","length","removedObj","removeObject","listBetValues","currentBetData","maxBet","item","getObject","active","parent","emit","setSiblingIndex","push","found","findIndex","it","reserveFound","Layout","updateLayout","selectItemInAction","newY","setStopTouchUp","selectBet","index","timeScroll","setSelectedBet","reserveIndex","time","isMaxBet","nextPos","tweenMove","to","position","v2","easing","tweenUnBlock","offset","Math","round","onDestroy"],"mappings":";;;;;;;;AAAA,IAAMA,cAAcC,QAAQ,aAAR,CAApB;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,qBAAa;AACTC,kBAAMR,WADG;AAETS,qBAAS,IAFA;AAGTC,qBAAS;AAHA,SADL;AAMRC,oBAAYT,GAAGU,IANP;AAORC,iBAASX,GAAGU,IAPJ;AAQRE,cAAMZ,GAAGU,IARD;AASRG,6BAAqB;AATb,KAHP;;AAeLC,UAfK,oBAeI;AACL,aAAKL,UAAL,CAAgBM,EAAhB,CAAmB,cAAnB,EAAmC,KAAKC,WAAxC,EAAqD,IAArD;AACA,aAAKP,UAAL,CAAgBM,EAAhB,CAAmB,UAAnB,EAA+B,KAAKE,OAApC,EAA6C,IAA7C;AACA,aAAKR,UAAL,CAAgBM,EAAhB,CAAmB,WAAnB,EAAgC,KAAKG,aAArC,EAAoD,IAApD;;AAEA,aAAKC,OAAL,GAAe,KAAKP,IAAL,CAAUQ,MAAV,GAAmB,CAAlC;AACA,aAAKC,UAAL,GAAkB,EAAlB;AACA,aAAKC,IAAL,CAAUP,EAAV,CAAa,aAAb,EAA4B,KAAKQ,UAAjC,EAA6C,IAA7C;AACA,aAAKD,IAAL,CAAUP,EAAV,CAAa,gBAAb,EAA+B,KAAKS,YAApC,EAAkD,IAAlD;AACA,aAAKF,IAAL,CAAUP,EAAV,CAAa,eAAb,EAA8B,KAAKU,YAAnC,EAAiD,IAAjD;;AAEA,aAAKb,IAAL,CAAUG,EAAV,CAAaf,GAAGU,IAAH,CAAQgB,SAAR,CAAkBC,SAA/B,EAA0C,KAAKC,cAAL,CAAoBC,IAApB,CAAyB,IAAzB,CAA1C;AACA,aAAKjB,IAAL,CAAUG,EAAV,CAAaf,GAAGU,IAAH,CAAQgB,SAAR,CAAkBI,WAA/B,EAA4C,KAAKC,cAAL,CAAoBF,IAApB,CAAyB,IAAzB,CAA5C;AACA,aAAKjB,IAAL,CAAUG,EAAV,CAAaf,GAAGU,IAAH,CAAQgB,SAAR,CAAkBM,UAA/B,EAA2C,KAAKC,aAAL,CAAmBJ,IAAnB,CAAwB,IAAxB,CAA3C;AACA,aAAKjB,IAAL,CAAUG,EAAV,CAAaf,GAAGU,IAAH,CAAQgB,SAAR,CAAkBQ,YAA/B,EAA6C,KAAKC,eAAL,CAAqBN,IAArB,CAA0B,IAA1B,CAA7C;;AAEA,aAAKjB,IAAL,CAAUG,EAAV,CAAaf,GAAGU,IAAH,CAAQgB,SAAR,CAAkBU,WAA/B,EAA4C,KAAKC,UAAL,CAAgBR,IAAhB,CAAqB,IAArB,CAA5C;;AAGA,aAAKS,SAAL,GAAiB,EAAjB;AACA,aAAKC,YAAL,GAAoB,CAApB;AACA,YAAI,KAAKjB,IAAL,CAAUkB,YAAd,EAA4B;AACxB,iBAAKnC,WAAL,GAAmB,KAAKiB,IAAL,CAAUkB,YAAV,CAAuBC,YAAvB,CAAoC3C,WAApC,CAAnB;AACH;AACJ,KAvCI;AAyCLoB,iBAzCK,2BAyCW;AACZ,YAAI,KAAKP,OAAL,CAAa+B,CAAb,IAAkB,KAAKC,WAAvB,IAAsC,KAAKhC,OAAL,CAAa+B,CAAb,IAAkB,KAAKE,QAAjE,EAA2E;AAC3E,YAAI,KAAKb,cAAT,EAAyB,KAAKpB,OAAL,CAAa+B,CAAb,GAAiB,KAAKG,mBAAL,CAAyB,KAAKlC,OAAL,CAAa+B,CAAtC,CAAjB;AAC5B,KA5CI;AA8CLT,iBA9CK,2BA8CW;AACZ,YAAI,KAAKF,cAAT,EAAyB,KAAKpB,OAAL,CAAa+B,CAAb,GAAiB,KAAKG,mBAAL,CAAyB,KAAKlC,OAAL,CAAa+B,CAAtC,CAAjB;AACzB,YAAI,KAAKI,cAAL,IAAuB,CAAC,KAAKC,wBAAjC,EAA2D;AACvD,iBAAKC,UAAL,CAAgBC,qBAAhB;AACH;AACJ,KAnDI;AAqDLrB,kBArDK,4BAqDY;AACb,aAAKkB,cAAL,GAAsB,KAAtB;AACA,YAAI,KAAKI,cAAL,OAA0B,KAA9B,EAAqC,KAAKF,UAAL,CAAgBG,uBAAhB,CAAwC,KAAKZ,YAAL,IAAqB,CAA7D;AACxC,KAxDI;AA0DLR,kBA1DK,4BA0DY;AACb,aAAKe,cAAL,GAAsB,IAAtB;AACA,aAAKC,wBAAL,GAAgC,IAAhC;AACA,aAAKK,0BAAL,GAAkC,IAAlC;AACH,KA9DI;AAgELjB,mBAhEK,6BAgEa;AACd,YAAI,KAAKe,cAAL,OAA0B,KAA9B,EAAqC,KAAKF,UAAL,CAAgBG,uBAAhB,CAAwC,KAAKZ,YAAL,IAAqB,CAA7D;AACrC,aAAKc,SAAL,GAAiB,KAAjB;AACA,aAAKC,eAAL;AACH,KApEI;AAsELJ,kBAtEK,4BAsEY;AACb,eAAO,KAAKzC,UAAL,CAAgBgC,YAAhB,CAA6BzC,GAAGuD,UAAhC,EAA4CC,WAA5C,EAAP;AACH,KAxEI;AA0ELC,oBA1EK,8BA0Ec;AACf,eAAO,KAAKC,eAAZ;AACH,KA5EI;AA8ELC,UA9EK,kBA8EEC,EA9EF,EA8EM;AACP,YAAI,KAAKb,wBAAT,EAAmC;AAC/B,iBAAKK,0BAAL,IAAmCQ,EAAnC;AACA,gBAAI,KAAKR,0BAAL,GAAkC,CAAtC,EAAyC;AACrC,qBAAKL,wBAAL,GAAgC,KAAhC;AACH;AACJ;AACJ,KArFI;AAuFLV,cAvFK,wBAuFQ;AAAA;;AACT,YAAIwB,SAAS,KAAKlD,OAAL,CAAa+B,CAAtB,KAA4BmB,SAAS,KAAKjB,QAAd,CAAhC,EAAyD,KAAKjC,OAAL,CAAa+B,CAAb,GAAiB,KAAKE,QAAtB;AACzD,YAAIiB,SAAS,KAAKlD,OAAL,CAAa+B,CAAtB,KAA4BmB,SAAS,KAAKlB,WAAd,CAAhC,EAA4D,KAAKhC,OAAL,CAAa+B,CAAb,GAAiB,KAAKC,WAAtB;AAC5D,YAAI,KAAKhC,OAAL,CAAa+B,CAAb,IAAkB,KAAKC,WAAvB,IAAsC,KAAKhC,OAAL,CAAa+B,CAAb,IAAkB,KAAKE,QAAjE,EAA2E;AAC3E,YAAI,CAAC,KAAKkB,UAAV,EAAsB,KAAKA,UAAL,GAAkB,CAAlB;AACtB,YAAI,CAAC,KAAKnD,OAAL,CAAaoD,OAAlB,EAA2B,KAAKpD,OAAL,CAAaoD,OAAb,GAAuB,KAAKpD,OAAL,CAAaqD,WAAb,EAAvB;AAC3B,YAAI,KAAKF,UAAL,IAAmB,CAAvB,EAA0B;AACtB,iBAAKG,eAAL,GAAuB,KAAKtD,OAAL,CAAa+B,CAAb,GAAiB,KAAK/B,OAAL,CAAaoD,OAAb,CAAqBrB,CAAtC,GAA0C,CAA1C,GAA8C,CAA9C,GAAkD,CAAC,CAA1E;AACA,iBAAK/B,OAAL,CAAa+B,CAAb,GAAiB,KAAKG,mBAAL,CAAyB,KAAKlC,OAAL,CAAa+B,CAAb,GAAiB,KAAKuB,eAAL,GAAuB,EAAjE,CAAjB;AACA,iBAAKH,UAAL,GAAkB,CAAlB;AACH;AACD;AACA,aAAKT,SAAL,GAAiB,KAAjB;AACA,aAAK/B,IAAL,CAAU4C,KAAV,IAAmB,KAAK5C,IAAL,CAAU4C,KAAV,CAAgBC,IAAhB,EAAnB;AACA,aAAK7C,IAAL,CAAU4C,KAAV,GAAkBlE,GAAGkE,KAAH,CAAS,KAAK5C,IAAd,EACb8C,KADa,CACP,KADO,EAEbC,IAFa,CAER,YAAM;AACR,kBAAKf,eAAL;AACH,SAJa,EAKbgB,KALa,EAAlB;AAMA,aAAK3D,OAAL,CAAaoD,OAAb,GAAuB,KAAKpD,OAAL,CAAaqD,WAAb,EAAvB;AACA,aAAKF,UAAL;AACH,KA7GI;AA+GLrC,gBA/GK,0BA+GU;AACX,aAAK,IAAI8C,IAAI,CAAb,EAAgBA,IAAI,KAAKjC,SAAL,CAAekC,MAAnC,EAA2CD,GAA3C,EAAgD;AAC5C,gBAAIE,aAAa,KAAKnC,SAAL,CAAeiC,CAAf,CAAjB;AACA,gBAAI,KAAKlE,WAAT,EAAsB,KAAKA,WAAL,CAAiBqE,YAAjB,CAA8BD,UAA9B;AACzB;AACD,aAAKnC,SAAL,GAAiB,EAAjB;AACH,KArHI;AAuHLf,cAvHK,wBAuHsD;AAAA,YAAhDoD,aAAgD,uEAAhC,EAAgC;AAAA,YAA5BC,cAA4B;AAAA,YAAZ5B,UAAY;;AACvD,aAAKA,UAAL,GAAkBA,UAAlB;AACA,aAAKvB,YAAL;AACA,aAAKkD,aAAL,gCAAyBA,aAAzB;AACA,aAAKE,MAAL,GAAc,KAAKF,aAAL,CAAmB,CAAnB,CAAd;;AAEA,aAAK,IAAIJ,IAAI,CAAb,EAAgBA,IAAII,cAAcH,MAAlC,EAA0CD,GAA1C,EAA+C;AAC3C,gBAAMO,OAAO,KAAKzE,WAAL,IAAoB,KAAKA,WAAL,CAAiB0E,SAAjB,CAA2B,KAAKlE,mBAAhC,CAAjC;AACA,gBAAIiE,IAAJ,EAAU;AACNA,qBAAKE,MAAL,GAAc,IAAd;AACAF,qBAAKG,MAAL,GAAc,KAAKtE,OAAnB;AACAmE,qBAAKI,IAAL,CAAU,aAAV,EAAyB,KAAKP,aAAL,CAAmBJ,CAAnB,CAAzB,EAAgDA,CAAhD,EAAmD,IAAnD;AACAO,qBAAKK,eAAL,CAAqB,CAArB;AACA,qBAAK9D,UAAL,GAAkByD,KAAK1D,MAAvB;AACA,qBAAKkB,SAAL,CAAe8C,IAAf,CAAoBN,IAApB;AACH;AACJ;AACD,YAAMO,QAAQ,KAAKV,aAAL,CAAmBW,SAAnB,CAA6B,cAAM;AAAE,gBAAIC,OAAOX,cAAX,EAA2B,OAAO,IAAP;AAAc,SAA9E,CAAd;AACA,YAAMY,eAAe,KAAKb,aAAL,CAAmBH,MAAnB,GAA4B,CAA5B,GAAgCa,KAArD;AACA,aAAK1E,OAAL,CAAa8B,YAAb,CAA0BzC,GAAGyF,MAA7B,EAAqCC,YAArC;AACA,aAAKnD,YAAL,GAAoB8C,KAApB;AACA,aAAKM,kBAAL,CAAwB,GAAxB,EAA6BH,YAA7B,EAA2C,KAAKjD,YAAL,IAAqB,CAAhE;AACA,aAAKI,WAAL,GAAmB,KAAKtB,UAAL,GAAkB,CAArC;AACA,aAAKuB,QAAL,GAAgB,KAAKjC,OAAL,CAAaS,MAAb,GAAsB,KAAKC,UAAL,GAAkB,CAAxD;AACH,KA/II;AAiJLwB,uBAjJK,+BAiJe+C,IAjJf,EAiJqB;AACtB,YAAI,KAAKjF,OAAL,CAAa+B,CAAb,IAAkB,KAAKC,WAA3B,EAAwC,OAAO,KAAKA,WAAZ,CAAxC,KACK,IAAI,KAAKhC,OAAL,CAAa+B,CAAb,IAAkB,KAAKE,QAA3B,EAAqC,OAAO,KAAKA,QAAZ;AAC1C,eAAOgD,IAAP;AACH,KArJI;AAuJLC,kBAvJK,4BAuJY;AACb,aAAKxC,SAAL,GAAiB,KAAjB;AACH,KAzJI;AA2JLpC,WA3JK,qBA2JK;AACN,aAAKoC,SAAL,GAAiB,IAAjB;AACH,KA7JI;AA+JLyC,aA/JK,uBA+JkC;AAAA,YAA7BC,KAA6B,uEAArB,CAAqB;AAAA,YAAlBC,UAAkB,uEAAL,GAAK;;AACnC,aAAKhD,UAAL,CAAgBiD,cAAhB,CAA+B,KAAKtB,aAAL,CAAmBoB,KAAnB,CAA/B,EAA0DA,UAAU,CAApE;AACA,YAAMG,eAAe,KAAKvB,aAAL,CAAmBH,MAAnB,GAA4B,CAA5B,GAAgCuB,KAArD;AACA,aAAKxD,YAAL,GAAoBwD,KAApB;AACA,aAAKJ,kBAAL,CAAwBK,UAAxB,EAAoCE,YAApC,EAAkD,IAAlD;AACA,aAAKlD,UAAL,CAAgBG,uBAAhB,CAAwC,KAAKZ,YAAL,IAAqB,CAA7D;AACH,KArKI;AAuKLf,gBAvKK,0BAuKU;AACX,aAAKsE,SAAL,CAAe,CAAf;AACH,KAzKI;AA2KLH,sBA3KK,gCA2KoD;AAAA,YAAtCQ,IAAsC,uEAA/B,IAA+B;;AAAA;;AAAA,YAAzBJ,KAAyB;AAAA,YAAlBK,QAAkB,uEAAP,KAAO;;AACrD,YAAI,KAAK1C,eAAT,EAA0B;AAC1B,aAAKA,eAAL,GAAuB,IAAvB;AACA,aAAKV,UAAL,CAAgBG,uBAAhB,CAAwCiD,QAAxC;AACA,YAAMC,UAAU,KAAKlF,OAAL,GAAe4E,QAAQ,KAAK1E,UAA5C;AACA,aAAKV,OAAL,CAAa2F,SAAb,IAA0B,KAAK3F,OAAL,CAAa2F,SAAb,CAAuBnC,IAAvB,EAA1B;AACA,aAAKxD,OAAL,CAAa2F,SAAb,GAAyBtG,GAAGkE,KAAH,CAAS,KAAKvD,OAAd,EACpB4F,EADoB,CACjBJ,IADiB,EACX,EAAEK,UAAUxG,GAAGyG,EAAH,CAAM,CAAN,EAASJ,OAAT,CAAZ,EADW,EACsB,EAAEK,QAAQ,SAAV,EADtB,EAEpBpC,KAFoB,EAAzB;AAGA,aAAK3D,OAAL,CAAagG,YAAb,IAA6B,KAAKhG,OAAL,CAAagG,YAAb,CAA0BxC,IAA1B,EAA7B;AACA,aAAKxD,OAAL,CAAagG,YAAb,GAA4B3G,GAAGkE,KAAH,CAAS,KAAKvD,OAAd,EACvByD,KADuB,CACjB,GADiB,EAEvBC,IAFuB,CAElB,YAAI;AACN,mBAAKX,eAAL,GAAuB,KAAvB;AACH,SAJuB,EAKvBY,KALuB,EAA5B;AAMH,KA3LI;AA6LLtD,eA7LK,yBA6LS;AACV,YAAI,KAAKqC,SAAT,EAAoB;AAChB,iBAAKC,eAAL,CAAqB,IAArB;AACH;AACJ,KAjMI;AAmMLA,mBAnMK,6BAmM6B;AAAA,YAAlB0C,UAAkB,uEAAL,GAAK;;AAC9B,YAAMY,SAAS,KAAKjG,OAAL,CAAa+B,CAAb,GAAiB,KAAKvB,OAArC;AACA,YAAI4E,QAAQc,KAAKC,KAAL,CAAWF,SAAS,KAAKvF,UAAzB,CAAZ;AACA,YAAI0E,QAAQ,CAAZ,EAAeA,QAAQ,CAAR,CAAf,KACK,IAAIA,SAAS,KAAKpB,aAAL,CAAmBH,MAAhC,EAAwCuB,QAAQ,KAAKpB,aAAL,CAAmBH,MAAnB,GAA4B,CAApC;;AAE7C,YAAM0B,eAAe,KAAKvB,aAAL,CAAmBH,MAAnB,GAA4B,CAA5B,GAAgCuB,KAArD;AACA,aAAKxD,YAAL,GAAoB2D,YAApB;AACA,YAAME,WAAWF,gBAAgB,CAAjC;AACA,aAAKlD,UAAL,CAAgBiD,cAAhB,CAA+B,KAAKtB,aAAL,CAAmBuB,YAAnB,CAA/B,EAAiEE,QAAjE;AACA,aAAKT,kBAAL,CAAwBK,UAAxB,EAAoCD,KAApC,EAA2CK,QAA3C;AACA,aAAK/C,SAAL,GAAiB,KAAjB;AACA,aAAKL,UAAL,CAAgBG,uBAAhB,CAAwC,KAAKZ,YAAL,IAAqB,CAA7D;AACH,KAhNI;AAkNLwE,aAlNK,uBAkNO;AACR,aAAKpG,OAAL,CAAagG,YAAb,IAA6B,KAAKhG,OAAL,CAAagG,YAAb,CAA0BxC,IAA1B,EAA7B;AACA,aAAKxD,OAAL,CAAa2F,SAAb,IAA0B,KAAK3F,OAAL,CAAa2F,SAAb,CAAuBnC,IAAvB,EAA1B;AACA,aAAK7C,IAAL,CAAU4C,KAAV,IAAmB,KAAK5C,IAAL,CAAU4C,KAAV,CAAgBC,IAAhB,EAAnB;AACH;AAtNI,CAAT","file":"BetOptionScrollView.js","sourceRoot":"../../../../../../assets/cc-common/cc-slotbase-v2/portrailGame","sourcesContent":["const PoolFactory = require('PoolFactory');\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        poolFactory: {\n            type: PoolFactory,\n            default: null,\n            visible: false,\n        },\n        scrollView: cc.Node,\n        content: cc.Node,\n        view: cc.Node,\n        betSelectPrefabName: ''\n    },\n\n    onLoad() {\n        this.scrollView.on('scroll-ended', this.scrollEnded, this);\n        this.scrollView.on('touch-up', this.touchUp, this);\n        this.scrollView.on('scrolling', this.scrollingView, this);\n\n        this.initPos = this.view.height / 2;\n        this.heightItem = 60;\n        this.node.on('UPDATE_DATA', this.updateData, this);\n        this.node.on('SELECT_MAX_BET', this.selectMaxBet, this);\n        this.node.on('CLEAR_ALL_BET', this.clearAllBets, this);\n\n        this.view.on(cc.Node.EventType.TOUCH_END, this.touchViewEnded.bind(this));\n        this.view.on(cc.Node.EventType.TOUCH_START, this.touchViewStart.bind(this));\n        this.view.on(cc.Node.EventType.TOUCH_MOVE, this.touchViewMove.bind(this));\n        this.view.on(cc.Node.EventType.TOUCH_CANCEL, this.touchViewCancel.bind(this));\n\n        this.view.on(cc.Node.EventType.MOUSE_WHEEL, this.mouseWheel.bind(this));\n        \n\n        this.listItems = [];\n        this.currentIndex = 0;\n        if (this.node.mainDirector) {\n            this.poolFactory = this.node.mainDirector.getComponent(PoolFactory);\n        }\n    },\n\n    scrollingView() {\n        if (this.content.y <= this.limitBottom || this.content.y >= this.limitTop) return;\n        if (this.touchViewStart) this.content.y = this.getCorrectPositionY(this.content.y);\n    },\n\n    touchViewMove() {\n        if (this.touchViewStart) this.content.y = this.getCorrectPositionY(this.content.y);\n        if (this.isTouchStarted && !this.isDelayChangeColorButton) {\n            this.controller.setSelectColorButtons();\n        }\n    },\n\n    touchViewEnded() {\n        this.isTouchStarted = false;\n        if (this.getIsScrolling() === false) this.controller.unSetSelectColorButtons(this.currentIndex == 0);\n    },\n\n    touchViewStart() {\n        this.isTouchStarted = true;\n        this.isDelayChangeColorButton = true;\n        this.delayTimeChangeColorButton = 0.15;\n    },\n\n    touchViewCancel() {\n        if (this.getIsScrolling() === false) this.controller.unSetSelectColorButtons(this.currentIndex == 0);\n        this.isTouchUp = false;\n        this.calculateScroll();\n    },\n\n    getIsScrolling() {\n        return this.scrollView.getComponent(cc.ScrollView).isScrolling();\n    },\n\n    getSelectBlocked() {\n        return this.isSelectBlocked;\n    },\n\n    update(dt) {\n        if (this.isDelayChangeColorButton) {\n            this.delayTimeChangeColorButton -= dt;\n            if (this.delayTimeChangeColorButton < 0) {\n                this.isDelayChangeColorButton = false;\n            }\n        }\n    },\n\n    mouseWheel() {\n        if (parseInt(this.content.y) >= parseInt(this.limitTop)) this.content.y = this.limitTop ;\n        if (parseInt(this.content.y) <= parseInt(this.limitBottom)) this.content.y = this.limitBottom ;\n        if (this.content.y <= this.limitBottom || this.content.y >= this.limitTop) return;\n        if (!this.countWheel) this.countWheel = 0;\n        if (!this.content.prevPos) this.content.prevPos = this.content.getPosition();\n        if (this.countWheel >= 3) {\n            this.scrollDirection = this.content.y - this.content.prevPos.y > 0 ? 1 : -1;\n            this.content.y = this.getCorrectPositionY(this.content.y + this.scrollDirection * 25);\n            this.countWheel = 0;\n        }\n        // cc.warn('mouseWheel this.content.y ' + this.content.y + ' this.limitTop ' + this.limitTop + ' this.limitBottom ' + this.limitBottom)\n        this.isTouchUp = false;\n        this.node.tween && this.node.tween.stop();\n        this.node.tween = cc.tween(this.node)\n            .delay(0.101)\n            .call(() => {\n                this.calculateScroll();\n            })\n            .start();\n        this.content.prevPos = this.content.getPosition();\n        this.countWheel++;\n    },\n\n    clearAllBets() {\n        for (let i = 0; i < this.listItems.length; i++) {\n            let removedObj = this.listItems[i];\n            if (this.poolFactory) this.poolFactory.removeObject(removedObj);\n        }\n        this.listItems = [];\n    },\n\n    updateData(listBetValues = [], currentBetData, controller) {\n        this.controller = controller;\n        this.clearAllBets();\n        this.listBetValues = [...listBetValues];\n        this.maxBet = this.listBetValues[0];\n\n        for (let i = 0; i < listBetValues.length; i++) {\n            const item = this.poolFactory && this.poolFactory.getObject(this.betSelectPrefabName);\n            if (item) {\n                item.active = true;\n                item.parent = this.content;\n                item.emit('UPDATE_DATA', this.listBetValues[i], i, this);\n                item.setSiblingIndex(2);\n                this.heightItem = item.height;\n                this.listItems.push(item);\n            }\n        }\n        const found = this.listBetValues.findIndex(it => { if (it === currentBetData) return true; });\n        const reserveFound = this.listBetValues.length - 1 - found;\n        this.content.getComponent(cc.Layout).updateLayout();\n        this.currentIndex = found;\n        this.selectItemInAction(0.1, reserveFound, this.currentIndex == 0);\n        this.limitBottom = this.heightItem * 3 ;\n        this.limitTop = this.content.height - this.heightItem * 3 ;\n    },\n\n    getCorrectPositionY(newY) {\n        if (this.content.y <= this.limitBottom) return this.limitBottom;\n        else if (this.content.y >= this.limitTop) return this.limitTop;\n        return newY;\n    },\n\n    setStopTouchUp() {\n        this.isTouchUp = false;\n    },\n\n    touchUp() {\n        this.isTouchUp = true;\n    },\n\n    selectBet(index = 0, timeScroll = 0.1) {\n        this.controller.setSelectedBet(this.listBetValues[index], index === 0);\n        const reserveIndex = this.listBetValues.length - 1 - index;\n        this.currentIndex = index;\n        this.selectItemInAction(timeScroll, reserveIndex, true);\n        this.controller.unSetSelectColorButtons(this.currentIndex == 0);\n    },\n\n    selectMaxBet() {\n        this.selectBet(0);\n    },\n\n    selectItemInAction(time = 0.15, index, isMaxBet = false) {\n        if (this.isSelectBlocked) return;\n        this.isSelectBlocked = true;\n        this.controller.unSetSelectColorButtons(isMaxBet);\n        const nextPos = this.initPos + index * this.heightItem;\n        this.content.tweenMove && this.content.tweenMove.stop();\n        this.content.tweenMove = cc.tween(this.content)\n            .to(time, { position: cc.v2(0, nextPos) }, { easing: \"expoOut\" })\n            .start();\n        this.content.tweenUnBlock && this.content.tweenUnBlock.stop();\n        this.content.tweenUnBlock = cc.tween(this.content)\n            .delay(0.1)\n            .call(()=>{\n                this.isSelectBlocked = false;\n            })\n            .start();\n    },\n\n    scrollEnded() {\n        if (this.isTouchUp) {\n            this.calculateScroll(0.15);\n        }\n    },\n\n    calculateScroll(timeScroll = 0.1) {\n        const offset = this.content.y - this.initPos;\n        let index = Math.round(offset / this.heightItem);\n        if (index < 0) index = 0;\n        else if (index >= this.listBetValues.length) index = this.listBetValues.length - 1;\n        \n        const reserveIndex = this.listBetValues.length - 1 - index;\n        this.currentIndex = reserveIndex;\n        const isMaxBet = reserveIndex == 0;\n        this.controller.setSelectedBet(this.listBetValues[reserveIndex], isMaxBet);\n        this.selectItemInAction(timeScroll, index, isMaxBet);\n        this.isTouchUp = false;\n        this.controller.unSetSelectColorButtons(this.currentIndex == 0);\n    },\n\n    onDestroy() {\n        this.content.tweenUnBlock && this.content.tweenUnBlock.stop();\n        this.content.tweenMove && this.content.tweenMove.stop();\n        this.node.tween && this.node.tween.stop();\n    }\n});\n"]}