{"version":3,"sources":["../../../../../assets/cc-common/cc-lobby-999/assets/cc-common/cc-lobby-999/KtekEventHandler.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"../../../../../assets/cc-common/cc-lobby-999","sourcesContent":["// Learn TypeScript:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class KtekEventHandler extends cc.Component {\n    static instance: KtekEventHandler = null;\n\n    receiveKtekCallback = null; //message send from KTEK\n    receiveOurCallback = null; //message send from us\n    joinRoomData = null;\n\n    static staticJoinRoomData = null;\n\n    onLoad() {\n        if (KtekEventHandler.instance == null) {\n            KtekEventHandler.instance = this;\n        }\n\n        if( KtekEventHandler.staticJoinRoomData ){\n            this.setJoinRoomData(KtekEventHandler.staticJoinRoomData.tableId,\n                KtekEventHandler.staticJoinRoomData.gameId,\n                KtekEventHandler.staticJoinRoomData.bet,\n                KtekEventHandler.staticJoinRoomData.time);\n            KtekEventHandler.staticJoinRoomData = null;\n        }\n    }\n\n    start() {\n\n    }\n\n    getInstance() {\n        return KtekEventHandler.instance;\n    }\n\n    sendToKtek(key, data) {\n        cc.log(\"sendToKtek key: \" + key + \" | data: \" + data);\n        if (this.receiveOurCallback != null) {\n            this.receiveOurCallback(key, data);\n        }\n    }\n\n    sendToUs(key, data) {\n        cc.log(\"sendToUs key: \" + key + \" | data: \" + JSON.stringify(data));\n        cc.log(\"sendToUs callback: \" + this.receiveKtekCallback);\n        if (this.receiveKtekCallback != null) {\n            this.receiveKtekCallback(key, data);\n        }\n    }\n\n    setJoinRoomData(tableID, gameID , betMoney,time) {\n        let roomData = {\n            tableId: tableID,\n            gameId: gameID,\n            bet: betMoney,\n            time,\n        };\n        KtekEventHandler.instance.joinRoomData = roomData;\n    }\n\n    setStaticJoinRoomData(tableID, gameID, betMoney,time) {\n        let roomData = {\n            tableId: tableID,\n            gameId: gameID,\n            bet: betMoney,\n            time,\n        };\n\n        KtekEventHandler.staticJoinRoomData = roomData;\n        cc.sys.localStorage.setItem(\"invitation_\"+gameID,JSON.stringify(roomData));\n    }\n\n\n    switchEnv({ isProd }) {\n        cc.log(\"KtekEventHandler switchEnv: \" + isProd);\n\n        const loadConfigAsync = require('loadConfigAsync');\n        loadConfigAsync.switchEnv(isProd);\n    }\n\n    // update (dt) {}\n}\n"]}