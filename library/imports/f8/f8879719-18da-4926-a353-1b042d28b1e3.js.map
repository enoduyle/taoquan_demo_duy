{"version":3,"sources":["../../../../../../../assets/cc-common/cc-slotbase-v2/slotGame/table/assets/cc-common/cc-slotbase-v2/slotGame/table/SlotTablePayline.js"],"names":["require","convertAssetArrayToObject","cc","Class","extends","Component","properties","paylineHolderNode","Node","tablePaylineInfo","paylineNormalSymbol","Prefab","paylineSpecialSymbols","type","default","onLoad","node","hasPayline","paylinesMatrix","paylineSpecial","on","setupPaylines","blinkHighlightPaylines","showAllNormalPayLines","showScatterPayLine","showBonusPayLine","showWildPayLine","clearPaylines","start","matrix","payLines","curentConfig","config","STATS","mode","active","payLineNormals","scatterHolderNode","bonusHolderNode","wildHolderNode","col","reels","length","row","showSymbols","symbol","paylineSymbol","createPaylineSymbol","payline","push","opacity","getXPosition","index","SYMBOL_WIDTH","SYMBOL_MARGIN_RIGHT","reel","instantiate","parent","x","y","showNumber","SYMBOL_HEIGHT","disableHighlight","payLineID","payLineWinNumbers","showNormalPayline","emit","line","timeoutPayLine","clearTimeout","setTimeout","ANIMATION_DURATION","resetSymbolPaylines","reset","disableHighlightNormalPaylines","stopAnimation","blinkNormalPayline","PAY_LINE_MATRIX","paylinePos","blinkHighlight","BLINK_DURATION","BLINKS","enableHighlight","playAnimation","callback","showSpecialPayline","forEach","child","director","getScheduler","schedule","removeAllChildren","onDestroy","onDisable","i"],"mappings":";;;;;;eAEoCA,QAAQ,OAAR;IAA7BC,qCAAAA;;AAEPC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,2BAAmBL,GAAGM,IADd;AAERC,0BAAkBP,GAAGM,IAFb;AAGRE,6BAAqBR,GAAGS,MAHhB;AAIRC,+BAAuB;AACnBC,kBAAMX,GAAGS,MADU;AAEnBG,qBAAS;AAFU;AAJf,KAHP;AAYLC,UAZK,oBAYI;AACL,aAAKC,IAAL,CAAUC,UAAV,GAAuB,KAAvB;AACA,YAAG,CAAC,KAAKR,gBAAT,EAA2B,KAAKA,gBAAL,GAAwB,KAAKO,IAA7B;AAC3B,aAAKE,cAAL,GAAsB,EAAtB;AACA,aAAKC,cAAL,GAAsBlB,0BAA0B,KAAKW,qBAA/B,CAAtB;AACA,aAAKI,IAAL,CAAUI,EAAV,CAAa,gBAAb,EAA8B,KAAKC,aAAnC,EAAiD,IAAjD;AACA,aAAKL,IAAL,CAAUI,EAAV,CAAa,2BAAb,EAAyC,KAAKE,sBAA9C,EAAqE,IAArE;AACA,aAAKN,IAAL,CAAUI,EAAV,CAAa,0BAAb,EAAwC,KAAKG,qBAA7C,EAAmE,IAAnE;AACA,aAAKP,IAAL,CAAUI,EAAV,CAAa,sBAAb,EAAoC,KAAKI,kBAAzC,EAA4D,IAA5D;AACA,aAAKR,IAAL,CAAUI,EAAV,CAAa,oBAAb,EAAkC,KAAKK,gBAAvC,EAAwD,IAAxD;AACA,aAAKT,IAAL,CAAUI,EAAV,CAAa,mBAAb,EAAiC,KAAKM,eAAtC,EAAsD,IAAtD;AACA,aAAKV,IAAL,CAAUI,EAAV,CAAa,gBAAb,EAA8B,KAAKO,aAAnC,EAAiD,IAAjD;AACH,KAxBI;AAyBLC,SAzBK,mBAyBG;AACJ,aAAKZ,IAAL,CAAUC,UAAV,GAAuB,IAAvB;AACH,KA3BI;AA4BLI,iBA5BK,yBA4BSQ,MA5BT,EA4BiBC,QA5BjB,EA4B2B;AAC5B,aAAKd,IAAL,CAAUe,YAAV,GAAyB,KAAKf,IAAL,CAAUgB,MAAV,CAAiBC,KAAjB,CAAuB,KAAKjB,IAAL,CAAUkB,IAAjC,CAAzB;AACA,aAAK3B,iBAAL,CAAuB4B,MAAvB,GAAgC,IAAhC;AACA,aAAKC,cAAL,GAAsBN,QAAtB;AACA,aAAKZ,cAAL,GAAsB,EAAtB;AACA,aAAKmB,iBAAL,GAAyB,EAAzB;AACA,aAAKC,eAAL,GAAuB,EAAvB;AACA,aAAKC,cAAL,GAAsB,EAAtB;;AAEA,aAAK,IAAIC,MAAM,CAAf,EAAkBA,MAAM,KAAKxB,IAAL,CAAUyB,KAAV,CAAgBC,MAAxC,EAAgD,EAAEF,GAAlD,EAAuD;AACnD,iBAAKtB,cAAL,CAAoBsB,GAApB,IAA2B,EAA3B;AACA,iBAAK,IAAIG,MAAM,CAAf,EAAkBA,MAAM,KAAK3B,IAAL,CAAUyB,KAAV,CAAgBD,GAAhB,EAAqBI,WAArB,CAAiCF,MAAjC,GAA0C,CAAlE,EAAqE,EAAEC,GAAvE,EAA4E;AACxE,oBAAME,SAAS,KAAK7B,IAAL,CAAUyB,KAAV,CAAgBD,GAAhB,EAAqBI,WAArB,CAAiCD,GAAjC,CAAf;AACA,oBAAMG,gBAAgB,KAAKC,mBAAL,CAAyB,KAAK/B,IAAL,CAAUyB,KAAV,CAAgBD,GAAhB,CAAzB,EAA8CK,OAAOA,MAArD,EAA6DL,GAA7D,EAAkEG,GAAlE,CAAtB;AACA,oBAAMK,UAAU;AACZH,kCADY,EACJC;AADI,iBAAhB;AAGA,qBAAK5B,cAAL,CAAoBsB,GAApB,EAAyBG,MAAI,CAA7B,IAAkCK,OAAlC;AACA,oBAAIH,OAAOA,MAAP,IAAiB,GAArB,EAA0B;AACtB,yBAAKR,iBAAL,CAAuBY,IAAvB,CAA4BD,OAA5B;AACH,iBAFD,MAEO,IAAIH,OAAOA,MAAP,IAAiB,GAArB,EAA0B;AAC7B,yBAAKP,eAAL,CAAqBW,IAArB,CAA0BD,OAA1B;AACH,iBAFM,MAEA,IAAIH,OAAOA,MAAP,IAAiB,GAArB,EAA0B;AAC7B,yBAAKN,cAAL,CAAoBU,IAApB,CAAyBD,OAAzB;AACH;AACJ;AACJ;;AAED,aAAKzC,iBAAL,CAAuB2C,OAAvB,GAAiC,CAAjC;AACH,KAzDI;AA0DLC,gBA1DK,wBA0DQC,KA1DR,EA0De;AAChB,eAAO,CAAC,KAAKpC,IAAL,CAAUgB,MAAV,CAAiBqB,YAAjB,GAAgC,KAAKrC,IAAL,CAAUgB,MAAV,CAAiBsB,mBAAlD,IAAyEF,KAAzE,GAAiF,KAAKpC,IAAL,CAAUgB,MAAV,CAAiBqB,YAAjB,GAA8B,CAAtH;AACH,KA5DI;AA6DLN,uBA7DK,+BA6DeQ,IA7Df,EA6DqBV,MA7DrB,EA6D6BL,GA7D7B,EA6DkCG,GA7DlC,EA6DuC;AACxC,YAAIG,sBAAJ;AACA,YAAI,KAAK3B,cAAL,CAAoB0B,MAApB,CAAJ,EAAiC;AAC7BC,4BAAgB5C,GAAGsD,WAAH,CAAe,KAAKrC,cAAL,CAAoB0B,MAApB,CAAf,CAAhB;AACH,SAFD,MAEO;AACHC,4BAAgB5C,GAAGsD,WAAH,CAAe,KAAK9C,mBAApB,CAAhB;AACH;AACDoC,sBAAcW,MAAd,GAAuB,KAAKlD,iBAA5B;AACAuC,sBAAcY,CAAd,GAAkB,KAAKP,YAAL,CAAkBX,GAAlB,CAAlB;AACAM,sBAAca,CAAd,GAAkB,CAACJ,KAAKK,UAAL,GAAkBjB,GAAlB,GAAwB,CAAzB,IAA8B,KAAK3B,IAAL,CAAUgB,MAAV,CAAiB6B,aAA/C,GAA+D,KAAK7C,IAAL,CAAUgB,MAAV,CAAiB6B,aAAjB,GAA+B,CAA9F,GAAkG,CAACN,KAAKK,UAAL,GAAkB,CAAnB,IAAsB,KAAK5C,IAAL,CAAUgB,MAAV,CAAiB6B,aAAvC,GAAqD,CAAzK;AACAf,sBAAcgB,gBAAd;AACA,eAAOhB,aAAP;AACH,KAzEI;;;AA2EL;AACAvB,yBA5EK,mCA4E4B;AAAA;;AAAA,YAAX6B,KAAW,uEAAH,CAAG;;AAC7B,aAAK7C,iBAAL,CAAuB2C,OAAvB,GAAiC,GAAjC;AACA,YAAI,CAAC,KAAKd,cAAL,CAAoBgB,KAApB,CAAL,EAAiC;AAC7BA,oBAAQ,CAAR;AACH;AAJ4B,oCAKW,KAAKhB,cAAL,CAAoBgB,KAApB,CALX;AAAA,YAKrBW,SALqB,yBAKrBA,SALqB;AAAA,YAKVC,iBALU,yBAKVA,iBALU;;;AAO7B,aAAKC,iBAAL,CAAuBF,SAAvB,EAAkCC,iBAAlC;;AAEA,aAAKvD,gBAAL,CAAsByD,IAAtB,CAA2B,cAA3B,EAA0C,EAACC,MAAM,KAAK/B,cAAL,CAAoBgB,KAApB,CAAP,EAA1C;AACA;AACA,YAAI,KAAKgB,cAAT,EAAwB;AACpBC,yBAAa,KAAKD,cAAlB;AACH;AACD,aAAKA,cAAL,GAAsBE,WAAW,YAAM;AACnC,kBAAK/C,qBAAL,CAA2B,EAAE6B,KAA7B;AACH,SAFqB,EAEnB,KAAKpC,IAAL,CAAUe,YAAV,CAAuBwC,kBAAvB,GAA4C,IAFzB,CAAtB;AAGH,KA7FI;AA8FLC,uBA9FK,iCA8FiB;AAClB,aAAK,IAAIhC,MAAM,CAAf,EAAkBA,MAAM,KAAKtB,cAAL,CAAoBwB,MAA5C,EAAoD,EAAEF,GAAtD,EAA2D;AACvD,iBAAK,IAAIG,MAAM,CAAf,EAAkBA,MAAM,KAAKzB,cAAL,CAAoBsB,GAApB,EAAyBE,MAAjD,EAAyD,EAAEC,GAA3D,EAAgE;AAC5D,qBAAKzB,cAAL,CAAoBsB,GAApB,EAAyBG,GAAzB,EAA8BE,MAA9B,CAAqC4B,KAArC;AACA,qBAAKvD,cAAL,CAAoBsB,GAApB,EAAyBG,GAAzB,EAA8BG,aAA9B,CAA4C2B,KAA5C;AACH;AACJ;AACJ,KArGI;AAsGLC,kCAtGK,4CAsG4B;AAC7B,aAAK,IAAIlC,MAAM,CAAf,EAAkBA,MAAM,KAAKtB,cAAL,CAAoBwB,MAA5C,EAAoD,EAAEF,GAAtD,EAA2D;AACvD,iBAAK,IAAIG,MAAM,CAAf,EAAkBA,MAAM,KAAKzB,cAAL,CAAoBsB,GAApB,EAAyBE,MAAjD,EAAyD,EAAEC,GAA3D,EAAgE;AAC5D,qBAAKzB,cAAL,CAAoBsB,GAApB,EAAyBG,GAAzB,EAA8BE,MAA9B,CAAqCiB,gBAArC;AACA,qBAAK5C,cAAL,CAAoBsB,GAApB,EAAyBG,GAAzB,EAA8BE,MAA9B,CAAqC8B,aAArC;AACA,qBAAKzD,cAAL,CAAoBsB,GAApB,EAAyBG,GAAzB,EAA8BG,aAA9B,CAA4CgB,gBAA5C;AACA,qBAAK5C,cAAL,CAAoBsB,GAApB,EAAyBG,GAAzB,EAA8BG,aAA9B,CAA4C6B,aAA5C;AACH;AACJ;AACJ,KA/GI;AAgHLC,sBAhHK,8BAgHcb,SAhHd,EAgHyBC,iBAhHzB,EAgH4C;AAC7C,YAAIhB,UAAU,KAAKhC,IAAL,CAAUgB,MAAV,CAAiB6C,eAAjB,CAAiCd,SAAjC,CAAd;AACA,aAAK,IAAIe,aAAa,CAAtB,EAAyBA,aAAad,iBAAtC,EAAyD,EAAEc,UAA3D,EAAuE;AACnE,gBAAMnC,MAAMK,QAAQ8B,UAAR,CAAZ;AACA,gBAAMtC,MAAMsC,UAAZ;AACA,iBAAK5D,cAAL,CAAoBsB,GAApB,EAAyBG,GAAzB,EAA8BE,MAA9B,CAAqCkC,cAArC,CAAoD,KAAK/D,IAAL,CAAUe,YAAV,CAAuBiD,cAA3E,EAA2F,KAAKhE,IAAL,CAAUe,YAAV,CAAuBkD,MAAlH;AACA,iBAAK/D,cAAL,CAAoBsB,GAApB,EAAyBG,GAAzB,EAA8BG,aAA9B,CAA4CiC,cAA5C,CAA2D,KAAK/D,IAAL,CAAUe,YAAV,CAAuBiD,cAAlF,EAAkG,KAAKhE,IAAL,CAAUe,YAAV,CAAuBkD,MAAzH;AAEH;AACJ,KAzHI;AA0HLhB,qBA1HK,6BA0HaF,SA1Hb,EA0HwBC,iBA1HxB,EA0H2C;AAC5C,aAAKU,8BAAL;AACA,YAAI1B,UAAU,KAAKhC,IAAL,CAAUgB,MAAV,CAAiB6C,eAAjB,CAAiCd,SAAjC,CAAd;AACA,YAAIf,WAAWA,QAAQN,MAAR,GAAiB,CAA5B,IAAiC,KAAKxB,cAAtC,IAAwD,KAAKA,cAAL,CAAoBwB,MAApB,GAA6B,CAAzF,EAA2F;AACvF,iBAAK,IAAIoC,aAAa,CAAtB,EAAyBA,aAAad,iBAAtC,EAAyD,EAAEc,UAA3D,EAAuE;AACnE,oBAAMnC,MAAMK,QAAQ8B,UAAR,CAAZ;AACA,oBAAMtC,MAAMsC,UAAZ;AACA,qBAAK5D,cAAL,CAAoBsB,GAApB,EAAyBG,GAAzB,EAA8BE,MAA9B,CAAqCqC,eAArC;AACA,qBAAKhE,cAAL,CAAoBsB,GAApB,EAAyBG,GAAzB,EAA8BE,MAA9B,CAAqCsC,aAArC;AACA,qBAAKjE,cAAL,CAAoBsB,GAApB,EAAyBG,GAAzB,EAA8BG,aAA9B,CAA4CoC,eAA5C;AACA,qBAAKhE,cAAL,CAAoBsB,GAApB,EAAyBG,GAAzB,EAA8BG,aAA9B,CAA4CqC,aAA5C;AAEH;AACJ;AACJ,KAxII;AAyIL3D,sBAzIK,8BAyIc4D,QAzId,EAyIwB;AACzB,aAAKC,kBAAL,CAAwB,KAAKhD,iBAA7B,EAAgD+C,QAAhD;AACH,KA3II;AA4IL3D,oBA5IK,4BA4IY2D,QA5IZ,EA4IsB;AACvB,aAAKC,kBAAL,CAAwB,KAAK/C,eAA7B,EAA8C8C,QAA9C;AACH,KA9II;AA+IL1D,mBA/IK,2BA+IW0D,QA/IX,EA+IqB;AACtB,aAAKC,kBAAL,CAAwB,KAAK9C,cAA7B,EAA6C6C,QAA7C;AACH,KAjJI;AAkJLC,sBAlJK,8BAkJcrE,IAlJd,EAkJoBoE,QAlJpB,EAkJ8B;AAC/B,aAAK7E,iBAAL,CAAuB2C,OAAvB,GAAiC,GAAjC;AACA,aAAKwB,8BAAL;AACA1D,aAAKsE,OAAL,CAAa,UAACC,KAAD,EAAW;AACpBA,kBAAM1C,MAAN,CAAaqC,eAAb;AACAK,kBAAM1C,MAAN,CAAasC,aAAb;AACAI,kBAAMzC,aAAN,CAAoBoC,eAApB;AACAK,kBAAMzC,aAAN,CAAoBqC,aAApB;AACH,SALD;AAMAjF,WAAGsF,QAAH,CAAYC,YAAZ,GAA2BC,QAA3B,CAAoC,YAAU;AAC1C1E,iBAAKkC,OAAL,GAAe,CAAf;AACA,gBAAIkC,YAAY,OAAOA,QAAP,IAAmB,UAAnC,EAA+C;AAC3CA;AACH;AACJ,SALD,EAKG,IALH,EAKS,CALT,EAKY,CALZ,EAKe,KAAKpE,IAAL,CAAUe,YAAV,CAAuBwC,kBALtC,EAK0D,KAL1D;AAMH,KAjKI;AAkKL5C,iBAlKK,2BAkKW;AACZ,YAAI,KAAKyC,cAAT,EAAwB;AACpBC,yBAAa,KAAKD,cAAlB;AACH;AACD,aAAKI,mBAAL;AACA,aAAKjE,iBAAL,CAAuBoF,iBAAvB;AACA,aAAKpF,iBAAL,CAAuB4B,MAAvB,GAAgC,KAAhC;AACA,aAAKjB,cAAL,GAAsB,EAAtB;AACA,aAAKmB,iBAAL,GAAyB,EAAzB;AACA,aAAKC,eAAL,GAAuB,EAAvB;AACA,aAAKC,cAAL,GAAsB,EAAtB;AACA,aAAK9B,gBAAL,CAAsByD,IAAtB,CAA2B,cAA3B;AACH,KA9KI;AA+KL0B,aA/KK,uBA+KO;AACRvB,qBAAa,KAAKD,cAAlB;AACH,KAjLI;AAkLLyB,aAlLK,uBAkLO;AACR,YAAI,KAAKzB,cAAT,EAAwB;AACpBC,yBAAa,KAAKD,cAAlB;AACH;AACJ,KAtLI;AAuLL9C,0BAvLK,kCAuLkB8D,QAvLlB,EAuL4B;AAC7B,aAAK7E,iBAAL,CAAuB2C,OAAvB,GAAiC,GAAjC;AACA,aAAKwB,8BAAL;AACA,aAAK,IAAIoB,IAAI,CAAb,EAAgBA,IAAI,KAAK1D,cAAL,CAAoBM,MAAxC,EAAgD,EAAEoD,CAAlD,EAAqD;AAAA,oCACT,KAAK1D,cAAL,CAAoB0D,CAApB,CADS;AAAA,gBACzC/B,SADyC,qBACzCA,SADyC;AAAA,gBAC9BC,iBAD8B,qBAC9BA,iBAD8B;;AAEjD,iBAAKY,kBAAL,CAAwBb,SAAxB,EAAmCC,iBAAnC;AACH;AACD,aAAKhD,IAAL,CAAUkD,IAAV,CAAe,mBAAf;AACAhE,WAAGsF,QAAH,CAAYC,YAAZ,GAA2BC,QAA3B,CAAoCN,QAApC,EAA8C,IAA9C,EAAoD,CAApD,EAAuD,CAAvD,EAA0D,KAAKpE,IAAL,CAAUe,YAAV,CAAuBkD,MAAvB,GAAgC,KAAKjE,IAAL,CAAUe,YAAV,CAAuBiD,cAAjH,EAAiI,KAAjI;AACH;AAhMI,CAAT","file":"SlotTablePayline.js","sourceRoot":"../../../../../../../assets/cc-common/cc-slotbase-v2/slotGame/table","sourcesContent":["\n\nconst {convertAssetArrayToObject} = require('utils');\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        paylineHolderNode: cc.Node,\n        tablePaylineInfo: cc.Node,\n        paylineNormalSymbol: cc.Prefab,\n        paylineSpecialSymbols: {\n            type: cc.Prefab,\n            default: [],\n        }\n    },\n    onLoad() {\n        this.node.hasPayline = false;\n        if(!this.tablePaylineInfo) this.tablePaylineInfo = this.node;\n        this.paylinesMatrix = [];\n        this.paylineSpecial = convertAssetArrayToObject(this.paylineSpecialSymbols);\n        this.node.on(\"SETUP_PAYLINES\",this.setupPaylines,this);\n        this.node.on(\"BLINK_ALL_NORMAL_PAYLINES\",this.blinkHighlightPaylines,this);\n        this.node.on(\"SHOW_ALL_NORMAL_PAYLINES\",this.showAllNormalPayLines,this);\n        this.node.on(\"SHOW_SCATTER_PAYLINE\",this.showScatterPayLine,this);\n        this.node.on(\"SHOW_BONUS_PAYLINE\",this.showBonusPayLine,this);\n        this.node.on(\"SHOW_WILD_PAYLINE\",this.showWildPayLine,this);\n        this.node.on(\"CLEAR_PAYLINES\",this.clearPaylines,this);\n    },\n    start() {\n        this.node.hasPayline = true;\n    },\n    setupPaylines(matrix, payLines) {\n        this.node.curentConfig = this.node.config.STATS[this.node.mode];\n        this.paylineHolderNode.active = true;\n        this.payLineNormals = payLines;\n        this.paylinesMatrix = [];\n        this.scatterHolderNode = [];\n        this.bonusHolderNode = [];\n        this.wildHolderNode = [];\n\n        for (let col = 0; col < this.node.reels.length; ++col) {\n            this.paylinesMatrix[col] = [];\n            for (let row = 1; row < this.node.reels[col].showSymbols.length - 1; ++row) {\n                const symbol = this.node.reels[col].showSymbols[row];\n                const paylineSymbol = this.createPaylineSymbol(this.node.reels[col],symbol.symbol, col, row);\n                const payline = {\n                    symbol, paylineSymbol,\n                };\n                this.paylinesMatrix[col][row-1] = payline;\n                if (symbol.symbol == \"A\") {\n                    this.scatterHolderNode.push(payline);\n                } else if (symbol.symbol == \"R\") {\n                    this.bonusHolderNode.push(payline);\n                } else if (symbol.symbol == \"K\") {\n                    this.wildHolderNode.push(payline);\n                }\n            }\n        }\n\n        this.paylineHolderNode.opacity = 0;\n    },\n    getXPosition(index) {\n        return (this.node.config.SYMBOL_WIDTH + this.node.config.SYMBOL_MARGIN_RIGHT) * index + this.node.config.SYMBOL_WIDTH/2;\n    },\n    createPaylineSymbol(reel, symbol, col, row) {\n        let paylineSymbol;\n        if (this.paylineSpecial[symbol]) {\n            paylineSymbol = cc.instantiate(this.paylineSpecial[symbol]);\n        } else {\n            paylineSymbol = cc.instantiate(this.paylineNormalSymbol);\n        }\n        paylineSymbol.parent = this.paylineHolderNode;\n        paylineSymbol.x = this.getXPosition(col);\n        paylineSymbol.y = (reel.showNumber - row + 1) * this.node.config.SYMBOL_HEIGHT - this.node.config.SYMBOL_HEIGHT/2 - (reel.showNumber - 3)*this.node.config.SYMBOL_HEIGHT/2;\n        paylineSymbol.disableHighlight();\n        return paylineSymbol;\n    },\n    \n    //Show each line for ANIMATION_DURATION time\n    showAllNormalPayLines(index = 0) {\n        this.paylineHolderNode.opacity = 255;\n        if (!this.payLineNormals[index]) {\n            index = 0;\n        }\n        const { payLineID, payLineWinNumbers} = this.payLineNormals[index];\n        \n        this.showNormalPayline(payLineID, payLineWinNumbers);\n\n        this.tablePaylineInfo.emit('SHOW_PAYLINE',{line: this.payLineNormals[index]});\n        //Recursive time, do we need to? or just use action sequence???\n        if (this.timeoutPayLine){\n            clearTimeout(this.timeoutPayLine);\n        }\n        this.timeoutPayLine = setTimeout(() => {\n            this.showAllNormalPayLines(++index);\n        }, this.node.curentConfig.ANIMATION_DURATION * 1000);\n    },\n    resetSymbolPaylines() {\n        for (let col = 0; col < this.paylinesMatrix.length; ++col) {\n            for (let row = 0; row < this.paylinesMatrix[col].length; ++row) {\n                this.paylinesMatrix[col][row].symbol.reset();\n                this.paylinesMatrix[col][row].paylineSymbol.reset();\n            }\n        }\n    },\n    disableHighlightNormalPaylines() {\n        for (let col = 0; col < this.paylinesMatrix.length; ++col) {\n            for (let row = 0; row < this.paylinesMatrix[col].length; ++row) {\n                this.paylinesMatrix[col][row].symbol.disableHighlight();\n                this.paylinesMatrix[col][row].symbol.stopAnimation();\n                this.paylinesMatrix[col][row].paylineSymbol.disableHighlight();\n                this.paylinesMatrix[col][row].paylineSymbol.stopAnimation();\n            }\n        }\n    },\n    blinkNormalPayline(payLineID, payLineWinNumbers) {\n        let payline = this.node.config.PAY_LINE_MATRIX[payLineID];\n        for (let paylinePos = 0; paylinePos < payLineWinNumbers; ++paylinePos) {\n            const row = payline[paylinePos];\n            const col = paylinePos;\n            this.paylinesMatrix[col][row].symbol.blinkHighlight(this.node.curentConfig.BLINK_DURATION, this.node.curentConfig.BLINKS);\n            this.paylinesMatrix[col][row].paylineSymbol.blinkHighlight(this.node.curentConfig.BLINK_DURATION, this.node.curentConfig.BLINKS);\n            \n        }\n    },\n    showNormalPayline(payLineID, payLineWinNumbers) {\n        this.disableHighlightNormalPaylines();\n        let payline = this.node.config.PAY_LINE_MATRIX[payLineID];\n        if (payline && payline.length > 0 && this.paylinesMatrix && this.paylinesMatrix.length > 0){\n            for (let paylinePos = 0; paylinePos < payLineWinNumbers; ++paylinePos) {\n                const row = payline[paylinePos];\n                const col = paylinePos;\n                this.paylinesMatrix[col][row].symbol.enableHighlight();\n                this.paylinesMatrix[col][row].symbol.playAnimation();\n                this.paylinesMatrix[col][row].paylineSymbol.enableHighlight();\n                this.paylinesMatrix[col][row].paylineSymbol.playAnimation();\n\n            }\n        }\n    },\n    showScatterPayLine(callback) {\n        this.showSpecialPayline(this.scatterHolderNode, callback);\n    },\n    showBonusPayLine(callback) {\n        this.showSpecialPayline(this.bonusHolderNode, callback);\n    },\n    showWildPayLine(callback) {\n        this.showSpecialPayline(this.wildHolderNode, callback);\n    },\n    showSpecialPayline(node, callback) {\n        this.paylineHolderNode.opacity = 255;\n        this.disableHighlightNormalPaylines();\n        node.forEach((child) => {\n            child.symbol.enableHighlight();\n            child.symbol.playAnimation();\n            child.paylineSymbol.enableHighlight();\n            child.paylineSymbol.playAnimation();\n        });\n        cc.director.getScheduler().schedule(function(){\n            node.opacity = 0;\n            if (callback && typeof callback == \"function\") {\n                callback();\n            }\n        }, this, 0, 0, this.node.curentConfig.ANIMATION_DURATION, false);\n    },\n    clearPaylines() {\n        if (this.timeoutPayLine){\n            clearTimeout(this.timeoutPayLine);\n        }\n        this.resetSymbolPaylines();\n        this.paylineHolderNode.removeAllChildren();\n        this.paylineHolderNode.active = false;\n        this.paylinesMatrix = [];\n        this.scatterHolderNode = [];\n        this.bonusHolderNode = [];\n        this.wildHolderNode = [];\n        this.tablePaylineInfo.emit('HIDE_PAYLINE');\n    },\n    onDestroy() {\n        clearTimeout(this.timeoutPayLine);\n    },\n    onDisable() {\n        if (this.timeoutPayLine){\n            clearTimeout(this.timeoutPayLine);\n        }\n    },\n    blinkHighlightPaylines(callback) {\n        this.paylineHolderNode.opacity = 255;\n        this.disableHighlightNormalPaylines();\n        for (let i = 0; i < this.payLineNormals.length; ++i) {\n            const { payLineID, payLineWinNumbers} = this.payLineNormals[i];\n            this.blinkNormalPayline(payLineID, payLineWinNumbers);\n        }\n        this.node.emit('BLINK_ALL_PAYLINE');\n        cc.director.getScheduler().schedule(callback, this, 0, 0, this.node.curentConfig.BLINKS * this.node.curentConfig.BLINK_DURATION, false);\n    },\n});\n"]}