{"version":3,"sources":["InfoScreen.js"],"names":["cc","Class","extends","Component","properties","onLoad","node","on","play","close","init","opacity","onLoadExtended","active","mainDirector","content","callback","instantly","enter","show","playOpeningAnimation","_openingAction","target","stopAction","sequence","delayTime","callFunc","runAction","playClosingAnimation","_closingAction","resetNode","exit","emit"],"mappings":"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","file":"InfoScreen.js","sourceRoot":"../../../../../../assets/cc-common/cc-slotbase-v2/component","sourcesContent":["\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        \n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        this.node.on(\"PLAY\",this.play,this);\n        this.node.on(\"HIDE\",this.close,this);\n        this.node.on(\"INIT\", this.init, this);\n        this.node.opacity = 0;\n        this.onLoadExtended();\n        this.node.active = false;\n    },\n\n    onLoadExtended(){\n        // override this if add more in onLoad\n    },\n\n    init(mainDirector) {\n        this.node.mainDirector = mainDirector;\n    }, \n\n    play(content, callback) {\n        this.content = content;\n        this.callback = callback;\n        let {instantly} = content;\n        this.instantly = instantly;\n        this.node.active = true;\n        this.enter();\n        if(this.instantly == true){\n            this.show();\n        }else{\n            this.playOpeningAnimation();\n        }\n    },\n\n    playOpeningAnimation(){\n        // TODO: override it with animation actions\n        if(this._openingAction!=null && this._openingAction.target != null){\n            this.node.stopAction(this._openingAction);\n        }\n        this._openingAction = cc.sequence(cc.delayTime(0.5), cc.callFunc(()=>{\n            this.show();\n        }));\n        this.node.runAction(this._openingAction);\n    },\n\n    playClosingAnimation(){\n        // TODO: override it with animation actions\n        if(this._closingAction!=null && this._closingAction.target != null){\n            this.node.stopAction(this._closingAction);\n        }\n        this._closingAction = cc.sequence(cc.delayTime(0.5), cc.callFunc(()=>{\n            this.resetNode();\n            this.exit();\n        }));\n        this.node.runAction(this._closingAction);\n    },\n\n    show() {\n        this.node.opacity = 255;\n    },\n\n    enter() {\n        // Overwrite this when extends\n        \n    },\n\n    close(){\n        if(this.instantly == true){\n            this.resetNode();\n            this.exit();\n        }else{\n            this.playClosingAnimation();\n        }\n    },\n\n    resetNode(){\n    },\n\n    exit() {\n        if (this.callback && typeof this.callback == \"function\") {\n            this.node.emit(\"STOP\");\n            this.callback();\n        }\n        if(this._openingAction!=null && this._openingAction.target != null){\n            this.node.stopAction(this._openingAction);\n        }\n        if(this._closingAction!=null && this._closingAction.target != null){\n            this.node.stopAction(this._closingAction);\n        }\n        this._openingAction = null;\n        this._closingAction = null;\n        this.content = null;\n        this.callback = null;\n        this.node.opacity = 0;\n        this.node.active = false;\n    }\n});"]}