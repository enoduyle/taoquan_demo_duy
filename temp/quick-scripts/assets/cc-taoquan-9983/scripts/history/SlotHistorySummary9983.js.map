{"version":3,"sources":["SlotHistorySummary9983.js"],"names":["cc","Class","extends","require","updateData","data","node","opacity","resetLabelTotalDetail","sessionId","totalWinAmount","totalNormalWinAmount","totalFreeWinAmount","totalJpWinAmount","totalBonusWinAmount","jpInfo","totalJPGrand","totalJPGMajor","forEach","jp","id","includes","amt","substring","length","totalWinLabel","string","getWinMoney","sessionLabel","active","updateWinAmount","scheduleOnce"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASC,QAAQ,4BAAR,CADJ;AAELC,cAFK,sBAEMC,IAFN,EAEY;AAAA;;AACb,aAAKC,IAAL,CAAUC,OAAV,GAAoB,CAApB;AACA,aAAKC,qBAAL;AAFa,YAGPC,SAHO,GAI6DJ,IAJ7D,CAGPI,SAHO;AAAA,YAGIC,cAHJ,GAI6DL,IAJ7D,CAGIK,cAHJ;AAAA,YAGoBC,oBAHpB,GAI6DN,IAJ7D,CAGoBM,oBAHpB;AAAA,YAITC,kBAJS,GAI6DP,IAJ7D,CAITO,kBAJS;AAAA,YAIWC,gBAJX,GAI6DR,IAJ7D,CAIWQ,gBAJX;AAAA,YAI6BC,mBAJ7B,GAI6DT,IAJ7D,CAI6BS,mBAJ7B;AAAA,YAIkDC,MAJlD,GAI6DV,IAJ7D,CAIkDU,MAJlD;;;AAMb,YAAIC,eAAe,CAAnB;AACA,YAAIC,gBAAgB,CAApB;AACA,YAAIF,MAAJ,EAAY;AACRA,mBAAOG,OAAP,CAAe,cAAM;AACjB,oBAAIC,GAAGC,EAAH,CAAMC,QAAN,CAAe,OAAf,CAAJ,EAA6B;AACzBL,oCAAgBG,GAAGG,GAAnB;AACH;AACD,oBAAIH,GAAGC,EAAH,CAAMC,QAAN,CAAe,OAAf,CAAJ,EAA6B;AACzBJ,qCAAiBE,GAAGG,GAApB;AACH;AACJ,aAPD;AAQH;AACDb,oBAAYJ,KAAKI,SAAL,CAAec,SAAf,CAAyBlB,KAAKI,SAAL,CAAee,MAAf,GAAwB,CAAjD,EAAoDnB,KAAKI,SAAL,CAAee,MAAnE,CAAZ;;AAGA,aAAKC,aAAL,CAAmBC,MAAnB,GAA4B,KAAKC,WAAL,CAAiBjB,cAAjB,CAA5B;;AAEA,aAAKkB,YAAL,CAAkBtB,IAAlB,CAAuBuB,MAAvB,GAAgC,IAAhC;AACA,aAAKD,YAAL,CAAkBF,MAAlB,SAA+BjB,SAA/B;;AAEA,aAAKqB,eAAL,CAAqB,QAArB,EAA+BnB,oBAA/B;AACA,aAAKmB,eAAL,CAAqB,MAArB,EAA6BlB,kBAA7B;AACA,YAAKI,eAAeC,aAAhB,KAAmCJ,gBAAvC,EAAyD;AACrD,iBAAKiB,eAAL,CAAqB,eAArB,EAAsCd,YAAtC;AACA,iBAAKc,eAAL,CAAqB,eAArB,EAAsCb,aAAtC;AACH;AACD,aAAKa,eAAL,CAAqB,OAArB,EAA8BhB,mBAA9B;;AAEA,aAAKR,IAAL,CAAUC,OAAV,GAAoB,CAApB;AACA,aAAKwB,YAAL,CAAkB,YAAM;AACpB,kBAAKzB,IAAL,CAAUC,OAAV,GAAoB,GAApB;AACH,SAFD,EAEG,IAFH;AAGH;AAxCI,CAAT","file":"SlotHistorySummary9983.js","sourceRoot":"../../../../../../assets/cc-taoquan-9983/scripts/history","sourcesContent":["\ncc.Class({\n    extends: require(\"SlotHistorySummaryImagesv2\"),\n    updateData(data) {\n        this.node.opacity = 0;\n        this.resetLabelTotalDetail();\n        let { sessionId, totalWinAmount, totalNormalWinAmount,\n            totalFreeWinAmount, totalJpWinAmount, totalBonusWinAmount, jpInfo } = data;\n\n        let totalJPGrand = 0;\n        let totalJPGMajor = 0;\n        if (jpInfo) {\n            jpInfo.forEach(jp => {\n                if (jp.id.includes(\"GRAND\")) {\n                    totalJPGrand += jp.amt;\n                }\n                if (jp.id.includes(\"MAJOR\")) {\n                    totalJPGMajor += jp.amt;\n                }\n            });\n        }\n        sessionId = data.sessionId.substring(data.sessionId.length - 8, data.sessionId.length);\n\n\n        this.totalWinLabel.string = this.getWinMoney(totalWinAmount);\n\n        this.sessionLabel.node.active = true;\n        this.sessionLabel.string = `#${sessionId}`;\n\n        this.updateWinAmount('NORMAL', totalNormalWinAmount);\n        this.updateWinAmount('FREE', totalFreeWinAmount);\n        if ((totalJPGrand + totalJPGMajor) === totalJpWinAmount) {\n            this.updateWinAmount('JACKPOT_GRAND', totalJPGrand);\n            this.updateWinAmount('JACKPOT_MAJOR', totalJPGMajor);\n        }\n        this.updateWinAmount('BONUS', totalBonusWinAmount);\n\n        this.node.opacity = 1;\n        this.scheduleOnce(() => {\n            this.node.opacity = 255;\n        }, 0.02);\n    },\n});\n"]}