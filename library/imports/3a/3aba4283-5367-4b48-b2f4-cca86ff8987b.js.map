{"version":3,"sources":["../../../../../assets/cc-common/cc-network/assets/cc-common/cc-network/authenPusher.js"],"names":["connectingPusher","globalNetwork","require","settingPusher","token","loginSuccess","loadConfigAsync","getConfig","USER_TOKEN","cc","sys","localStorage","setItem","leavePusher","triggerUserLogout","module","exports"],"mappings":";;;;;;AAEA,SAASA,gBAAT,GAA4B;AACxB,QAAMC,gBAAgBC,QAAQ,eAAR,CAAtB;AACA,QAAMC,gBAAgB,SAAhBA,aAAgB,OAAsC;AAAA,YAApCC,KAAoC,QAApCA,KAAoC;AAAA,YAA5BC,YAA4B,uEAAb,YAAM,CAAE,CAAK;;AACxD,YAAMC,kBAAkBJ,QAAQ,iBAAR,CAAxB;;AADwD,oCAEnCI,gBAAgBC,SAAhB,EAFmC;AAAA,YAEjDC,UAFiD,yBAEjDA,UAFiD;;AAGxDC,WAAGC,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4BJ,UAA5B,EAAwCJ,KAAxC;AACAC;AACH,KALD;AAMA,QAAMQ,cAAc,SAAdA,WAAc,GAAM;AACtB,YAAMP,kBAAkBJ,QAAQ,iBAAR,CAAxB;;AADsB,qCAEDI,gBAAgBC,SAAhB,EAFC;AAAA,YAEfC,UAFe,0BAEfA,UAFe;;AAGtBC,WAAGC,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4BJ,UAA5B,EAAwC,EAAxC;AACAP,sBAAca,iBAAd;AACH,KALD;AAMA,WAAO;AACHX,oCADG;AAEHU;AAFG,KAAP;AAIH;;AAEDE,OAAOC,OAAP,GAAiB,IAAIhB,gBAAJ,EAAjB","file":"authenPusher.js","sourceRoot":"../../../../../assets/cc-common/cc-network","sourcesContent":["\n\nfunction connectingPusher() {\n    const globalNetwork = require('globalNetwork');\n    const settingPusher = ({token}, loginSuccess = () => {}) => {\n        const loadConfigAsync = require('loadConfigAsync');\n        const {USER_TOKEN} = loadConfigAsync.getConfig();\n        cc.sys.localStorage.setItem(USER_TOKEN, token);\n        loginSuccess();\n    };\n    const leavePusher = () => {\n        const loadConfigAsync = require('loadConfigAsync');\n        const {USER_TOKEN} = loadConfigAsync.getConfig();\n        cc.sys.localStorage.setItem(USER_TOKEN, \"\");\n        globalNetwork.triggerUserLogout();\n    };\n    return {\n        settingPusher,\n        leavePusher\n    };\n}\n\nmodule.exports = new connectingPusher();\n"]}