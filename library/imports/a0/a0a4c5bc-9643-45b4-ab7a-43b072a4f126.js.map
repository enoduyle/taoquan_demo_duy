{"version":3,"sources":["../../../../../../../assets/cc-common/cc-slotbase-v2/portrailGame/History/assets/cc-common/cc-slotbase-v2/portrailGame/History/BetDetailHistoryPortrail.js"],"names":["globalNetwork","require","serviceRest","BetHistoryDetailPage","CANVAS_WIDTH","TITLE","NORMAL","FREE","addZero","i","cc","Class","extends","Component","properties","title","Label","time","backBtn","Node","nextBtn","loading","errorMessage","noBetDetail","closeButton","detailPages","durationTransition","serverMessage","onEnable","active","onLoad","node","on","openBetDetail","disableClose","bind","closeNotice","setToken","assignVariable","lastDetailPage","currentDetailPage","currentPage","lastPage","itemPerPage","totalPages","timeFormat","indexUsedPage","listResultData","Map","token","type","userId","tokenType","openLastBetDetail","sessionData","opacity","getComponent","Button","interactable","callback","_closeTween","stop","resetBoard","resetDetailPages","requestTotalPage","renderFirstDetailPage","getToken","headers","Authorization","requestParams","serviceId","config","GAME_ID","psId","sessionId","getWithHeader","url","params","onTotalDetailResponse","callbackErr","requestErr","res","error","msg","table","clearTable","getComponentInChildren","string","data","resultList","length","summaryData","scroll","renderTotalPage","Error","requestDetail","tween","to","position","v2","call","start","onNextDetailPage","soundPlayer","playSFXClick","onPreviousDetailPage","page","playLoading","has","renderDetailPage","from","size","onRequestDetailResponse","total","indexPage","set","Vec2","hideInfoDetailPage","log","get","console","warn","mode","timestamp","formatTimeStamp","lastedWonSymbol","lastedNumberWinFeatures","previousSpinData","result","totalWinSymbol","numberWinFeatures","extendData","updateData","tartgetLastDetailPage","tartgetCurrentDetailPage","delay","ts","date","Date","year","getFullYear","month","getMonth","day","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","replace","onClose","evt","Event","EventCustom","dispatchEvent"],"mappings":"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","file":"BetDetailHistoryPortrail.js","sourceRoot":"../../../../../../../assets/cc-common/cc-slotbase-v2/portrailGame/History","sourcesContent":["const globalNetwork = require('globalNetwork');\nconst serviceRest = require('serviceRest');\nconst BetHistoryDetailPage = require(\"BetHistoryDetailPage\");\n\nconst CANVAS_WIDTH = 720;\nconst TITLE = {\n    NORMAL: \"Quay Thường\",\n    FREE: \"Quay Miễn Phí\",\n};\n\nfunction addZero(i) {\n    if (i < 10) {\n        i = '0' + i;\n    }\n    return i;\n}\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        title: cc.Label,\n        time: cc.Label,\n\n        backBtn: cc.Node,\n        nextBtn: cc.Node,\n        loading: cc.Node,\n        errorMessage: cc.Node,\n        noBetDetail: cc.Node,\n        closeButton: cc.Node,\n\n        detailPages: [BetHistoryDetailPage],\n        durationTransition: 0.3,\n\n        //error message\n        serverMessage: cc.Node,\n    },\n\n    onEnable() {\n        if (this.serverMessage) this.serverMessage.active = false;\n    },\n\n    onLoad() {\n        this.node.on(\"OPEN_BET_DETAIL\", this.openBetDetail, this);\n        this.node.on(\"DISABLE_CLOSE\", this.disableClose.bind(this));\n        this.node.on(\"CLOSE_NOTICE\", this.closeNotice, this);\n\n        this.node.setToken = this.setToken.bind(this);\n\n        this.node.active = false;\n        this.assignVariable();\n    },\n\n    assignVariable() {\n        this.lastDetailPage = null;\n        this.currentDetailPage = null;\n        this.currentPage = -1;\n        this.lastPage = -1;\n        this.itemPerPage = 5;\n        this.totalPages = 0;\n        this.timeFormat = \"DD/MM hh:mm:ss\";\n        this.indexUsedPage = 0;\n\n        //save data bet history from server\n        this.listResultData = new Map();\n    },\n\n    setToken(token, type, userId) {\n        this.token = token;\n        this.tokenType = type;\n        this.userId = userId;\n    },\n\n    openLastBetDetail() {\n        if (this.currentPage == 0) {\n            this.openBetDetail(this.sessionData, null);\n        } else {\n            this.closeNotice();\n            this.node.opacity = 255;\n            if (this.totalPages == 1) {\n                this.nextBtn.active = false;\n                this.backBtn.active = false;\n            } else if (this.currentPage == this.totalPages - 1) {\n                this.nextBtn.getComponent(cc.Button).interactable = false;\n                this.nextBtn.active = false;\n                this.backBtn.active = true;\n                this.backBtn.getComponent(cc.Button).interactable = true;\n            } else if (this.currentPage == 0) {\n                this.backBtn.getComponent(cc.Button).interactable = false;\n                this.backBtn.active = false;\n                this.nextBtn.active = true;\n                this.nextBtn.getComponent(cc.Button).interactable = true;\n            } else {\n                this.backBtn.active = true;\n                this.nextBtn.active = true;\n                this.nextBtn.getComponent(cc.Button).interactable = true;\n                this.backBtn.getComponent(cc.Button).interactable = true;\n            } \n        }\n    },\n\n    //#region summary bet history\n    openBetDetail(sessionData, callback = null) {\n        this.nextBtn.getComponent(cc.Button).interactable = false;\n        this.backBtn.getComponent(cc.Button).interactable = false;\n\n        this.sessionData = sessionData;\n\n        this.node.opacity = 255;\n        if(this._closeTween){\n            this._closeTween.stop();\n            this._closeTween = null;\n        }\n        this.resetBoard();\n        this.resetDetailPages();\n        this.requestTotalPage();\n        this.renderFirstDetailPage(callback);\n    },\n\n    resetBoard() {\n        this.currentPage = -1;\n        this.lastPage = -1;\n        this.totalPages = 0;\n        this.indexUsedPage = 0;\n        this.listResultData = new Map();\n    },\n\n    requestTotalPage() {\n        let token = this.token || globalNetwork.getToken();\n        let headers = {\n            Authorization: token\n        };\n\n        headers['token-type'] = 'user';\n        if (this.tokenType) headers['token-type'] = this.tokenType;\n        if (this.userId) headers['user-id'] = this.userId;\n\n        let requestParams = {\n            serviceId: this.node.config.GAME_ID,\n            psId: this.sessionData.sessionId,\n        };\n        serviceRest.getWithHeader({\n            url: \"history/getHistoryUserSpinSummary\",\n            params: requestParams,\n            callback: this.onTotalDetailResponse.bind(this),\n            callbackErr: this.requestErr.bind(this),\n            headers\n        });\n        this.currentPage = -1;\n        this.sessionId = this.sessionData.sessionId;\n    },\n\n    onTotalDetailResponse(res) {\n        if (res.error && res.error.msg) {\n            if (this.table) this.table.clearTable();\n            if (this.loading) this.loading.active = false;\n            this.serverMessage.active = true;\n            this.serverMessage.getComponentInChildren(cc.Label).string = res.error.msg;\n        }\n        else if (res.data && res.data.resultList && res.data.resultList.length > 0) {\n            this.sessionData.summaryData = res.data.resultList[0];\n            this.sessionData.scroll = res.data.scroll;\n            this.sessionData.summaryData.sessionId = this.sessionData.sessionId;\n            this.renderTotalPage();\n        }\n        else {\n            if (this.sessionData) {\n                throw new Error('Null summary data: ' + this.sessionData.sessionId);\n            }\n            this.requestErr();\n        }\n    },\n\n    renderTotalPage() {\n        // no totalPage\n\n    },\n    //#endregion\n\n    //#region page detail\n    renderFirstDetailPage(callback = null) {\n        // call page detail index\n        this.currentPage = 0;\n        this.nextBtn.active = false;\n        this.backBtn.active = false;\n\n        this.requestDetail(this.sessionId, this.currentPage);\n\n        // tween detail page to overlay bethistory\n        this.node.opacity = 255;\n        cc.tween(this.node)\n            .to(this.durationTransition, { position: cc.v2(0, 0)})\n            .call(() => {\n                callback && callback();\n            })\n            .start();\n    },\n\n    onNextDetailPage() {\n        if (this.currentPage < this.totalPages - 1) {\n            this.currentPage++;\n            this.requestDetail(this.sessionId, this.currentPage);\n        }\n        this.node.soundPlayer && this.node.soundPlayer.playSFXClick();\n    },\n\n    onPreviousDetailPage() {\n        if (this.currentPage > 0) {\n            this.currentPage--;\n            this.requestDetail(this.sessionId, this.currentPage);\n        }\n        this.node.soundPlayer && this.node.soundPlayer.playSFXClick();\n    },\n\n    requestDetail(sessionId, page, url = \"history/getHistoryUserSpinDetails\") {\n        this.playLoading();\n        this.nextBtn.getComponent(cc.Button).interactable = false;\n        this.backBtn.getComponent(cc.Button).interactable = false;\n\n        if (this.listResultData && this.listResultData.has(page)) {\n            if (this.loading) this.loading.active = false;\n            this.renderDetailPage();\n            return;\n        }\n\n        this.sessionId = sessionId;\n\n        let from = page;\n        let token = this.token || globalNetwork.getToken();\n        let headers = { Authorization: token };\n\n        headers['token-type'] = 'user';\n        if (this.tokenType) headers['token-type'] = this.tokenType;\n        if (this.userId) headers['user-id'] = this.userId;\n\n        let requestParams = {\n            serviceId: this.node.config.GAME_ID,\n            from: from,\n            size: this.itemPerPage,\n            psId: sessionId,\n            scroll: true\n        };\n\n        serviceRest.getWithHeader({\n            url: url,\n            params: requestParams,\n            callback: this.onRequestDetailResponse.bind(this),\n            callbackErr: this.requestErr.bind(this),\n            headers\n        });\n    },\n\n    onRequestDetailResponse(res) {\n        if (this.loading) this.loading.active = false;\n\n        if (res.error && res.error.msg) {\n            this.serverMessage.active = true;\n            this.serverMessage.getComponentInChildren(cc.Label).string = res.error.msg;\n            return;\n        }\n        else if (res.error || !res.data || res.data.resultList.length <= 0) {\n            this.noBetDetail.active = true;\n            return;\n        } else {\n            this.noBetDetail.active = false;\n        }\n\n        this.totalPages = res.data.total;\n        this.currentPage = res.data.from;\n\n        let indexPage = res.data.from;\n        for (let i = 0; i < res.data.resultList.length; i++) {\n            if (!this.listResultData.has(indexPage)) {\n                this.listResultData.set(indexPage, res.data.resultList[i]);\n            }\n            indexPage++;\n        }\n        \n        this.renderDetailPage();\n    },\n    //#endregion\n\n    //#region common\n    resetDetailPages() {\n        for (let i = 0; i < this.detailPages.length; i++) {\n            this.detailPages[i].node.position = new cc.Vec2(i * CANVAS_WIDTH, 0);\n            this.detailPages[i].hideInfoDetailPage();\n        }\n        this.currentDetailPage = null;\n\n        this.lastPage = this.currentPage = -1;\n    },\n\n    requestErr() {\n        cc.log(\"err\");\n        if (this.loading) this.loading.active = false;\n        if (this.errorMessage) this.errorMessage.active = true;\n    },\n\n    renderDetailPage() {\n        if (!this.listResultData) return;\n\n        let data = this.listResultData.get(this.currentPage);\n        if (!data) {\n            //no date in listResultData\n            console.warn(\"check logic renderDetailPage\");\n            return;\n        }\n\n        let { mode, timestamp } = data;\n        if (mode) this.title.string = mode == \"normal\" ? TITLE.NORMAL : TITLE.FREE;\n        if (timestamp) this.time.string = this.formatTimeStamp(timestamp);\n\n        // create extend data\n        let lastedWonSymbol, lastedNumberWinFeatures;\n        let previousSpinData = this.listResultData.get(this.currentPage - 1);\n        if (previousSpinData) {\n            lastedWonSymbol = previousSpinData.result.totalWinSymbol;\n            lastedNumberWinFeatures = previousSpinData.result.numberWinFeatures;\n        }\n\n        let extendData = {\n            lastedNumberWinFeatures: lastedNumberWinFeatures,\n            lastedWonSymbol: lastedWonSymbol,\n            currentPage: this.currentPage,\n            totalPages: this.totalPages\n        };\n\n        if (!this.currentDetailPage) {\n            this.indexUsedPage = 0;\n            \n            this.currentDetailPage = this.detailPages[0];\n            this.currentDetailPage.hideInfoDetailPage();\n            this.currentDetailPage.updateData(data, this.sessionData.summaryData, extendData);\n            this.currentDetailPage.node.opacity = 255;\n            this.lastPage = this.currentPage;\n            this.lastDetailPage = this.currentDetailPage;\n        } else {\n            this.lastDetailPage = this.currentDetailPage;\n\n            this.indexUsedPage = (this.indexUsedPage + 1) % this.detailPages.length;\n            this.currentDetailPage = this.detailPages[this.indexUsedPage];\n            this.currentDetailPage.hideInfoDetailPage();\n            this.currentDetailPage.updateData(data, this.sessionData.summaryData, extendData);\n\n            // do transition display\n            if (this.lastPage > this.currentPage) {\n                // left to right\n                let tartgetLastDetailPage = new cc.Vec2(CANVAS_WIDTH, 0);\n                cc.tween(this.lastDetailPage.node)\n                    .to(this.durationTransition, { position: tartgetLastDetailPage })\n                    .call(() => {\n                        this.lastDetailPage.hideInfoDetailPage();\n                        this.lastDetailPage.node.opacity = 0;\n                    })\n                    .start();\n\n                this.currentDetailPage.node.position = new cc.Vec2(-CANVAS_WIDTH, 0);\n                this.currentDetailPage.node.opacity = 255;\n\n                let tartgetCurrentDetailPage = new cc.Vec2(0, 0);\n                cc.tween(this.currentDetailPage.node)\n                    .to(this.durationTransition, { position: tartgetCurrentDetailPage })\n                    .start();\n\n            } else {\n                // right to left\n                let tartgetLastDetailPage = new cc.Vec2(-CANVAS_WIDTH, 0);\n                cc.tween(this.lastDetailPage.node)\n                    .to(this.durationTransition, { position: tartgetLastDetailPage })\n                    .call(() => {\n                        this.lastDetailPage.hideInfoDetailPage();\n                        this.lastDetailPage.node.opacity = 0;\n                    })\n                    .start();\n\n                this.currentDetailPage.node.position = new cc.Vec2(CANVAS_WIDTH, 0);\n                this.currentDetailPage.node.opacity = 255;\n\n                let tartgetCurrentDetailPage = new cc.Vec2(0, 0);\n                cc.tween(this.currentDetailPage.node)\n                    .to(this.durationTransition, { position: tartgetCurrentDetailPage })\n                    .start();\n            }\n            this.lastPage = this.currentPage;\n        }\n\n        cc.tween(this.node)\n            .delay(this.durationTransition)\n            .call(() => {\n                if (this.totalPages == 1) {\n                    this.nextBtn.active = false;\n                    this.backBtn.active = false;\n                } else if (this.currentPage == this.totalPages - 1) {\n                    this.nextBtn.getComponent(cc.Button).interactable = false;\n                    this.nextBtn.active = false;\n                    this.backBtn.active = true;\n                    this.backBtn.getComponent(cc.Button).interactable = true;\n                } else if (this.currentPage == 0) {\n                    this.backBtn.getComponent(cc.Button).interactable = false;\n                    this.backBtn.active = false;\n                    this.nextBtn.active = true;\n                    this.nextBtn.getComponent(cc.Button).interactable = true;\n                } else {\n                    this.backBtn.active = true;\n                    this.nextBtn.active = true;\n                    this.nextBtn.getComponent(cc.Button).interactable = true;\n                    this.backBtn.getComponent(cc.Button).interactable = true;\n                } \n            })\n            .start();\n    },\n\n    disableClose() {\n        if (this.closeButton) this.closeButton.active = false;\n    },\n\n    closeNotice() {\n        if (this.errorMessage) this.errorMessage.active = false;\n    },\n\n    playLoading() {\n        if (this.errorMessage) this.errorMessage.active = false;\n        if (this.noBetDetail) this.noBetDetail.active = false;\n        if (this.loading) this.loading.active = true;\n        this.serverMessage.active = false;\n    },\n\n    formatTimeStamp(ts) {\n        const date = new Date(ts);\n        let time = '';\n\n        let year = date.getFullYear();\n        let month = addZero(date.getMonth() + 1);\n        let day = addZero(date.getDate());\n\n        let hours = addZero(date.getHours());\n        let minutes = addZero(date.getMinutes());\n        let seconds = addZero(date.getSeconds());\n\n        if (this.timeFormat) {\n            time = this.timeFormat.replace('YYYY', year)\n                .replace('MM', month)\n                .replace('DD', day)\n                .replace('hh', hours)\n                .replace('mm', minutes)\n                .replace('ss', seconds);\n        } else {\n            time = `${day}/${month}/${year} ${hours}:${minutes}:${seconds}`;\n        }\n        return time;\n    },\n\n    onClose() {\n        this.resetBoard();\n        if (this.node.soundPlayer) this.node.soundPlayer.playSFXClick();\n\n        const evt = new cc.Event.EventCustom(\"ON_BET_DETAIL_CLOSED\", true);\n        this.node.dispatchEvent(evt);\n        if(this._closeTween){\n            this._closeTween.stop();\n            this._closeTween = null;\n        }\n        this._closeTween = cc.tween(this.node)\n            .to(this.durationTransition, { position: cc.v2(CANVAS_WIDTH, 0) })\n            .call(() => {\n                this.node.opacity = 0;\n                this._closeTween = null;\n            });\n        this._closeTween.start();\n    },\n    //#endregion\n\n});\n"]}