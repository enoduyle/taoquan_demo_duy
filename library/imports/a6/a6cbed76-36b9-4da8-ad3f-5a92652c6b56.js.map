{"version":3,"sources":["../../../../../../assets/cc-taoquan-9983/scripts/history/assets/cc-taoquan-9983/scripts/history/BetCellHistory9983.js"],"names":["require","formatMoney","cc","Class","extends","properties","dotBonus","Node","dotFree","dotJackpot","positionNodes","default","type","updateData","data","detailBtn","active","listMode","totalBonusWinAmount","freeGameTotal","totalJpWinAmount","push","length","forEach","item","index","position","setPosition","playSessionId","sessionId","session","getComponent","Label","string","substring","time","formatTimeStamp","Number","totalbet","totalBetAmount","winAmount","totalWinAmount","node","config","PAY_LINE_ALLWAYS","betLines","totalLineCount","bettingLines","match"],"mappings":";;;;;;eAAwBA,QAAQ,OAAR;IAAhBC,uBAAAA;;AAERC,GAAGC,KAAH,CAAS;AACLC,aAASJ,QAAQ,gBAAR,CADJ;;AAGLK,gBAAY;AACRC,kBAAUJ,GAAGK,IADL;AAERC,iBAASN,GAAGK,IAFJ;AAGRE,oBAAYP,GAAGK,IAHP;AAIRG,uBAAe;AACXC,qBAAS,EADE;AAEXC,kBAAMV,GAAGK;AAFE;AAJP,KAHP;;AAaLM,cAbK,sBAaMC,IAbN,EAaY;AAAA;;AACb,aAAKC,SAAL,CAAeC,MAAf,GAAwB,KAAxB;;AAEA,aAAKC,QAAL,GAAgB,EAAhB;AACA,aAAKX,QAAL,CAAcU,MAAd,GAAuB,KAAvB;AACA,aAAKR,OAAL,CAAaQ,MAAb,GAAsB,KAAtB;AACA,aAAKP,UAAL,CAAgBO,MAAhB,GAAyB,KAAzB;;AANa,YAQLE,mBARK,GAQoDJ,IARpD,CAQLI,mBARK;AAAA,YAQgBC,aARhB,GAQoDL,IARpD,CAQgBK,aARhB;AAAA,YAQ+BC,gBAR/B,GAQoDN,IARpD,CAQ+BM,gBAR/B;;;AAUb,YAAIA,oBAAoBA,mBAAmB,CAA3C,EAA8C;AAC1C,iBAAKX,UAAL,CAAgBO,MAAhB,GAAyB,IAAzB;AACA,iBAAKC,QAAL,CAAcI,IAAd,CAAmB,KAAKZ,UAAxB;AACH;AACD,YAAIU,aAAJ,EAAmB;AACf,iBAAKX,OAAL,CAAaQ,MAAb,GAAsB,IAAtB;AACA,iBAAKC,QAAL,CAAcI,IAAd,CAAmB,KAAKb,OAAxB;AACH;AACD,YAAIU,uBAAuBA,sBAAsB,CAAjD,EAAoD;AAChD,iBAAKZ,QAAL,CAAcU,MAAd,GAAuB,IAAvB;AACA,iBAAKC,QAAL,CAAcI,IAAd,CAAmB,KAAKf,QAAxB;AACH;AACD,YAAI,KAAKW,QAAL,CAAcK,MAAd,GAAuB,CAAvB,IAA4B,KAAKZ,aAAL,CAAmBY,MAAnB,GAA4B,CAA5D,EAA+D;AAC3D,iBAAKL,QAAL,CAAcM,OAAd,CAAsB,UAACC,IAAD,EAAOC,KAAP,EAAiB;AACnC,oBAAMC,WAAW,MAAKhB,aAAL,CAAmBe,KAAnB,EAA0BC,QAA3C;AACAF,qBAAKG,WAAL,CAAiBD,QAAjB;AACH,aAHD;AAIH;AACD,YAAI,CAACZ,IAAL,EAAW;AACX,aAAKc,aAAL,GAAqBd,KAAKe,SAA1B;AACA,aAAKC,OAAL,CAAaC,YAAb,CAA0B7B,GAAG8B,KAA7B,EAAoCC,MAApC,GAA6C,MAAMnB,KAAKe,SAAL,CAAeK,SAAf,CAAyBpB,KAAKe,SAAL,CAAeP,MAAf,GAAwB,CAAjD,EAAoDR,KAAKe,SAAL,CAAeP,MAAnE,CAAnD;AACA,aAAKa,IAAL,CAAUJ,YAAV,CAAuB7B,GAAG8B,KAA1B,EAAiCC,MAAjC,GAA0C,KAAKG,eAAL,CAAqBC,OAAOvB,KAAKqB,IAAZ,CAArB,CAA1C;AACA,aAAKG,QAAL,CAAcP,YAAd,CAA2B7B,GAAG8B,KAA9B,EAAqCC,MAArC,GAA8ChC,YAAYoC,OAAOvB,KAAKyB,cAAZ,CAAZ,CAA9C;AACA,aAAKC,SAAL,CAAeT,YAAf,CAA4B7B,GAAG8B,KAA/B,EAAsCC,MAAtC,GAA+ChC,YAAYa,KAAK2B,cAAjB,CAA/C;AACA,YAAI,KAAKC,IAAL,CAAUC,MAAV,CAAiBC,gBAArB,EACI,KAAKC,QAAL,CAAcd,YAAd,CAA2B7B,GAAG8B,KAA9B,EAAqCC,MAArC,GAA8C,KAAKa,cAAnD,CADJ,KAEK;AACD,iBAAKD,QAAL,CAAcd,YAAd,CAA2B7B,GAAG8B,KAA9B,EAAqCC,MAArC,GAA8C,CAACnB,KAAKiC,YAAL,CAAkBC,KAAlB,CAAwB,IAAxB,KAAiC,EAAlC,EAAsC1B,MAAtC,GAA+C,CAA7F;AACH;AACD,aAAKP,SAAL,CAAeC,MAAf,GAAwB,IAAxB;AACH;AArDI,CAAT","file":"BetCellHistory9983.js","sourceRoot":"../../../../../../assets/cc-taoquan-9983/scripts/history","sourcesContent":["const { formatMoney } = require('utils');\n\ncc.Class({\n    extends: require(\"BetCellHistory\"),\n\n    properties: {\n        dotBonus: cc.Node,\n        dotFree: cc.Node,\n        dotJackpot: cc.Node,\n        positionNodes: {\n            default: [],\n            type: cc.Node\n        },\n    },\n\n    updateData(data) {\n        this.detailBtn.active = false;\n\n        this.listMode = [];\n        this.dotBonus.active = false;\n        this.dotFree.active = false;\n        this.dotJackpot.active = false;\n\n        const { totalBonusWinAmount, freeGameTotal, totalJpWinAmount } = data;\n\n        if (totalJpWinAmount && totalJpWinAmount > 0) {\n            this.dotJackpot.active = true;\n            this.listMode.push(this.dotJackpot);\n        }\n        if (freeGameTotal) {\n            this.dotFree.active = true;\n            this.listMode.push(this.dotFree);\n        }\n        if (totalBonusWinAmount && totalBonusWinAmount > 0) {\n            this.dotBonus.active = true;\n            this.listMode.push(this.dotBonus);\n        }\n        if (this.listMode.length > 0 && this.positionNodes.length > 0) {\n            this.listMode.forEach((item, index) => {\n                const position = this.positionNodes[index].position;\n                item.setPosition(position);\n            });\n        }\n        if (!data) return;\n        this.playSessionId = data.sessionId;\n        this.session.getComponent(cc.Label).string = \"#\" + data.sessionId.substring(data.sessionId.length - 8, data.sessionId.length);\n        this.time.getComponent(cc.Label).string = this.formatTimeStamp(Number(data.time));\n        this.totalbet.getComponent(cc.Label).string = formatMoney(Number(data.totalBetAmount));\n        this.winAmount.getComponent(cc.Label).string = formatMoney(data.totalWinAmount);\n        if (this.node.config.PAY_LINE_ALLWAYS)\n            this.betLines.getComponent(cc.Label).string = this.totalLineCount;\n        else {\n            this.betLines.getComponent(cc.Label).string = (data.bettingLines.match(/,/g) || []).length + 1;\n        }\n        this.detailBtn.active = true;\n    },\n});\n"]}