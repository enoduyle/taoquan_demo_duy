{"version":3,"sources":["turnBaseFSM.js"],"names":["StateMachine","require","factory","init","transitions","name","from","to","methods","onInvalidTransition","onPendingTransition","onTransition","lifecycle","GAME_MODE","cc","log","transition"],"mappings":";;;;;;;;;;;AAEA,IAAMA,eAAeC,QAAQ,0BAAR,CAArB;;kBAEeD,aAAaE,OAAb,CAAqB,EAAM;AACtCC,UAAM,aAD0B;AAEhCC,iBAAa,CACT;AACIC,cAAM,WADV;AAEIC,cAAM,aAFV;AAGIC,YAAI;AAHR,KADS,EAMT;AACIF,cAAM,YADV;AAEIC,cAAM,GAFV;AAGIC,YAAI;AAHR,KANS,EAWT;AACIF,cAAM,eADV;AAEIC,cAAM,eAFV;AAGIC,YAAI;AAHR,KAXS,EAgBT;AACIF,cAAM,eADV;AAEIC,cAAM,eAFV;AAGIC,YAAI;AAHR,KAhBS,EAqBT;AACIF,cAAM,aADV;AAEIC,cAAM,eAFV;AAGIC,YAAI;AAHR,KArBS,EA0BT;AACIF,cAAM,SADV;AAEIC,cAAM,eAFV;AAGIC,YAAI;AAHR,KA1BS,EA+BT;AACIF,cAAM,QADV;AAEIC,cAAM,GAFV;AAGIC,YAAI;AAHR,KA/BS,CAFmB;AAuChCC,aAAS;AACLC,6BAAqB,+BAAY;AAC7B;AACH,SAHI;AAILC,6BAAqB,+BAAY;AAC7B;AACH,SANI;AAOLC,sBAAc,sBAASC,SAAT,EAAoB;AAC9B;AACA,gBAAG,KAAKC,SAAR,EAAkB;AACdC,mBAAGC,GAAH,CAAO,QAAM,KAAKF,SAAX,sBAAmCD,UAAUI,UAA7C,SAAP,EAAqE,aAArE,EAAmF,YAAnF,EAAiGJ,UAAUL,EAA3G;AACH;AACJ;AAZI;AAvCuB,CAArB","file":"turnBaseFSM.js","sourceRoot":"../../../../../../assets/cc-common/cc-share-v1/common","sourcesContent":["\n\nconst StateMachine = require('javascript-state-machine');\n\nexport default StateMachine.factory({     //  <-- the factory is constructed here\n    init: 'bootingGame',\n    transitions: [\n        {\n            name: 'gameStart',\n            from: 'bootingGame',\n            to: 'waitingAction'\n        },\n        {\n            name: 'gameResume',\n            from: '*',\n            to: 'showingResult'\n        },\n        {\n            name: 'actionTrigger',\n            from: 'waitingAction',\n            to: 'waitingResult'\n        },\n        {\n            name: 'resultReceive',\n            from: 'waitingResult',\n            to: 'showingResult'\n        },\n        {\n            name: 'gameRestart',\n            from: 'showingResult',\n            to: 'waitingAction'\n        },\n        {\n            name: 'gameEnd',\n            from: 'showingResult',\n            to: 'closingGame'\n        },\n        {\n            name: 'reboot',\n            from: '*',\n            to: 'bootingGame'\n        },\n    ],\n    methods: {\n        onInvalidTransition: function () {\n            // cc.log(\"fsm: transition not allowed from that state\", transition, from, to);\n        },\n        onPendingTransition: function () {\n            // cc.log(\"fsm: transition already in progress\", transition, from, to);\n        },\n        onTransition: function(lifecycle) {\n            // cc.log(\"trigger: \"+lifecycle.transition +\", state change from \"+ lifecycle.from +\" to \"+ lifecycle.to);\n            if(this.GAME_MODE){\n                cc.log(`%c ${this.GAME_MODE}:` +`%c run ${lifecycle.transition} =>`, 'color:blue;','color:red;', lifecycle.to);\n            }\n        },\n    },\n});\n"]}