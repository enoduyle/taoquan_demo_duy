{"version":3,"sources":["ClickAndShow.js"],"names":["cc","Class","extends","Component","properties","panel","Node","onLoad","node","on","enter","exit","closePanel","active","fadeSpeed","isShowing","soundPlayer","playSFXClick","runAction","fadeIn","sequence","fadeOut","callFunc"],"mappings":";;;;;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,eAAOL,GAAGM;AADF,KAHP;;AAOLC,UAPK,oBAOK;AACN,aAAKC,IAAL,CAAUC,EAAV,CAAa,YAAb,EAA0B,KAAKC,KAA/B,EAAqC,IAArC;AACA,aAAKF,IAAL,CAAUC,EAAV,CAAa,YAAb,EAA0B,KAAKE,IAA/B,EAAoC,IAApC;AACA,aAAKH,IAAL,CAAUC,EAAV,CAAa,aAAb,EAA2B,KAAKG,UAAhC,EAA2C,IAA3C;AACA,aAAKP,KAAL,CAAWQ,MAAX,GAAoB,KAApB;AACA,aAAKC,SAAL,GAAiB,GAAjB;AACA,aAAKC,SAAL,GAAiB,KAAjB;AACH,KAdI;AAgBLL,SAhBK,mBAgBG;AACJ,YAAI,KAAKF,IAAL,CAAUQ,WAAd,EAA2B,KAAKR,IAAL,CAAUQ,WAAV,CAAsBC,YAAtB;AAC3B,aAAKF,SAAL,GAAiB,IAAjB;AACA,aAAKV,KAAL,CAAWQ,MAAX,GAAoB,IAApB;AACA,aAAKR,KAAL,CAAWa,SAAX,CAAqBlB,GAAGmB,MAAH,CAAU,KAAKL,SAAf,CAArB;AACH,KArBI;AAsBLH,QAtBK,kBAsBE;AACH,YAAG,CAAC,KAAKI,SAAT,EAAoB;AACpB,YAAI,KAAKP,IAAL,CAAUQ,WAAd,EAA2B,KAAKR,IAAL,CAAUQ,WAAV,CAAsBC,YAAtB;AAC3B,aAAKL,UAAL;AACH,KA1BI;AA4BLA,cA5BK,wBA4BQ;AAAA;;AACT,aAAKG,SAAL,GAAiB,KAAjB;AACA,aAAKV,KAAL,CAAWa,SAAX,CAAqBlB,GAAGoB,QAAH,CACjBpB,GAAGqB,OAAH,CAAW,KAAKP,SAAhB,CADiB,EAEjBd,GAAGsB,QAAH,CAAY,YAAM;AACd,kBAAKjB,KAAL,CAAWQ,MAAX,GAAoB,KAApB;AACH,SAFD,CAFiB,CAArB;AAMH;AApCI,CAAT","file":"ClickAndShow.js","sourceRoot":"../../../../../../assets/cc-common/cc-share-v1/common","sourcesContent":["\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        panel: cc.Node,\n    },\n\n    onLoad () {\n        this.node.on(\"SHOW_PANEL\",this.enter,this);\n        this.node.on(\"HIDE_PANEL\",this.exit,this);\n        this.node.on(\"CLOSE_PANEL\",this.closePanel,this);\n        this.panel.active = false;\n        this.fadeSpeed = 0.2;\n        this.isShowing = false;\n    },\n\n    enter() {\n        if (this.node.soundPlayer) this.node.soundPlayer.playSFXClick();\n        this.isShowing = true;\n        this.panel.active = true;\n        this.panel.runAction(cc.fadeIn(this.fadeSpeed));\n    },\n    exit() {\n        if(!this.isShowing) return;\n        if (this.node.soundPlayer) this.node.soundPlayer.playSFXClick();\n        this.closePanel();\n    },\n\n    closePanel() {\n        this.isShowing = false;\n        this.panel.runAction(cc.sequence(\n            cc.fadeOut(this.fadeSpeed),\n            cc.callFunc(() => {\n                this.panel.active = false;\n            }),\n        ));\n    }\n});\n"]}