{"version":3,"sources":["../../../../../../assets/cc-taoquan-9983/scripts/table/assets/cc-taoquan-9983/scripts/table/SlotTableSoundEffect9983.js"],"names":["cc","Class","extends","Component","properties","onLoad","node","on","reelStopSound","reelStopSpinningSound","reelStartSound","canGetFree","matrix","count","context","realMatrix","slice","splice","length","indexOf","mode","isFastToResult","soundPlayer","playSFXScatter","reels","allReelStopSound"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY,EAHP;;AAMLC,UANK,oBAMI;AACL,aAAKC,IAAL,CAAUC,EAAV,CAAa,iBAAb,EAAgC,KAAKC,aAArC,EAAoD,IAApD;AACA,aAAKF,IAAL,CAAUC,EAAV,CAAa,qBAAb,EAAoC,KAAKE,qBAAzC,EAAgE,IAAhE;AACA,aAAKH,IAAL,CAAUC,EAAV,CAAa,mBAAb,EAAkC,KAAKG,cAAvC,EAAuD,IAAvD;AACH,KAVI;AAYLD,yBAZK,mCAYmB,CAAG,CAZtB;AAaLC,kBAbK,4BAaY;AACb,aAAKC,UAAL,GAAkB,IAAlB;AACH,KAfI;AAiBLH,iBAjBK,+BAiBqC;AAAA,YAA1BI,MAA0B,QAA1BA,MAA0B;AAAA,YAAlBC,KAAkB,QAAlBA,KAAkB;AAAA,YAAXC,OAAW,QAAXA,OAAW;AAAE;AACxC,YAAMC,aAAaH,OAAOI,KAAP,GAAc,QAAd,CAAuBC,MAAvB,CAA8B,CAA9B,EAAiCL,OAAOM,MAAP,GAAgB,CAAjD,CAAnB,CADsC,CACiC;;AAEvE,YAAI,KAAKP,UAAT,EAAqB;AACjB,gBAAII,WAAWI,OAAX,CAAmB,GAAnB,IAA0B,CAAC,CAA/B,EAAkC;AAC9B,oBAAIL,QAAQR,IAAR,CAAac,IAAb,IAAqB,OAArB,IAAgCN,QAAQO,cAA5C,EAA4D;AAAE;AAC1D,wBAAIR,UAAU,CAAd,EAAiB;AACb,6BAAKP,IAAL,CAAUgB,WAAV,IAAyB,KAAKhB,IAAL,CAAUgB,WAAV,CAAsBC,cAAtB,CAAqCV,QAAQ,CAA7C,CAAzB;AACH;AACJ,iBAJD,MAIO;AACH,yBAAKP,IAAL,CAAUgB,WAAV,IAAyB,KAAKhB,IAAL,CAAUgB,WAAV,CAAsBC,cAAtB,CAAqCV,QAAQ,CAA7C,CAAzB;AACH;AACJ,aARD,MAQO;AACH,qBAAKF,UAAL,GAAkB,KAAlB,CADG,CACsB;AAC5B;AACJ;;AAED,YAAIE,SAAS,KAAKP,IAAL,CAAUkB,KAAV,CAAgBN,MAA7B,EAAqC;AACjC,iBAAKO,gBAAL;AACH;AACJ,KArCI;AAsCLA,oBAtCK,8BAsCc,CAAG;AAtCjB,CAAT","file":"SlotTableSoundEffect9983.js","sourceRoot":"../../../../../../assets/cc-taoquan-9983/scripts/table","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n    },\n\n    onLoad() {\n        this.node.on(\"REEL_STOP_SOUND\", this.reelStopSound, this);\n        this.node.on(\"STOP_SPINNING_SOUND\", this.reelStopSpinningSound, this);\n        this.node.on(\"TABLE_START_SOUND\", this.reelStartSound, this);\n    },\n\n    reelStopSpinningSound() { },\n    reelStartSound() {\n        this.canGetFree = true;\n    },\n\n    reelStopSound({ matrix, count, context }) { // count: 1 -> 5;\n        const realMatrix = matrix.slice()/*copy*/.splice(1, matrix.length - 2);/*remove first and last*/\n\n        if (this.canGetFree) {\n            if (realMatrix.indexOf(\"A\") > -1) {\n                if (context.node.mode == 'TURBO' || context.isFastToResult) { // play sound once \n                    if (count === 1) {\n                        this.node.soundPlayer && this.node.soundPlayer.playSFXScatter(count - 1);\n                    }\n                } else {\n                    this.node.soundPlayer && this.node.soundPlayer.playSFXScatter(count - 1);\n                }\n            } else {\n                this.canGetFree = false; // scatters broken. not playsound anymore\n            }\n        }\n\n        if (count >= this.node.reels.length) {\n            this.allReelStopSound();\n        }\n    },\n    allReelStopSound() { },\n});\n"]}