{"version":3,"sources":["SlotButtonV2.js"],"names":["cc","Class","extends","require","properties","stopAutoSpinBtn","Node","spinBtn","fastToResultBtn","promotionSpin","promotionSpinStopBtn","promotionSpinTimes","textSpin","txtHoldToAuto","SpriteFrame","txtPressToStop","iconSpin","spineBtnSpin","sp","Skeleton","spineHover","spinePromotion","promotionIconSpin","animNormal","animHover","animPressed","animDisable","animFastToResult","removeSoundClick","onLoad","isDebug","node","on","pauseAutoSpin","systemEvent","SystemEvent","EventType","KEY_UP","onKeyUp","enable","off","enableSpin","disableSpin","showSpin","hideSpin","showFastToResult","hideFastToResult","enableFastToResult","disableFastToResult","showStopAutoSpin","hideStopAutoSpin","showPromotionSpin","hidePromotionSpin","showPromotionSpinTimes","hidePromotionSpinTimes","showPromotionSpinStopBtn","hidePromotionSpinStopBtn","disablePromotionSpinStopBtn","enablePromotionSpinStopBtn","promotionSpinEffect","showPromotionSpinEffect","hidePromotionSpinEffect","hideAllPromotionButton","showAllPromotionButton","textAutoSpins","showTextAutoSpin","hideTextAutoSpin","spinBtnComponent","getComponent","Button","interactable","bindAutoSpinEvent","start","_isPromotionSpin","selectionAutoSpin","TOUCH_START","onTouchStart","bind","TOUCH_END","onTouchCancel","TOUCH_MOVE","onTouchMove","TOUCH_CANCEL","MOUSE_LEAVE","onMouseLeave","MOUSE_ENTER","onHover","_isOnHover","unbindAutoSpinEvent","event","keyCode","macro","KEY","space","active","emit","setAnimation","opacity","Sprite","spriteFrame","spinEffect","isRotating","angle","cancelAutoSpinPanel","spinClick","log","showFunc","canAutoSpin","_runAutoSpin","scheduleOnce","_isTouched","unschedule","touch","hit","_hitTest","getLocation","stopAutoSpinClick","isResume","isPause","isPauseAutoSpin","fastToResultClick","hideButtonStartPromotion","hideSpinButtons","showSpinButtons","showButtonsEndPromotion","hidePromotionIconSpin","showPromotionIconSpin","enableIconSpin","disableIconSpin","delay","promotionEffect","sequence","delayTime","callFunc","runAction","stopAction","onDestroy"],"mappings":"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","file":"SlotButtonV2.js","sourceRoot":"../../../../../../../assets/cc-common/cc-slotbase-v2/slotGame/controller","sourcesContent":["\n\ncc.Class({\n    extends: require(\"SlotButtonBase\"),\n\n    properties: {\n        //buttons\n        stopAutoSpinBtn: cc.Node,\n        spinBtn: cc.Node,\n        fastToResultBtn: cc.Node,\n        promotionSpin: cc.Node,\n        promotionSpinStopBtn: cc.Node,\n        promotionSpinTimes: cc.Node,\n        // text\n        textSpin: cc.Node,\n        txtHoldToAuto: cc.SpriteFrame,\n        txtPressToStop: cc.SpriteFrame,\n        //effects\n        iconSpin: cc.Node,\n        spineBtnSpin: sp.Skeleton,\n        spineHover: sp.Skeleton,\n        spinePromotion: sp.Skeleton,\n        promotionIconSpin: cc.Node,\n        // animation Names\n        animNormal: \"\",\n        animHover: \"\",\n        animPressed: \"\",\n        animDisable: \"\",\n        animFastToResult: \"\",\n        // sound\n        removeSoundClick: false,\n    },\n\n    onLoad() {\n        this.isDebug = true;\n        this.node.on(\"PAUSE_AUTO_SPIN\", this.pauseAutoSpin, this);\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\n        this.node.on(\"ENABLE_SPIN_KEY\", (enable) => {\n            cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\n            if (enable) cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\n        });\n\n        if (this.spinBtn) {\n            this.node.on(\"SPIN_ENABLE\", this.enableSpin, this);\n            this.node.on(\"SPIN_DISABLE\", this.disableSpin, this);\n            this.node.on(\"SPIN_SHOW\", this.showSpin, this);\n            this.node.on(\"SPIN_HIDE\", this.hideSpin, this);\n        }\n\n        if (this.fastToResultBtn) {\n            this.node.on(\"FAST_TO_RESULT_SHOW\", this.showFastToResult, this);\n            this.node.on(\"FAST_TO_RESULT_HIDE\", this.hideFastToResult, this);\n            this.node.on(\"FAST_TO_RESULT_ENABLE\", this.enableFastToResult, this);\n            this.node.on(\"FAST_TO_RESULT_DISABLE\", this.disableFastToResult, this);\n        }\n\n        if (this.stopAutoSpinBtn) {\n            this.node.on(\"STOP_AUTO_SPIN_SHOW\", this.showStopAutoSpin, this);\n            this.node.on(\"STOP_AUTO_SPIN_HIDE\", this.hideStopAutoSpin, this);\n        }\n\n        if (this.promotionSpin) {\n            this.node.on(\"PROMOTION_SPIN_SHOW\", this.showPromotionSpin, this);\n            this.node.on(\"PROMOTION_SPIN_HIDE\", this.hidePromotionSpin, this);\n        }\n\n        if (this.promotionSpinTimes) {\n            this.node.on(\"PROMOTION_SPIN_TIMES_SHOW\", this.showPromotionSpinTimes, this);\n            this.node.on(\"PROMOTION_SPIN_TIMES_HIDE\", this.hidePromotionSpinTimes, this);\n        }\n\n        if (this.promotionSpinStopBtn) {\n            this.node.on(\"PROMOTION_STOP_SPIN_SHOW\", this.showPromotionSpinStopBtn, this);\n            this.node.on(\"PROMOTION_STOP_SPIN_HIDE\", this.hidePromotionSpinStopBtn, this);\n            this.node.on(\"DISABLE_PROMOTION_STOP_SPIN\", this.disablePromotionSpinStopBtn, this);\n            this.node.on(\"ENABLE_PROMOTION_STOP_SPIN\", this.enablePromotionSpinStopBtn, this);\n        }\n\n        if (this.promotionSpinEffect) {\n            this.node.on(\"SHOW_PROMOTION_SPIN_EFFECT\", this.showPromotionSpinEffect, this);\n            this.node.on(\"HIDE_PROMOTION_SPIN_EFFECT\", this.hidePromotionSpinEffect, this);\n        }\n\n        this.node.on(\"HIDE_ALL_PROMOTION_BUTTONS\", this.hideAllPromotionButton, this);\n        this.node.on(\"SHOW_ALL_PROMOTION_BUTTONS\", this.showAllPromotionButton, this);\n\n        if (this.textAutoSpins) {\n            this.node.on(\"SHOW_TEXT_AUTOSPIN\", this.showTextAutoSpin, this);\n            this.node.on(\"HIDE_TEXT_AUTOSPIN\", this.hideTextAutoSpin, this);\n        }\n        if (this.spinBtn) {\n            this.spinBtnComponent = this.spinBtn.getComponent(cc.Button);\n            this.spinBtnComponent.interactable = false;\n        }\n        this.bindAutoSpinEvent();\n    },\n\n    start() {\n        this._isPromotionSpin = false;\n        this.selectionAutoSpin = false;\n    },\n\n    bindAutoSpinEvent() {\n        if (this.spinBtn) {\n            this.spinBtn.on(cc.Node.EventType.TOUCH_START, this.onTouchStart.bind(this));\n            this.spinBtn.on(cc.Node.EventType.TOUCH_END, this.onTouchCancel.bind(this));\n            this.spinBtn.on(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove.bind(this));\n            this.spinBtn.on(cc.Node.EventType.TOUCH_CANCEL, this.onTouchCancel.bind(this));\n            this.spinBtn.on(cc.Node.EventType.MOUSE_LEAVE, this.onMouseLeave.bind(this));\n            this.spinBtn.on(cc.Node.EventType.MOUSE_ENTER, this.onHover.bind(this));\n        }\n        if(this.promotionSpin){\n            this.promotionSpin.on(cc.Node.EventType.MOUSE_ENTER, this.onHover.bind(this));\n            this.promotionSpin.on(cc.Node.EventType.MOUSE_LEAVE, this.onMouseLeave.bind(this));\n        }\n        this._isOnHover = false;\n    },\n    unbindAutoSpinEvent() {\n        if (this.spinBtn) {\n            this.spinBtn.off(cc.Node.EventType.TOUCH_START);\n            this.spinBtn.off(cc.Node.EventType.TOUCH_END);\n            this.spinBtn.off(cc.Node.EventType.TOUCH_CANCEL);\n            this.spinBtn.off(cc.Node.EventType.TOUCH_MOVE);\n            this.spinBtn.off(cc.Node.EventType.MOUSE_LEAVE);\n            this.spinBtn.off(cc.Node.EventType.MOUSE_ENTER);\n        }\n    },\n\n    /**\n     * @InputEvent\n     * */\n    onKeyUp(event) {\n        if (event.keyCode == cc.macro.KEY.space) {\n            if (this.spinBtnComponent && this.spinBtnComponent.interactable && !this.stopAutoSpinBtn.active){\n                this.node.emit('SPACE_PRESSED');\n                this.onMouseLeave();\n            }\n            else if (this.fastToResultBtn && this.fastToResultBtn.active) {\n                if (this.fastToResultBtn.getComponent(cc.Button).interactable)\n                    this.node.emit('FAST_TO_RESULT_CLICK');\n            }\n        }\n    },\n    onHover() {\n        if (this.spineHover && this.spinBtnComponent.interactable && !this.stopAutoSpinBtn.active) {\n            this.spineHover.node.active = true;\n            this.spineHover.setAnimation(0, this.animHover, true);\n        }\n    },\n\n    /**\n     * @Spin\n     * */\n    showSpin() {\n        this.spinBtn.active = true;\n        this.spinBtn.opacity = this._isPromotionSpin == true ? 0 : 255;\n        if (this.textSpin && this.txtHoldToAuto) {\n            this.textSpin.getComponent(cc.Sprite).spriteFrame = this.txtHoldToAuto;\n        }\n        if (this.spinEffect) {\n            this.spinEffect.isRotating = false;\n            this.spinEffect.angle = 0;\n        }\n    },\n    hideSpin() {\n        this.cancelAutoSpinPanel();\n        this.spinBtn.active = false;\n    },\n    enableSpin() {\n        this.spinBtnComponent.interactable = true;\n        this.spinBtn.emit(\"BUTTON_SPIN_SHOW\");\n        if (this.spineBtnSpin) {\n            this.spineBtnSpin.setAnimation(0, this.animNormal, true);\n        }\n    },\n    disableSpin() {\n        this.spinBtnComponent.interactable = false;\n        this.spinBtn.emit('BUTTON_SPIN_HIDE');\n    },\n    spinClick() {\n        this.node.emit('SPIN_CLICK');\n        cc.log(\"SlotButton: spinClick\");\n    },\n\n    /**\n     * @autoSpin\n     */\n    onTouchStart() {\n        this.selectionAutoSpin = false;\n        this.showFunc = () => {\n            if (this.canAutoSpin()) {\n                this._runAutoSpin();\n            }\n            this.showFunc = null;\n        };\n        this.scheduleOnce(this.showFunc, 0.7);\n        this.node.emit('ON_TOUCH_START');\n        this._isTouched = true;\n        this.isDebug && cc.log(\"onTouchStart\");\n    },\n    _runAutoSpin() {\n        this.selectionAutoSpin = true;\n        this.node.emit('MULTI_SPIN_4_CLICK');\n        if (this.spineBtnSpin) {\n            this.spineBtnSpin.setAnimation(0, this.animPressed, false);\n        }\n        if (this.spineHover) {\n            this.spineHover.node.active = false;\n        }\n        this.isDebug && cc.log(\"_runAutoSpin\");\n    },\n    onTouchCancel() {\n        this.cancelAutoSpinPanel();\n        if (this.selectionAutoSpin) return;\n        this.node.emit('ON_TOUCH_CANCEL');\n        this._isTouched = false;\n    },\n    cancelAutoSpinPanel() {\n        if (this.selectionAutoSpin) return;\n        if (this.showFunc) {\n            this.unschedule(this.showFunc);\n        }\n        if (this.spineHover) {\n            this.spineHover.node.active = false;\n        }\n    },\n\n    onMouseLeave(){\n        if(this.selectionAutoSpin===false){\n            this.cancelAutoSpinPanel();\n        }\n        if (this.spineHover && this.spineHover.node.active === true) {\n            this.spineHover.node.active = false;\n        }\n    },\n\n    onTouchMove(event){\n        let touch  = event.touch;\n        let hit = this.spinBtn._hitTest(touch.getLocation());\n        if(hit){\n            if(!this._isTouched){\n                this.node.emit('ON_TOUCH_START');\n                this._isTouched = true;\n            }\n        }else{\n            this.cancelAutoSpinPanel();\n            if (this.selectionAutoSpin) return;\n            this.node.emit('ON_TOUCH_CANCEL');\n            this._isTouched = false;\n        }\n    },\n\n    stopAutoSpinClick() {\n        this.node.emit('STOP_AUTO_SPIN_CLICK');\n    },\n    showStopAutoSpin() {\n        if (this.stopAutoSpinBtn) {\n            this.stopAutoSpinBtn.active = true;\n        }\n        if (this.textSpin && this.txtPressToStop) {\n            this.textSpin.getComponent(cc.Sprite).spriteFrame = this.txtPressToStop;\n        }\n    },\n    hideStopAutoSpin(isResume) {\n        if (this.stopAutoSpinBtn) {\n            this.stopAutoSpinBtn.active = false;\n        }\n        if (this.fastToResultBtn && !this.fastToResultBtn.active && this.selectionAutoSpin && !isResume) {\n            this.fastToResultBtn.active = true;\n        }\n    },\n    showTextAutoSpin() {\n        if (this.textSpin) {\n            this.textSpin.active = true;\n        }\n    },\n    hideTextAutoSpin() {\n        if (this.textSpin) {\n            this.textSpin.active = false;\n        }\n    },\n    pauseAutoSpin(isPause = false) {\n        this.isPauseAutoSpin = isPause;\n    },\n    canAutoSpin() {\n        if (this.node) {\n            this.node.emit('CHECK_AUTO_SPIN_FLAG', 'pauseAutoSpin');\n        }\n        return !this.isPauseAutoSpin && this.spinBtnComponent.interactable;\n    },\n\n    /**\n     * @FastToResult\n     */\n    fastToResultClick() {\n        this.node.emit('FAST_TO_RESULT_CLICK');\n        this.isDebug && cc.log(\"SlotButton: fastToResultClick\");\n    },\n    showFastToResult() {\n        this.fastToResultBtn.active = true;\n    },\n    hideFastToResult() {\n        this.fastToResultBtn.active = false;\n    },\n    enableFastToResult() {\n        this.fastToResultBtn.getComponent(cc.Button).interactable = true;\n        if (this.textSpin && this.txtPressToStop) {\n            this.textSpin.getComponent(cc.Sprite).spriteFrame = this.txtPressToStop;\n        }\n        if (this.spineBtnSpin) {\n            this.spineBtnSpin.setAnimation(0, this.animFastToResult, false);\n        }\n    },\n    disableFastToResult() {\n        this.fastToResultBtn.getComponent(cc.Button).interactable = false;\n        if (this.spineBtnSpin) {\n            this.spineBtnSpin.setAnimation(0, this.animDisable, false);\n        }\n    },\n\n    hideButtonStartPromotion() {\n        if (!this.spinBtn || !this.fastToResultBtn || !this.stopAutoSpinBtn) return;\n        this._isPromotionSpin = true;\n        this.spinBtn.opacity = 0;\n        this.fastToResultBtn.opacity = 0;\n        this.stopAutoSpinBtn.opacity = 0;\n        this.showPromotionSpinEffect();\n    },\n\n    /**\n     * @promotions\n     */\n    showAllPromotionButton() {\n        this.showPromotionSpin();\n        // this.unbindAutoSpinEvent();\n        this.hideSpinButtons();\n        this.showPromotionSpinTimes();\n        this.hideButtonStartPromotion();\n        this.hideTextAutoSpin();\n    },\n    hideAllPromotionButton() {\n        this.hidePromotionSpin();\n        this.hidePromotionSpinStopBtn();\n        this.hidePromotionSpinTimes();\n        this.showSpinButtons();\n        // this.bindAutoSpinEvent();\n        this.showButtonsEndPromotion();\n        this.hidePromotionIconSpin();\n        this.showTextAutoSpin();\n    },\n\n    showSpinButtons() {\n        this.spinBtn.active = true;\n        this.stopAutoSpinBtn.active = false;\n        this.fastToResultBtn.active = false;\n    },\n\n    hideSpinButtons() {\n        this.spinBtn.active = false;\n        this.stopAutoSpinBtn.active = false;\n        this.fastToResultBtn.active = false;\n    },\n\n    showPromotionSpin() {\n        if (this.promotionSpin) this.promotionSpin.active = true;\n        this.showPromotionIconSpin();\n        this.enableIconSpin();\n    },\n    hidePromotionSpin() {\n        if (this.promotionSpin) this.promotionSpin.active = false;\n        this.hidePromotionIconSpin();\n        this.disableIconSpin();\n    },\n\n    showPromotionIconSpin() {\n        if (this.promotionIconSpin) {\n            this.promotionIconSpin.active = true;\n        }\n    },\n    hidePromotionIconSpin() {\n        if (this.promotionIconSpin) {\n            this.promotionIconSpin.active = false;\n        }\n    },\n    showPromotionSpinTimes() {\n        if (this.promotionSpinTimes) {\n            this.promotionSpinTimes.active = true;\n        }\n    },\n    hidePromotionSpinTimes() {\n        if (this.promotionSpinTimes) {\n            this.promotionSpinTimes.active = false;\n        }\n    },\n    showPromotionSpinStopBtn() {\n        if (this.promotionSpinStopBtn) {\n            this.promotionSpinStopBtn.active = true;\n        }\n    },\n    hidePromotionSpinStopBtn() {\n        if (this.promotionSpinStopBtn) {\n            this.promotionSpinStopBtn.active = false;\n        }\n    },\n\n    disablePromotionSpinStopBtn() {\n        if (this.promotionSpinStopBtn) {\n            this.promotionSpinStopBtn.getComponent(cc.Button).interactable = false;\n        }\n    },\n\n    enablePromotionSpinStopBtn() {\n        if (this.promotionSpinStopBtn) {\n            this.promotionSpinStopBtn.getComponent(cc.Button).interactable = true;\n        }\n    },\n\n    showPromotionSpinEffect(delay = 0) {\n        if (this.promotionSpinEffect) {\n            this.promotionSpinEffect.active = true;\n            this.promotionEffect = cc.sequence(\n                cc.delayTime(delay),\n                cc.callFunc(() => {\n                    this.promotionSpinEffect.getComponent(sp.Skeleton).setAnimation(0, 'animation', true);\n                    this.promotionSpinEffect.opacity = 255;\n                })\n            );\n            this.promotionSpinEffect.runAction(this.promotionEffect);\n        }\n    },\n    hidePromotionSpinEffect() {\n        if (this.promotionSpinEffect) {\n            if (this.promotionEffect) {\n                this.promotionSpinEffect.stopAction(this.promotionEffect);\n            }\n            this.promotionSpinEffect.opacity = 0;\n            this.promotionSpinEffect.active = false;\n        }\n    },\n    showButtonsEndPromotion() {\n        if (!this.spinBtn || !this.fastToResultBtn || !this.stopAutoSpinBtn) return;\n        this._isPromotionSpin = false;\n        this.spinBtn.opacity = 255;\n        this.fastToResultBtn.opacity = 255;\n        this.stopAutoSpinBtn.opacity = 255;\n        this.hidePromotionSpinEffect();\n    },\n\n\n    onDestroy() {\n        if (this.showFunc) {\n            this.unschedule(this.showFunc);\n            this.showFunc = null;\n        }\n        cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\n        this.hidePromotionSpinEffect();\n    },\n\n    enableIconSpin() {\n\n    },\n\n    disableIconSpin() {\n\n    },\n});\n"]}