{"version":3,"sources":["TrialButton.js"],"names":["cc","Class","extends","Component","properties","playTrialButton","Node","playRealButton","displayRootNode","onLoad","active","node","on","onEnableButtons","buttons","getComponentsInChildren","Button","setPlayDemoMode","bind","playingDemo","onPlayTrialButtonClicked","onPlayRealButtonClicked","warn","isOn","log","forEach","bt","interactable"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,yBAAiBL,GAAGM,IADZ;AAERC,wBAAgBP,GAAGM,IAFX;AAGRE,yBAAiBR,GAAGM;AAHZ,KAHP;;AASLG,UATK,oBASI;AACL,YAAG,KAAKJ,eAAR,EAAwB;AACpB,iBAAKA,eAAL,CAAqBK,MAArB,GAA8B,IAA9B;AACH;AACD,YAAG,KAAKH,cAAR,EAAuB;AACnB,iBAAKA,cAAL,CAAoBG,MAApB,GAA6B,KAA7B;AACH;;AAED,YAAG,KAAKF,eAAR,EAAwB;AACpB,iBAAKA,eAAL,CAAqBE,MAArB,GAA8B,KAA9B;AACH;AACD,aAAKC,IAAL,CAAUC,EAAV,CAAa,gBAAb,EAA+B,KAAKC,eAApC,EAAqD,IAArD;AACA,aAAKC,OAAL,GAAe,KAAKH,IAAL,CAAUI,uBAAV,CAAkCf,GAAGgB,MAArC,CAAf;AACA,aAAKL,IAAL,CAAUM,eAAV,GAA4B,KAAKA,eAAL,CAAqBC,IAArB,CAA0B,IAA1B,CAA5B;AACH,KAvBI;AAyBLD,mBAzBK,6BAyBa;AACd,aAAKE,WAAL,GAAmB,IAAnB;AACA,YAAG,KAAKZ,cAAR,EAAuB;AACnB,iBAAKA,cAAL,CAAoBG,MAApB,GAA6B,KAA7B;AACH;;AAED,YAAG,KAAKL,eAAR,EAAwB;AACpB,iBAAKA,eAAL,CAAqBK,MAArB,GAA8B,IAA9B;AACH;AACD,aAAKG,eAAL,CAAqB,KAArB;AACH,KAnCI;AAqCLO,4BArCK,sCAqCqB;AACtB,YAAI,KAAKD,WAAT,EAAsB;AACtB,YAAG,KAAKZ,cAAR,EAAuB;AACnB,iBAAKA,cAAL,CAAoBG,MAApB,GAA6B,IAA7B;AACH;;AAED,YAAG,KAAKL,eAAR,EAAwB;AACpB,iBAAKA,eAAL,CAAqBK,MAArB,GAA8B,KAA9B;AACH;;AAED,YAAG,KAAKF,eAAR,EAAwB;AACpB,iBAAKA,eAAL,CAAqBE,MAArB,GAA8B,IAA9B;AACH;AACJ,KAlDI;AAoDLW,2BApDK,qCAoDoB;AACrB,YAAI,KAAKF,WAAT,EAAsB;AACtBnB,WAAGsB,IAAH,CAAQ,mBAAR;AACA,YAAG,KAAKjB,eAAR,EAAwB;AACpB,iBAAKA,eAAL,CAAqBK,MAArB,GAA8B,IAA9B;AACH;;AAED,YAAG,KAAKH,cAAR,EAAuB;AACnB,iBAAKA,cAAL,CAAoBG,MAApB,GAA6B,KAA7B;AACH;;AAED,YAAG,KAAKF,eAAR,EAAwB;AACpB,iBAAKA,eAAL,CAAqBE,MAArB,GAA8B,KAA9B;AACH;AACJ,KAlEI;AAoELG,mBApEK,2BAoEWU,IApEX,EAoEgB;AACjB,YAAI,KAAKJ,WAAT,EAAsBI,OAAO,KAAP;AACtBvB,WAAGwB,GAAH,CAAO,mBAAP,EAA4BD,IAA5B;AACA,aAAKT,OAAL,CAAaW,OAAb,CAAqB,cAAM;AACvBC,eAAGC,YAAH,GAAkBJ,IAAlB;AACH,SAFD;AAGH;AA1EI,CAAT","file":"TrialButton.js","sourceRoot":"../../../../../../assets/cc-common/cc-slotbase-v2/trial","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        playTrialButton: cc.Node,\n        playRealButton: cc.Node,\n        displayRootNode: cc.Node,\n    },\n\n    onLoad (){\n        if(this.playTrialButton){\n            this.playTrialButton.active = true;\n        }\n        if(this.playRealButton){\n            this.playRealButton.active = false;\n        }\n\n        if(this.displayRootNode){\n            this.displayRootNode.active = false;\n        }\n        this.node.on(\"ENABLE_BUTTONS\", this.onEnableButtons, this);\n        this.buttons = this.node.getComponentsInChildren(cc.Button);\n        this.node.setPlayDemoMode = this.setPlayDemoMode.bind(this);\n    },\n\n    setPlayDemoMode() {\n        this.playingDemo = true;\n        if(this.playRealButton){\n            this.playRealButton.active = false;\n        }\n\n        if(this.playTrialButton){\n            this.playTrialButton.active = true;\n        }\n        this.onEnableButtons(false);\n    },\n\n    onPlayTrialButtonClicked(){\n        if (this.playingDemo) return;\n        if(this.playRealButton){\n            this.playRealButton.active = true;\n        }\n\n        if(this.playTrialButton){\n            this.playTrialButton.active = false;\n        }\n\n        if(this.displayRootNode){\n            this.displayRootNode.active = true;\n        }\n    },\n\n    onPlayRealButtonClicked(){\n        if (this.playingDemo) return;\n        cc.warn('Back To Real Mode');\n        if(this.playTrialButton){\n            this.playTrialButton.active = true;\n        }\n\n        if(this.playRealButton){\n            this.playRealButton.active = false;\n        }\n\n        if(this.displayRootNode){\n            this.displayRootNode.active = false;\n        }\n    },\n\n    onEnableButtons(isOn){\n        if (this.playingDemo) isOn = false;\n        cc.log('_showTrialButtons', isOn);\n        this.buttons.forEach(bt => {\n            bt.interactable = isOn;\n        });\n    },\n});\n"]}