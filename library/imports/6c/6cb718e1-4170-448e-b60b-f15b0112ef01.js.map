{"version":3,"sources":["../../../../../../assets/cc-taoquan-9983/scripts/common/assets/cc-taoquan-9983/scripts/common/WildMultiplier9983.js"],"names":["require","convertAssetArrayToObject","COLOR","cc","Class","extends","Component","properties","display","Node","images","SpriteFrame","spine","onLoad","node","on","active","active_fast","hide","hideFast","assets","scale","spineAnim","getComponent","sp","Skeleton","stopAllActions","opacity","callback","isShowing","angle","runAction","fadeOut","setAnimation","multiplier","color","isAutoSpin","addAnimation","delayTime","imagesName","convertName","Sprite","spriteFrame","tween","to","delay","call","start"],"mappings":"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","file":"WildMultiplier9983.js","sourceRoot":"../../../../../../assets/cc-taoquan-9983/scripts/common","sourcesContent":["const { convertAssetArrayToObject } = require('utils');\n\nconst COLOR = ['Bac', 'Do', 'Den', 'XanhDuong', 'Vang', 'XanhLa', 'Tim'];\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        display: cc.Node,\n        images: [cc.SpriteFrame],\n        spine: cc.Node,\n    },\n\n    onLoad() {\n        this.node.on('ACTIVE_MULTIPLIER', this.active, this);\n        this.node.on('ACTIVE_FAST', this.active_fast, this);\n        this.node.on('HIDE', this.hide, this);\n        this.node.on('HIDE_FAST', this.hideFast, this);\n        this.assets = convertAssetArrayToObject(this.images);\n        this.display.scale = 0;\n        if (this.spine) {\n            this.spineAnim = this.spine.getComponent(sp.Skeleton);\n        }\n    },\n\n    hide() {\n        this.display.stopAllActions();\n        this.display.opacity = 0;\n        this.callback && this.callback();\n        this.callback = null;\n        if (this.isShowing) {\n            this.display.scale = 1;\n            this.display.angle = 0;\n            this.display.opacity = 255;\n            this.display.runAction(cc.fadeOut(0.4));\n            this.isShowing = false;\n            if (this.spineAnim) this.spineAnim.setAnimation(0, 'Static', true);\n        }\n    },\n    hideFast() {\n        this.display.stopAllActions();\n        this.display.opacity = 0;\n        this.callback && this.callback();\n        this.callback = null;\n        if (this.isShowing) {\n            this.display.scale = 1;\n            this.display.angle = 0;\n            this.isShowing = false;\n        }\n    },\n    active(multiplier, color = 7, isAutoSpin, callback) {\n        this.isShowing = true;\n        this.callback = callback;\n        if (!isAutoSpin) {\n            this.callback && this.callback();\n            this.callback = null;\n        }\n\n        if (this.spineAnim) {\n            this.spineAnim.setAnimation(0, 'Win', false);\n            this.spineAnim.addAnimation(0, 'Idle', false);\n            this.spineAnim.addAnimation(0, 'Static', true);\n        }\n        let delayTime = 0;\n        const imagesName = this.convertName(multiplier, color);\n        this.display.getComponent(cc.Sprite).spriteFrame = this.assets[imagesName];\n        this.display.stopAllActions();\n        this.display.scale = 0;\n        this.display.angle = 0;\n        this.display.opacity = 255;\n        cc.tween(this.display)\n            .to(0.8, { angle: 360, scale: 1.3 })\n            .to(0.2, { scale: 1 })\n            .delay(delayTime)\n            .call(() => {\n                if (isAutoSpin) {\n                    this.callback && this.callback();\n                    this.callback = null;\n                }\n            })\n            .start();\n    },\n\n    active_fast(multiplier, color = 7) {\n        this.isShowing = true;\n        const imagesName = this.convertName(multiplier, color);\n        this.display.getComponent(cc.Sprite).spriteFrame = this.assets[imagesName];\n        if (this.spineAnim) this.spineAnim.setAnimation(0, 'Static', true);\n        this.display.scale = 1;\n        this.display.angle = 0;\n        this.display.opacity = 255;\n    },\n\n    convertName(multiplier, color) {\n        return 'X' + multiplier + '-' + COLOR[color - 1];\n    }\n});\n"]}