{"version":3,"sources":["SlotButton.js"],"names":["cc","Class","extends","require","properties","stopAutoSpinBtn","Node","spinBtn","fastToResultBtn","panelMultiSpin","multiSpin1Btn","multiSpin2Btn","multiSpin3Btn","multiSpin4Btn","removeSpinPanel","promotionSpin","promotionSpinTimes","promotionSpinStopBtn","promotionSpinEffect","promotionIconSpin","removeSoundClick","onLoad","node","on","enableSpin","disableSpin","showSpin","hideSpin","showFastToResult","hideFastToResult","enableFastToResult","disableFastToResult","showStopAutoSpin","hideStopAutoSpin","bind","pauseAutoSpin","systemEvent","SystemEvent","EventType","KEY_UP","onKeyUp","enable","off","showPromotionSpin","hidePromotionSpin","showPromotionSpinEffect","hidePromotionSpinEffect","showPromotionSpinTimes","hidePromotionSpinTimes","showPromotionSpinStopBtn","hidePromotionSpinStopBtn","disablePromotionSpinStopBtn","enablePromotionSpinStopBtn","hideAllPromotionButton","showAllPromotionButton","_isPromotionSpin","zIndex","spinBtnComponent","getComponent","Button","interactable","start","hideAutoSpinPanel","bindAutoSpinEvent","TOUCH_START","selectionAutoSpin","showFunc","setTimeout","canAutoSpin","soundPlayer","playSFXClick","showAutoSpinPanel","emit","_isTouched","TOUCH_END","onTouchCancel","TOUCH_CANCEL","TOUCH_MOVE","onTouchMove","MOUSE_LEAVE","onMouseLeave","unbindAutoSpinEvent","active","cancelAutoSpinPanel","clearTimeout","event","touch","hit","_hitTest","getLocation","opacity","spinClick","fastToResultClick","isResume","stopAutoSpinClick","multiSpin1Click","multiSpin2Click","multiSpin3Click","multiSpin4Click","keyCode","macro","KEY","space","isPause","isPauseAutoSpin","showPromotionIconSpin","enableIconSpin","hidePromotionIconSpin","disableIconSpin","delay","promotionEffect","sequence","delayTime","callFunc","sp","Skeleton","setAnimation","runAction","stopAction","showButtonsEndPromotion","hideButtonStartPromotion","onDestroy"],"mappings":"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","file":"SlotButton.js","sourceRoot":"../../../../../../../assets/cc-common/cc-slotbase-v2/slotGame/controller","sourcesContent":["\n\ncc.Class({\n    extends: require(\"SlotButtonBase\"),\n\n    properties: {\n        stopAutoSpinBtn: cc.Node,\n        spinBtn: cc.Node,\n        fastToResultBtn: cc.Node,\n        panelMultiSpin: cc.Node,\n        multiSpin1Btn: cc.Node,\n        multiSpin2Btn: cc.Node,\n        multiSpin3Btn: cc.Node,\n        multiSpin4Btn: cc.Node,\n        removeSpinPanel: false,\n        promotionSpin: cc.Node,\n        promotionSpinTimes: cc.Node,\n        promotionSpinStopBtn: cc.Node,\n        promotionSpinEffect: cc.Node,\n        promotionIconSpin: cc.Node,\n        removeSoundClick: false\n    },\n    onLoad() {\n        if (this.spinBtn) {\n            this.node.on(\"SPIN_ENABLE\",this.enableSpin,this);\n            this.node.on(\"SPIN_DISABLE\",this.disableSpin,this);\n            this.node.on(\"SPIN_SHOW\",this.showSpin,this);\n            this.node.on(\"SPIN_HIDE\",this.hideSpin,this);\n        }\n        \n        if (this.fastToResultBtn) {\n            this.node.on(\"FAST_TO_RESULT_SHOW\",this.showFastToResult,this);\n            this.node.on(\"FAST_TO_RESULT_HIDE\",this.hideFastToResult,this);\n            this.node.on(\"FAST_TO_RESULT_ENABLE\",this.enableFastToResult,this);\n            this.node.on(\"FAST_TO_RESULT_DISABLE\",this.disableFastToResult,this);\n        }\n        \n        if (this.stopAutoSpinBtn) {\n            this.node.on(\"STOP_AUTO_SPIN_SHOW\",this.showStopAutoSpin,this);\n            this.node.on(\"STOP_AUTO_SPIN_HIDE\",this.hideStopAutoSpin.bind(this));\n        }\n\n        this.node.on(\"PAUSE_AUTO_SPIN\", this.pauseAutoSpin,this);\n\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\n\n        this.node.on(\"ENABLE_SPIN_KEY\", (enable)=>{\n            cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\n            \n            if (enable)\n                cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\n        });\n\n        if(this.promotionSpin){\n            this.node.on(\"PROMOTION_SPIN_SHOW\",this.showPromotionSpin,this);\n            this.node.on(\"PROMOTION_SPIN_HIDE\",this.hidePromotionSpin,this);\n        }\n\n        if(this.promotionSpinEffect){\n            this.node.on(\"SHOW_PROMOTION_SPIN_EFFECT\",this.showPromotionSpinEffect,this);\n            this.node.on(\"HIDE_PROMOTION_SPIN_EFFECT\",this.hidePromotionSpinEffect,this);\n        }\n\n        if(this.promotionSpinTimes){\n            this.node.on(\"PROMOTION_SPIN_TIMES_SHOW\",this.showPromotionSpinTimes,this);\n            this.node.on(\"PROMOTION_SPIN_TIMES_HIDE\",this.hidePromotionSpinTimes,this);\n        }\n\n        if(this.promotionSpinStopBtn){\n            this.node.on(\"PROMOTION_STOP_SPIN_SHOW\",this.showPromotionSpinStopBtn,this);\n            this.node.on(\"PROMOTION_STOP_SPIN_HIDE\",this.hidePromotionSpinStopBtn,this);\n            this.node.on(\"DISABLE_PROMOTION_STOP_SPIN\", this.disablePromotionSpinStopBtn, this);\n            this.node.on(\"ENABLE_PROMOTION_STOP_SPIN\", this.enablePromotionSpinStopBtn, this);\n        }\n\n        this.node.on(\"HIDE_ALL_PROMOTION_BUTTONS\",this.hideAllPromotionButton,this);\n        this.node.on(\"SHOW_ALL_PROMOTION_BUTTONS\",this.showAllPromotionButton,this);\n\n        this._isPromotionSpin = false;\n\n        if(this.promotionSpin){\n            this.promotionSpin.zIndex = 7;\n        }\n\n        if(this.promotionSpinStopBtn){\n            this.promotionSpinStopBtn.zIndex = 8;\n        }\n\n        if(this.promotionIconSpin){\n            this.promotionIconSpin.zIndex = 10;\n        }\n\n        if(this.promotionSpinTimes){\n            this.promotionSpinTimes.zIndex = 11;\n        }\n\n        if (this.spinBtn) {\n            this.spinBtnComponent = this.spinBtn.getComponent(cc.Button);\n            this.spinBtnComponent.interactable = false;\n        }\n\n    },\n    start() {\n        if (this.spinBtn && this.panelMultiSpin && this.stopAutoSpinBtn) {\n            this.hideAutoSpinPanel();\n            this.bindAutoSpinEvent();\n            this.panelMultiSpin.zIndex = 4;\n            this.stopAutoSpinBtn.zIndex = 3;\n        }\n        if (this.spinBtn) {\n            this.spinBtn.zIndex = 1;\n        }\n        if (this.fastToResultBtn) {\n            this.fastToResultBtn.zIndex = 2;\n        }\n    },\n\n    bindAutoSpinEvent() {\n        if(this.spinBtn){\n            this.spinBtn.on(cc.Node.EventType.TOUCH_START, () => {\n                this.selectionAutoSpin = false;\n                this.showFunc = setTimeout(() => {\n                    if (this.canAutoSpin()) {\n                        this.selectionAutoSpin = true;\n                        if (this.node.soundPlayer) {\n                            this.node.soundPlayer.playSFXClick();\n                        }\n                        if (!this.removeSpinPanel)\n                            this.showAutoSpinPanel();\n                        else\n                            this.node.emit('MULTI_SPIN_4_CLICK');\n                    }\n                }, 700);\n                this.node.emit('ON_TOUCH_START');\n                this._isTouched = true;\n            });\n            this.spinBtn.on(cc.Node.EventType.TOUCH_END, this.onTouchCancel.bind(this));\n            this.spinBtn.on(cc.Node.EventType.TOUCH_CANCEL, this.onTouchCancel.bind(this));\n            this.spinBtn.on(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove.bind(this));\n            this.spinBtn.on(cc.Node.EventType.MOUSE_LEAVE, this.onMouseLeave.bind(this));\n        }\n    },\n\n    unbindAutoSpinEvent() {\n        if(this.spinBtn){\n            this.spinBtn.off(cc.Node.EventType.TOUCH_START);\n            this.spinBtn.off(cc.Node.EventType.TOUCH_END);\n            this.spinBtn.off(cc.Node.EventType.TOUCH_CANCEL);\n            this.spinBtn.off(cc.Node.EventType.TOUCH_MOVE);\n            this.spinBtn.off(cc.Node.EventType.MOUSE_LEAVE);\n        }\n    },\n\n    hideAutoSpinPanel(){\n        this.panelMultiSpin.active = false;\n    },\n\n    showAutoSpinPanel(){\n        this.panelMultiSpin.active = true;\n    },\n\n    cancelAutoSpinPanel()\n    {\n        if (this.selectionAutoSpin) return;\n        if (this.showFunc) {\n            this.panelMultiSpin.active = false;\n            clearTimeout(this.showFunc);\n        }\n    },\n\n    onMouseLeave(){\n        if(this.selectionAutoSpin===false){\n            this.cancelAutoSpinPanel();\n        }\n    },\n\n    onTouchMove(event){\n        let touch  = event.touch;\n        let hit = this.spinBtn._hitTest(touch.getLocation());\n        if(hit){\n            if(!this._isTouched){\n                this.node.emit('ON_TOUCH_START');\n                this._isTouched = true;\n            }\n        }else{\n            this.cancelAutoSpinPanel();\n            if (this.selectionAutoSpin) return;\n            this.node.emit('ON_TOUCH_CANCEL');\n            this._isTouched = false;\n        }\n    },\n\n    onTouchCancel(){\n        this.cancelAutoSpinPanel();\n        if (this.selectionAutoSpin) return;\n        this.node.emit('ON_TOUCH_CANCEL');\n        this._isTouched = false;\n    },\n\n    //Spin button\n    showSpin() {\n        this.spinBtn.active = true;\n        this.spinBtn.opacity = this._isPromotionSpin == true ? 0: 255;\n    },\n    hideSpin() {\n        this.cancelAutoSpinPanel();\n        this.spinBtn.active = false;\n    },\n    enableSpin() {\n        this.spinBtnComponent.interactable = true;\n    },\n    disableSpin() {\n        //this is cheat to turn off panelMultiSpin after click other func\n        if (this.panelMultiSpin) {\n            this.panelMultiSpin.active = false;\n        }\n        this.spinBtnComponent.interactable = false;\n    },\n    spinClick(){\n        if (this.node.soundPlayer && !this.removeSoundClick) {\n            this.node.soundPlayer.playSFXClick();\n        }\n        if (this.panelMultiSpin.active) return;\n        this.node.emit('SPIN_CLICK');\n    },\n\n    //Fast to result\n    showFastToResult() {\n        this.fastToResultBtn.active = true;\n    },\n    hideFastToResult() {\n        this.fastToResultBtn.active = false;\n    },\n    enableFastToResult() {\n        this.fastToResultBtn.getComponent(cc.Button).interactable = true;\n    },\n    disableFastToResult() {\n        this.fastToResultBtn.getComponent(cc.Button).interactable = false;\n    },\n    fastToResultClick(){\n        if (this.node.soundPlayer && !this.removeSoundClick) {\n            this.node.soundPlayer.playSFXClick();\n        }\n        this.node.emit('FAST_TO_RESULT_CLICK');\n    },\n\n    //Stop Auto Spin\n    showStopAutoSpin() {\n        if (this.stopAutoSpinBtn) {\n            this.stopAutoSpinBtn.active = true;\n        }\n    },\n    hideStopAutoSpin(isResume) {\n        if (this.stopAutoSpinBtn) {\n            this.stopAutoSpinBtn.active = false;\n        }\n        if (this.fastToResultBtn && !this.fastToResultBtn.active && this.selectionAutoSpin && !isResume) {\n            this.fastToResultBtn.active = true;\n        }\n    },\n    stopAutoSpinClick() {\n        if (this.node.soundPlayer && !this.removeSoundClick) {\n            this.node.soundPlayer.playSFXClick();\n        }\n        this.node.emit('STOP_AUTO_SPIN_CLICK');\n    },\n\n\n    multiSpin1Click() {\n        this.panelMultiSpin.active = false;\n        if (this.node.soundPlayer && !this.removeSoundClick) {\n            this.node.soundPlayer.playSFXClick();\n        }\n        this.node.emit('MULTI_SPIN_1_CLICK');\n    },\n    multiSpin2Click() {\n        this.panelMultiSpin.active = false;\n        if (this.node.soundPlayer && !this.removeSoundClick) {\n            this.node.soundPlayer.playSFXClick();\n        }\n        this.node.emit('MULTI_SPIN_2_CLICK');\n    },\n    multiSpin3Click() {\n        this.panelMultiSpin.active = false;\n        if (this.node.soundPlayer && !this.removeSoundClick) {\n            this.node.soundPlayer.playSFXClick();\n        }\n        this.node.emit('MULTI_SPIN_3_CLICK');\n    },\n    multiSpin4Click() {\n        this.panelMultiSpin.active = false;\n        if (this.node.soundPlayer && !this.removeSoundClick) {\n            this.node.soundPlayer.playSFXClick();\n        }\n        this.node.emit('MULTI_SPIN_4_CLICK');\n    },\n\n    onKeyUp(event)\n    {\n        if (event.keyCode == cc.macro.KEY.space)\n        {\n            if (this.spinBtnComponent && this.spinBtnComponent.interactable && !this.stopAutoSpinBtn.active)\n                this.node.emit('SPACE_PRESSED');\n\n            else if (this.fastToResultBtn && this.fastToResultBtn.active)\n            {\n                if (this.fastToResultBtn.getComponent(cc.Button).interactable)\n                    this.node.emit('FAST_TO_RESULT_CLICK');\n            }\n        }\n    },\n\n    pauseAutoSpin(isPause = false) {\n        this.isPauseAutoSpin = isPause;\n    },\n\n    canAutoSpin() {\n        if(this.node){\n            this.node.emit('CHECK_AUTO_SPIN_FLAG', 'pauseAutoSpin');\n        }\n        return !this.isPauseAutoSpin && this.spinBtnComponent.interactable;\n    },\n\n    showPromotionSpin(){\n        this.promotionSpin.active = true;\n        this.showPromotionIconSpin();\n        this.enableIconSpin();\n    },\n\n    hidePromotionSpin() {\n        this.promotionSpin.active = false;\n        this.hidePromotionIconSpin();\n        this.disableIconSpin();\n    },\n\n    enableIconSpin() {\n        \n    },\n\n    disableIconSpin() {\n        \n    },\n\n    hidePromotionIconSpin() {\n        if(this.promotionIconSpin){\n            this.promotionIconSpin.active = false;\n        }\n    },\n\n    showPromotionIconSpin() {\n        if(this.promotionIconSpin){\n            this.promotionIconSpin.active = true;\n        }\n    },\n\n    showPromotionSpinEffect(delay = 0) {\n        if (this.promotionSpinEffect) {\n            this.promotionSpinEffect.active = true;\n            this.promotionEffect = cc.sequence(\n                cc.delayTime(delay),\n                cc.callFunc(() => {\n                    this.promotionSpinEffect.getComponent(sp.Skeleton).setAnimation(0, 'animation', true);\n                    this.promotionSpinEffect.opacity = 255;\n                })\n            );\n            this.promotionSpinEffect.runAction(this.promotionEffect);\n        }\n    },\n\n    hidePromotionSpinEffect() {\n        if (this.promotionSpinEffect) {\n            if (this.promotionEffect) {\n                this.promotionSpinEffect.stopAction(this.promotionEffect);\n            }\n            this.promotionSpinEffect.opacity = 0;\n            this.promotionSpinEffect.active = false;\n        }\n    },\n\n    showPromotionSpinTimes() {\n        if(this.promotionSpinTimes){\n            this.promotionSpinTimes.active = true;\n        }\n    },\n\n    hidePromotionSpinTimes() {\n        if(this.promotionSpinTimes){\n            this.promotionSpinTimes.active = false;\n        }\n    },\n\n    showPromotionSpinStopBtn() {\n        if(this.promotionSpinStopBtn){\n            this.promotionSpinStopBtn.active = true;\n        }\n    },\n\n    hidePromotionSpinStopBtn() {\n        if(this.promotionSpinStopBtn){\n            this.promotionSpinStopBtn.active = false;\n        }\n    },\n\n    disablePromotionSpinStopBtn() {\n        if (this.promotionSpinStopBtn) {\n            this.promotionSpinStopBtn.getComponent(cc.Button).interactable = false;\n        }\n    },\n\n    enablePromotionSpinStopBtn() {\n        if (this.promotionSpinStopBtn) {\n            this.promotionSpinStopBtn.getComponent(cc.Button).interactable = true;\n        }\n    },\n\n    showButtonsEndPromotion() {\n        if (!this.spinBtn || !this.fastToResultBtn || !this.stopAutoSpinBtn) return;\n        this._isPromotionSpin = false;\n        this.spinBtn.opacity = 255;\n        this.fastToResultBtn.opacity = 255;\n        this.stopAutoSpinBtn.opacity = 255;\n        this.hidePromotionSpinEffect();\n    },\n\n    hideButtonStartPromotion() {\n        if (!this.spinBtn || !this.fastToResultBtn || !this.stopAutoSpinBtn) return;\n        this._isPromotionSpin = true;\n        this.spinBtn.opacity = 0;\n        this.fastToResultBtn.opacity = 0;\n        this.stopAutoSpinBtn.opacity = 0;\n        this.showPromotionSpinEffect();\n    },\n\n    hideAllPromotionButton() {\n        this.hidePromotionSpin();\n        this.hidePromotionSpinStopBtn();\n        this.hidePromotionSpinTimes();\n        this.bindAutoSpinEvent();\n        this.showButtonsEndPromotion();\n        this.hidePromotionIconSpin();\n    },\n\n    showAllPromotionButton() {\n        this.showPromotionSpin();\n        this.unbindAutoSpinEvent();\n        this.showPromotionSpinTimes();\n        this.hideButtonStartPromotion();\n    },\n\n    onDestroy() {\n        clearTimeout(this.showFunc);\n        cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\n        if(this.promotionSpin){\n            this.node.off(\"PROMOTION_SPIN_SHOW\",this.showPromotionSpin,this);\n            this.node.off(\"PROMOTION_SPIN_HIDE\",this.hidePromotionSpin,this);\n        }\n\n        if(this.promotionSpinEffect){\n            this.node.off(\"SHOW_PROMOTION_SPIN_EFFECT\",this.showPromotionSpinEffect,this);\n            this.node.off(\"HIDE_PROMOTION_SPIN_EFFECT\",this.hidePromotionSpinEffect,this);\n        }\n\n        if(this.promotionSpinTimes){\n            this.node.off(\"PROMOTION_SPIN_TIMES_SHOW\",this.showPromotionSpinTimes,this);\n            this.node.off(\"PROMOTION_SPIN_TIMES_HIDE\",this.hidePromotionSpinTimes,this);\n        }\n\n        if(this.promotionSpinStopBtn){\n            this.node.off(\"PROMOTION_STOP_SPIN_SHOW\",this.showPromotionSpinStopBtn,this);\n            this.node.off(\"PROMOTION_STOP_SPIN_HIDE\",this.hidePromotionSpinStopBtn,this);\n        }\n\n        this.node.off(\"HIDE_ALL_PROMOTION_BUTTONS\",this.hideAllPromotionButton,this);\n        this.node.off(\"SHOW_ALL_PROMOTION_BUTTONS\",this.showAllPromotionButton,this);\n\n        this.hidePromotionSpinEffect();\n    },\n});\n"]}