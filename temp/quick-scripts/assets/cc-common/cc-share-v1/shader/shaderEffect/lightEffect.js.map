{"version":3,"sources":["lightEffect.js"],"names":["cc","Class","extends","Component","properties","speed","start","sprite","node","getComponent","Sprite","material","getMaterial","spine","sp","Skeleton","iTime","tween","repeatForever","to","delay","update","setProperty"],"mappings":";;;;;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,eAAO;AADC,KAHP;;AAOLC,SAPK,mBAOI;AACL,YAAMC,SAAS,KAAKC,IAAL,CAAUC,YAAV,CAAuBT,GAAGU,MAA1B,CAAf;AACA,YAAGH,MAAH,EAAW;AACP,iBAAKI,QAAL,GAAgBJ,OAAOK,WAAP,CAAmB,CAAnB,CAAhB;AACH,SAFD,MAEO;AACH,gBAAMC,QAAQ,KAAKL,IAAL,CAAUC,YAAV,CAAuBK,GAAGC,QAA1B,CAAd;AACA,gBAAGF,KAAH,EAAU;AACN,qBAAKF,QAAL,GAAgBE,MAAMD,WAAN,CAAkB,CAAlB,CAAhB;AACH;AACJ;AACD,aAAKI,KAAL,GAAa,CAAb;AACAhB,WAAGiB,KAAH,CAAS,IAAT,EACKC,aADL,CACmBlB,GAAGiB,KAAH,GACVE,EADU,CACP,MAAM,KAAKd,KADJ,EACW,EAACW,OAAO,GAAR,EADX,EAEVI,KAFU,CAEJ,MAAM,KAAKf,KAFP,EAGVc,EAHU,CAGP,MAAM,KAAKd,KAHJ,EAGW,EAACW,OAAO,GAAR,EAHX,EAIVI,KAJU,CAIJ,MAAM,KAAKf,KAAX,GAAmB,GAJf,CADnB,EAOKC,KAPL;AAQH,KA1BI;AA4BLe,UA5BK,oBA4BK;AACN,YAAG,CAAC,KAAKV,QAAT,EAAmB;AACnB,aAAKA,QAAL,CAAcW,WAAd,CAA0B,OAA1B,EAAmC,KAAKN,KAAxC;AACA;AACH;AAhCI,CAAT","file":"lightEffect.js","sourceRoot":"../../../../../../../assets/cc-common/cc-share-v1/shader/shaderEffect","sourcesContent":["\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        speed: 1.0,\n    },\n\n    start () {\n        const sprite = this.node.getComponent(cc.Sprite);\n        if(sprite) {\n            this.material = sprite.getMaterial(0);\n        } else {\n            const spine = this.node.getComponent(sp.Skeleton);\n            if(spine) {\n                this.material = spine.getMaterial(0);\n            }\n        }\n        this.iTime = 0;\n        cc.tween(this)\n            .repeatForever(cc.tween()\n                .to(1.0 / this.speed, {iTime: 0.5})\n                .delay(1.0 / this.speed)\n                .to(1.0 / this.speed, {iTime: 0.0})\n                .delay(1.0 / this.speed * 1.5)\n            )\n            .start();\n    },\n\n    update () {\n        if(!this.material) return;\n        this.material.setProperty('iTime', this.iTime);\n        // this.iTime += this.speed * dt;\n    },\n});\n"]}