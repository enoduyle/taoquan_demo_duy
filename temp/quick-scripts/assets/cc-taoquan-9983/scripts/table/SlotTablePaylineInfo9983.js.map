{"version":3,"sources":["SlotTablePaylineInfo9983.js"],"names":["require","convertAssetArrayToObject","formatMoney","floatUtils","div","a","b","cc","Class","extends","Component","properties","numOfSymbols","Label","symbol","Sprite","winAmount","equalSymbol","Node","combinationString","imageList","SpriteFrame","winText","start","node","on","showPaylineInfo","hidePaylineInfo","assets","active","localizeText","string","lineText","config","MESSAGE_DIALOG","PAY_LINE_ALLWAYS","LINE","WIN","WIN_TEXT_1","toLowerCase","line","payLineSymbol","payLineWinNumbers","payLineWinAmount","paylineMaxColumn","wildMultiplier","Number","spriteFrame","divVal","winPerline"],"mappings":"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","file":"SlotTablePaylineInfo9983.js","sourceRoot":"../../../../../../assets/cc-taoquan-9983/scripts/table","sourcesContent":["let { convertAssetArrayToObject, formatMoney, floatUtils } = require('utils');\n\nif (!floatUtils) {\n    floatUtils = {\n        div(a, b) { return a / b; }\n    }\n}\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        numOfSymbols: cc.Label,\n        symbol: cc.Sprite,\n        winAmount: cc.Label,\n        equalSymbol: cc.Node,\n        combinationString: cc.Label,\n        imageList: [cc.SpriteFrame],\n\n        winText: cc.Label,\n    },\n\n    start() {\n        this.node.on(\"SHOW_PAYLINE\", this.showPaylineInfo, this);\n        this.node.on(\"HIDE_PAYLINE\", this.hidePaylineInfo, this);\n        this.assets = convertAssetArrayToObject(this.imageList);\n        this.node.active = false;\n        this.localizeText();\n    },\n\n    localizeText() {\n        this.winText.string = `thắng`;\n        this.lineText = 'Line';\n        if (!this.node.config) return;\n        const { MESSAGE_DIALOG, PAY_LINE_ALLWAYS } = this.node.config;\n        const { LINE = 'Line', WIN = \"Thắng\", WIN_TEXT_1 = \"thắng\" } = MESSAGE_DIALOG;\n\n        this.lineText = LINE;\n        if (PAY_LINE_ALLWAYS) {\n            this.winText.string = WIN.toLowerCase();\n        } else {\n            this.winText.string = WIN_TEXT_1.toLowerCase();\n        }\n    },\n\n    showPaylineInfo({ line }) {\n        this.node.active = true;\n        const { payLineSymbol, payLineWinNumbers, payLineWinAmount, paylineMaxColumn, wildMultiplier } = line;\n        this.equalSymbol.active = false;\n\n        this.combinationString.node.active = false;\n\n        this.numOfSymbols.string = Number(paylineMaxColumn);\n        this.symbol.spriteFrame = this.assets[payLineSymbol];\n        this.winAmount.string = formatMoney(payLineWinAmount);\n\n        if (Number(payLineWinNumbers) > 1) {\n            this.equalSymbol.active = true;\n            let divVal = floatUtils.div(payLineWinAmount, payLineWinNumbers);\n            let winPerline = formatMoney(floatUtils.div(divVal, wildMultiplier));\n            this.combinationString.node.active = true;\n            this.combinationString.string = winPerline + \" x \" + payLineWinNumbers;\n            if (wildMultiplier > 1) {\n                this.combinationString.string += \" x \" + Number(wildMultiplier);\n            }\n        } else if (wildMultiplier > 1) {\n            this.equalSymbol.active = true;\n            let winPerline = formatMoney(floatUtils.div(payLineWinAmount, wildMultiplier));\n            this.combinationString.node.active = true;\n            this.combinationString.string = winPerline + \" x \" + Number(wildMultiplier);\n        }\n    },\n\n    hidePaylineInfo() {\n        this.node.active = false;\n    }\n});\n"]}