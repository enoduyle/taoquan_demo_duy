{"version":3,"sources":["GameMode.js"],"names":["cc","Class","extends","Component","properties","onLoad","node","init","bind","enter","exit","hide","show","reset","stateUpdate","stateResume","resetCallbackWhenHide","mainDirector","isActive","emit","opacity","active","callback","callBackWhenHide","data"],"mappings":"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","file":"GameMode.js","sourceRoot":"../../../../../../assets/cc-common/cc-slotbase-v2/component","sourcesContent":["\n\ncc.Class({\n    extends: cc.Component,\n    properties: {},\n    onLoad() {\n        this.node.init = this.init.bind(this);\n        this.node.enter = this.enter.bind(this);\n        this.node.exit = this.exit.bind(this);\n        this.node.hide = this.hide.bind(this);\n        this.node.show = this.show.bind(this);\n        this.node.reset = this.reset.bind(this);\n        this.node.stateUpdate = this.stateUpdate.bind(this);\n        this.node.stateResume = this.stateResume.bind(this);\n        this.node.resetCallbackWhenHide = this.resetCallbackWhenHide.bind(this);\n    },\n    init(mainDirector, isActive = false) {\n        this.node.mainDirector = mainDirector;\n        this.node.emit('GAME_INIT');\n        this.node.opacity = 0;\n        this.node.active = false;\n        if(isActive){\n            this.node.opacity = 255;\n            this.node.active = true;\n        }\n    },\n    stateResume(callback) {\n        this.node.emit('GAME_RESUME');\n\n        if (callback && typeof callback == \"function\") {\n            callback();\n        }\n    },\n    stateUpdate(callback) {\n        this.node.emit('GAME_UPDATE');\n\n        if (callback && typeof callback == \"function\") {\n            callback();\n        }\n    },\n    //Show have callback to transition other mode out\n    show(callback) {\n        this.node.opacity = 255;\n        this.node.emit('GAME_SHOW');\n        if (callback && typeof callback == \"function\") {\n            callback();\n        }\n    },\n    exit () {\n        if (this.callBackWhenHide && typeof this.callBackWhenHide == \"function\") {\n            this.callBackWhenHide();\n            this.callBackWhenHide = null;\n        }\n        this.hide();\n        this.node.emit('GAME_EXIT');\n        this.node.active = false;\n    },\n    hide(callback) {\n        this.node.opacity = 0;\n        this.node.emit('GAME_HIDE');\n        if (callback && typeof callback == \"function\") {\n            callback();\n        }\n    },\n    enter(data, callback) {\n        this.node.active = true;\n        this.show();\n        this.callBackWhenHide = callback;\n        this.node.emit('GAME_ENTER',data);\n    },\n    reset(callback) {\n        this.node.emit('GAME_RESET');\n\n        if (callback && typeof callback == \"function\") {\n            callback();\n        }\n    },\n    resetCallbackWhenHide() {\n        if (this.callBackWhenHide && typeof this.callBackWhenHide == \"function\") {\n            this.callBackWhenHide = null;\n        }\n    }\n});\n"]}