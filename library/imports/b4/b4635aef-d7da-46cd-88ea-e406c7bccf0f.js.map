{"version":3,"sources":["../../../../../../assets/cc-common/cc-share-v1/shareServices/assets/cc-common/cc-share-v1/shareServices/XOCypher.js"],"names":["XORCipher","encode","key","data","xor_encrypt","b64_encode","decode","b64_decode","xor_decrypt","encode_new","xor_encrypt_new","decode_new","xor_decrypt_new","encode_tutorial","randomString","decode_tutorial","slice","stringToUtf8ByteArray","str","out","p","i","length","c","charCodeAt","utf8ByteArrayToString","bytes","pos","c1","String","fromCharCode","c2","c3","c4","u","join","b64_table","o1","o2","o3","h1","h2","h3","h4","bits","r","enc","charAt","result","indexOf","push","map","Math","floor","letters","lettersLength","randomIndex","random","module","exports"],"mappings":"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","file":"XOCypher.js","sourceRoot":"../../../../../../assets/cc-common/cc-share-v1/shareServices","sourcesContent":["var XORCipher = {\n    encode: function(key, data) {\n        data = xor_encrypt(key, data);\n        return b64_encode(data);\n    },\n    decode: function(key, data) {\n        data = b64_decode(data);\n        return xor_decrypt(key, data);\n    },\n    encode_new: function(key, data) {\n        data = xor_encrypt_new(key, data);\n        return b64_encode(data);\n    },\n    decode_new: function(key, data) {\n        data = b64_decode(data);\n        return xor_decrypt_new(key, data);\n    },\n\n    encode_tutorial: function(data) {\n        let key = randomString(10);\n        data = xor_encrypt_new(key, data);\n        return b64_encode(data) + key;\n    },\n\n    decode_tutorial: function(data) {\n        let key = data.slice(-10);\n        data = b64_decode(data.slice(0, -10));\n        return xor_decrypt_new(key, data);\n    }\n};\n\nfunction stringToUtf8ByteArray(str) {\n    var out = [], p = 0;\n    for (var i = 0; i < str.length; i++) {\n        var c = str.charCodeAt(i);\n        if (c < 128) {\n            out[p++] = c;\n        } else if (c < 2048) {\n            out[p++] = (c >> 6) | 192;\n            out[p++] = (c & 63) | 128;\n        } else if (\n            ((c & 0xFC00) == 0xD800) && (i + 1) < str.length &&\n                ((str.charCodeAt(i + 1) & 0xFC00) == 0xDC00)) {\n            // Surrogate Pair\n            c = 0x10000 + ((c & 0x03FF) << 10) + (str.charCodeAt(++i) & 0x03FF);\n            out[p++] = (c >> 18) | 240;\n            out[p++] = ((c >> 12) & 63) | 128;\n            out[p++] = ((c >> 6) & 63) | 128;\n            out[p++] = (c & 63) | 128;\n        } else {\n            out[p++] = (c >> 12) | 224;\n            out[p++] = ((c >> 6) & 63) | 128;\n            out[p++] = (c & 63) | 128;\n        }\n    }\n    return out;\n}\n\nfunction utf8ByteArrayToString(bytes) { // array of bytes\n    var out = [], pos = 0, c = 0;\n    while (pos < bytes.length) {\n        var c1 = bytes[pos++];\n        if (c1 < 128) {\n            out[c++] = String.fromCharCode(c1);\n        } else if (c1 > 191 && c1 < 224) {\n            var c2 = bytes[pos++];\n            out[c++] = String.fromCharCode((c1 & 31) << 6 | c2 & 63);\n        } else if (c1 > 239 && c1 < 365) {\n            // Surrogate Pair\n            var c2 = bytes[pos++]; // eslint-disable-line\n            var c3 = bytes[pos++];\n            var c4 = bytes[pos++];\n            var u = ((c1 & 7) << 18 | (c2 & 63) << 12 | (c3 & 63) << 6 | c4 & 63) -\n                    0x10000;\n            out[c++] = String.fromCharCode(0xD800 + (u >> 10));\n            out[c++] = String.fromCharCode(0xDC00 + (u & 1023));\n        } else {\n            var c2 = bytes[pos++]; // eslint-disable-line\n            var c3 = bytes[pos++]; // eslint-disable-line\n            out[c++] =\n                    String.fromCharCode((c1 & 15) << 12 | (c2 & 63) << 6 | c3 & 63);\n        }\n    }\n    return out.join('');\n}\n\nvar b64_table = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\nfunction b64_encode(data) {\n    var o1, o2, o3, h1, h2, h3, h4, bits, r, i = 0, enc = \"\";\n    if (!data) { return data; }\n    do {\n        o1 = data[i++];\n        o2 = data[i++];\n        o3 = data[i++];\n        bits = o1 << 16 | o2 << 8 | o3;\n        h1 = bits >> 18 & 0x3f;\n        h2 = bits >> 12 & 0x3f;\n        h3 = bits >> 6 & 0x3f;\n        h4 = bits & 0x3f;\n        enc += b64_table.charAt(h1) + b64_table.charAt(h2) + b64_table.charAt(h3) + b64_table.charAt(h4);\n    } while (i < data.length);\n    r = data.length % 3;\n    return (r ? enc.slice(0, r - 3) : enc) + \"===\".slice(r || 3);\n}\n\nfunction b64_decode(data) {\n    var o1, o2, o3, h1, h2, h3, h4, bits, i = 0, result = [];\n    if (!data) { return data; }\n    data += \"\";\n    do {\n        h1 = b64_table.indexOf(data.charAt(i++));\n        h2 = b64_table.indexOf(data.charAt(i++));\n        h3 = b64_table.indexOf(data.charAt(i++));\n        h4 = b64_table.indexOf(data.charAt(i++));\n        bits = h1 << 18 | h2 << 12 | h3 << 6 | h4;\n        o1 = bits >> 16 & 0xff;\n        o2 = bits >> 8 & 0xff;\n        o3 = bits & 0xff;\n        result.push(o1);\n        if (h3 !== 64) {\n            result.push(o2);\n            if (h4 !== 64) {\n                result.push(o3);\n            }\n        }\n    } while (i < data.length);\n    return result;\n}\n\nfunction xor_encrypt(key, data) {\n    key = stringToUtf8ByteArray(key);\n    return stringToUtf8ByteArray(data).map(function(c, i) {\n        return c ^ Math.floor(i % key.length);\n    });\n}\n\nfunction xor_decrypt(key, data) {\n    key = stringToUtf8ByteArray(key);\n    return utf8ByteArrayToString(data.map(function(c, i) {\n        return c ^ Math.floor(i % key.length);\n    }));\n}\n\nfunction xor_encrypt_new(key, data) {\n    key = stringToUtf8ByteArray(key);\n    return stringToUtf8ByteArray(data).map(function(c, i) {\n        return c ^ key[Math.floor(i % key.length)];\n    });\n}\n\nfunction xor_decrypt_new(key, data) {\n    key = stringToUtf8ByteArray(key);\n    return utf8ByteArrayToString(data.map(function(c, i) {\n        return c ^ key[Math.floor(i % key.length)];\n    }));\n}\n\nfunction randomString(length = 10) {\n    const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';\n    let result = '';\n    const lettersLength = letters.length;\n  \n    for (let i = 0; i < length; i++) {\n      const randomIndex = Math.floor(Math.random() * lettersLength);\n      result += letters.charAt(randomIndex);\n    }\n  \n    return result;\n}\n\nmodule.exports = XORCipher;\n"]}