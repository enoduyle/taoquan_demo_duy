{"version":3,"sources":["SlotSymbolPayline.js"],"names":["require","convertAssetArrayToObject","cc","Class","extends","Component","properties","staticSymbol","Node","symbols","default","type","SpriteFrame","onLoad","assets","node","mainComponent","changeToSymbol","bind","playAnimation","stopAnimation","blinkHighlight","enableHighlight","disableHighlight","reset","on","symbolName","asset","symbol","opacity","getComponent","Sprite","spriteFrame","width","getOriginalSize","height","duration","blinks","action","blink","active","runAction"],"mappings":"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","file":"SlotSymbolPayline.js","sourceRoot":"../../../../../../../assets/cc-common/cc-slotbase-v2/slotGame/table","sourcesContent":["\n\nconst {convertAssetArrayToObject} = require('utils');\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        staticSymbol: cc.Node,\n        symbols: {\n            default: [],\n            type: cc.SpriteFrame,\n        }, \n    },\n\n    onLoad () {\n        this.assets = convertAssetArrayToObject(this.symbols);\n\n        this.node.mainComponent = this;\n        this.node.changeToSymbol = this.changeToSymbol.bind(this);\n        this.node.playAnimation = this.playAnimation.bind(this);\n        this.node.stopAnimation = this.stopAnimation.bind(this);\n        this.node.blinkHighlight = this.blinkHighlight.bind(this);\n        this.node.enableHighlight = this.enableHighlight.bind(this);\n        this.node.disableHighlight = this.disableHighlight.bind(this);\n        this.node.reset = this.reset.bind(this);\n\n        this.node.on(\"CHANGE_TO_SYMBOL\",this.changeToSymbol,this);\n        this.node.on(\"PLAY_ANIMATION\",this.playAnimation,this);\n        this.node.on(\"STOP_ANIMATION\",this.stopAnimation,this);\n        this.node.on(\"BLINK_HIGHLIGHT\",this.blinkHighlight,this);\n        this.node.on(\"ENABLE_HIGHLIGHT\",this.enableHighlight,this);\n        this.node.on(\"DISABLE_HIGHLIGHT\",this.disableHighlight,this);\n        this.node.on(\"RESET\",this.reset,this);\n    },\n    changeToSymbol(symbolName) {\n        const asset = this.assets[symbolName];\n        if (this.assets[symbolName]) {\n            this.node.symbol = symbolName; // for easy debug\n            this.staticSymbol.opacity = 255;\n            this.staticSymbol.getComponent(cc.Sprite).spriteFrame = asset;\n            this.staticSymbol.width = asset.getOriginalSize().width;\n            this.staticSymbol.height = asset.getOriginalSize().height;\n        } else {\n            this.staticSymbol.opacity = 0;\n        }\n    },\n    playAnimation(){},\n    stopAnimation(){},\n    blinkHighlight(duration,blinks){\n        this.node.opacity = 255;\n        var action = cc.blink(duration*blinks,blinks);\n        this.staticSymbol.active = true;\n        this.staticSymbol.runAction(action);\n    },\n    enableHighlight() {\n        this.node.opacity = 255;\n    },\n    disableHighlight() {\n        this.node.opacity = 0;\n    },\n    reset() {\n        this.node.opacity = 255;\n    },\n});\n"]}