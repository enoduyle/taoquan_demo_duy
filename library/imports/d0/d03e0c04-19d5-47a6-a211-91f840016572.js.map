{"version":3,"sources":["../../../../../../../assets/cc-common/cc-slotbase-v2/gui/betLines/assets/cc-common/cc-slotbase-v2/gui/betLines/BetLineNumberHolder.js"],"names":["cc","Class","extends","Component","properties","betLineNumberPrefab","Prefab","isLeftColumn","startPosX","startPosY","spacing","textHolderNode","Node","betLineNumberText","onLoad","betLines","selectedBetLines","initBetlineNumbers","node","on","updateBetLines","_updateBetLineNumbers","i","length","betLineItem","instantiate","active","betLineComponent","getComponent","setActiveBackground","setText","x","y","parent","textLabel","getComponentInChildren","Label","textLabelPos","convertToWorldSpaceAR","position","setPosition","convertToNodeSpaceAR","children","isActive","indexOf"],"mappings":"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","file":"BetLineNumberHolder.js","sourceRoot":"../../../../../../../assets/cc-common/cc-slotbase-v2/gui/betLines","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        betLineNumberPrefab: cc.Prefab,\n        isLeftColumn: true,\n        startPosX: 0,\n        startPosY: 0,\n        spacing: 0,\n        textHolderNode: cc.Node,\n        betLineNumberText: 'BetLineNumber9976'\n    },\n\n    onLoad() {\n        this.betLines = [];\n        if (this.isLeftColumn) {\n            this.betLines = [6,2,8,5,1,4,10,7,3,9];\n        } else {\n            this.betLines = [16,12,19,14,13,17,18,15,11,20];\n        }\n        this.selectedBetLines = [];\n        this.initBetlineNumbers();\n\n        this.node.on('UPDATE_BET_LINES', this.updateBetLines, this);\n    },\n\n    updateBetLines(betLines = []) {\n        this.selectedBetLines = [...betLines];\n        this._updateBetLineNumbers();\n    },\n\n    initBetlineNumbers() {\n        for (let i = 0; i < this.betLines.length; i++) {\n            let betLineItem = cc.instantiate(this.betLineNumberPrefab);\n            betLineItem.active = true;\n            const betLineComponent = betLineItem.getComponent(this.betLineNumberText);\n            betLineComponent.setActiveBackground(true);\n            betLineComponent.setText(this.betLines[i]);\n            betLineItem.x = this.startPosX;\n            betLineItem.y = this.startPosY - (this.spacing * i);\n            betLineItem.parent = this.node;\n            //change parent\n            let textLabel = betLineItem.getComponentInChildren(cc.Label);\n            let textLabelPos = betLineItem.convertToWorldSpaceAR(textLabel.node.position);\n            betLineItem.getComponentInChildren(cc.Label).node.parent = this.textHolderNode;\n            textLabel.node.setPosition(this.textHolderNode.convertToNodeSpaceAR(textLabelPos));\n        }\n    },\n\n    _updateBetLineNumbers() {\n        for (let i = 0; i < this.betLines.length; i++) {\n            const betLineItem = this.node.children[i];\n            const betLineComponent = betLineItem.getComponent(this.betLineNumberText);\n            let isActive = false;\n            if (!this.selectedBetLines.length || this.selectedBetLines.indexOf(this.betLines[i]) !== -1) {\n                isActive = true;\n            }\n            betLineComponent.setActiveBackground(isActive);\n        }\n    }\n});\n"]}