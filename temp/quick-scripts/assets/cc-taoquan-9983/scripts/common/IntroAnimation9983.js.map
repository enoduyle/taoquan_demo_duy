{"version":3,"sources":["IntroAnimation9983.js"],"names":["cc","Class","extends","Component","properties","isSkipFadeInFirstTime","onEnable","delayStep","fadeTime","scaleTime","fadeInNodes","node","children","slice","totalFadeTime","length","forEach","child","opacity","index","tween","delay","to","start","loopScaleNodes","filter","name","includes","scheduleOnce","_tweenScale","stop","call","scale","split","pop","tweenChild","union","repeat","repeatForever","onDisable","stopAllActions","run","active"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;AAELC,gBAAY;AACRC,+BAAuB;AADf,KAFP;;AAMLC,YANK,sBAMM;AAAA;;AACP,YAAMC,YAAY,GAAlB;AACA,YAAMC,WAAW,GAAjB;AACA,YAAMC,YAAY,GAAlB;AACA,YAAMC,cAAc,KAAKC,IAAL,CAAUC,QAAV,CAAmBC,KAAnB,CAAyB,CAAzB,CAApB;AACA,YAAMC,gBAAgB,KAAKT,qBAAL,GAA6B,CAA7B,GAAiCG,YAAYE,YAAYK,MAAZ,GAAqB,CAAjC,CAAvD;AACA,YAAI,KAAKV,qBAAT,EAAgC;AAC5B,iBAAKA,qBAAL,GAA6B,KAA7B;AACAK,wBAAYM,OAAZ,CAAoB,UAACC,KAAD;AAAA,uBAAWA,MAAMC,OAAN,GAAgB,GAA3B;AAAA,aAApB;AACH,SAHD,MAGO;AACHR,wBAAYM,OAAZ,CAAoB,UAACC,KAAD,EAAQE,KAAR,EAAkB;AAClCF,sBAAMC,OAAN,GAAgB,CAAhB;AACAlB,mBAAGoB,KAAH,CAASH,KAAT,EAAgBI,KAAhB,CAAsBF,QAAQZ,SAA9B,EAAyCe,EAAzC,CAA4Cd,QAA5C,EAAsD,EAAEU,SAAS,GAAX,EAAtD,EAAwEK,KAAxE;AACH,aAHD;AAIH;AACD,YAAMC,iBAAiB,KAAKb,IAAL,CAAUC,QAAV,CAAmBa,MAAnB,CAA0B;AAAA,mBAAQd,KAAKe,IAAL,CAAUC,QAAV,CAAmB,YAAnB,CAAR;AAAA,SAA1B,CAAvB;AACA,aAAKC,YAAL,CAAkB,YAAM;AACpB,kBAAKC,WAAL,IAAqB,MAAKA,WAAL,CAAiBC,IAAjB,EAArB;AACA,kBAAKD,WAAL,GAAmB7B,GAAGoB,KAAH,CAAS,MAAKT,IAAd,CAAnB;AACAa,2BAAeR,OAAf,CAAuB,UAACC,KAAD,EAAQE,KAAR,EAAkB;AACrC,sBAAKU,WAAL,CAAiBR,KAAjB,CAAuBZ,YAAY,GAAnC;AACA,sBAAKoB,WAAL,CAAiBE,IAAjB,CAAsB,YAAM;AACxB,wBAAMC,QAAQ,CAACf,MAAMS,IAAN,CAAWO,KAAX,CAAiB,GAAjB,EAAsBC,GAAtB,EAAf;AACA,wBAAMC,aAAanC,GAAGoB,KAAH,CAASH,KAAT,EAAgBK,EAAhB,CAAmBb,SAAnB,EAA8B,EAAEuB,YAAF,EAA9B,EAAyCV,EAAzC,CAA4Cb,SAA5C,EAAuD,EAAEuB,OAAO,CAAT,EAAvD,CAAnB;AACA,wBAAIb,UAAUK,eAAeT,MAAf,GAAwB,CAAtC,EAAyC;AACrCoB,mCAAWC,KAAX,GAAmBC,MAAnB,CAA0B,CAA1B;AACH;AACDF,+BAAWZ,KAAX;AACH,iBAPD;AAQH,aAVD;AAWA,kBAAKM,WAAL,CAAiBR,KAAjB,CAAuB,GAAvB,EAA4Be,KAA5B,GAAoCE,aAApC,GAAoDf,KAApD;AACH,SAfD,EAeGT,aAfH;AAgBH,KAtCI;AAuCLyB,aAvCK,uBAuCO;AACR,aAAKV,WAAL,IAAoB,KAAKA,WAAL,CAAiBC,IAAjB,EAApB;AACA,aAAKnB,IAAL,CAAUC,QAAV,CAAmBC,KAAnB,CAAyB,CAAzB,EAA4BG,OAA5B,CAAoC,iBAAS;AACzCC,kBAAMuB,cAAN;AACAvB,kBAAMC,OAAN,GAAgB,CAAhB;AACH,SAHD;AAIH,KA7CI;AA8CLuB,OA9CK,iBA8CA;AACD,aAAK9B,IAAL,CAAU+B,MAAV,GAAmB,CAAC,KAAK/B,IAAL,CAAU+B,MAA9B;AACH;AAhDI,CAAT","file":"IntroAnimation9983.js","sourceRoot":"../../../../../../assets/cc-taoquan-9983/scripts/common","sourcesContent":["\ncc.Class({\n    extends: cc.Component,\n    properties: {\n        isSkipFadeInFirstTime: false\n    },\n\n    onEnable() {\n        const delayStep = 0.2;\n        const fadeTime = 0.2;\n        const scaleTime = 0.4;\n        const fadeInNodes = this.node.children.slice(1);\n        const totalFadeTime = this.isSkipFadeInFirstTime ? 0 : fadeTime * (fadeInNodes.length - 1);\n        if (this.isSkipFadeInFirstTime) {\n            this.isSkipFadeInFirstTime = false;\n            fadeInNodes.forEach((child) => child.opacity = 255);\n        } else {\n            fadeInNodes.forEach((child, index) => {\n                child.opacity = 0;\n                cc.tween(child).delay(index * delayStep).to(fadeTime, { opacity: 255 }).start();\n            });\n        }\n        const loopScaleNodes = this.node.children.filter(node => node.name.includes(\"scale_loop\"));\n        this.scheduleOnce(() => {\n            this._tweenScale &&  this._tweenScale.stop();\n            this._tweenScale = cc.tween(this.node);\n            loopScaleNodes.forEach((child, index) => {\n                this._tweenScale.delay(scaleTime * 2.1)\n                this._tweenScale.call(() => {\n                    const scale = +child.name.split(\"_\").pop();\n                    const tweenChild = cc.tween(child).to(scaleTime, { scale }).to(scaleTime, { scale: 1 });\n                    if (index === loopScaleNodes.length - 1) {\n                        tweenChild.union().repeat(2);\n                    }\n                    tweenChild.start();\n                })\n            });\n            this._tweenScale.delay(1.5).union().repeatForever().start();\n        }, totalFadeTime);\n    },\n    onDisable() {\n        this._tweenScale && this._tweenScale.stop();\n        this.node.children.slice(1).forEach(child => {\n            child.stopAllActions();\n            child.opacity = 0;\n        });\n    },\n    run(){\n        this.node.active = !this.node.active;\n    }\n   \n});\n"]}