{"version":3,"sources":["../../../../../../../assets/cc-common/cc-slotbase-v2/slotGame/controller/assets/cc-common/cc-slotbase-v2/slotGame/controller/IconSpin.js"],"names":["cc","Class","extends","Component","properties","targetNode","Node","direction","onLoad","_onHover","onHover","bind","_onMouseOut","onMouseOut","on","EventType","MOUSE_ENTER","MOUSE_LEAVE","showIcon","hideIcon","start","rotateIcon","node","opacity","speed","_tweenRotate","stop","tween","by","angle","repeatForever","onDestroy","off"],"mappings":";;;;;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,oBAAYL,GAAGM,IADP;AAERC,mBAAW;AAFH,KAHP;;AAQLC,UARK,oBAQI;AACL,aAAKC,QAAL,GAAgB,KAAKC,OAAL,CAAaC,IAAb,CAAkB,IAAlB,CAAhB;AACA,aAAKC,WAAL,GAAmB,KAAKC,UAAL,CAAgBF,IAAhB,CAAqB,IAArB,CAAnB;AACA,YAAI,KAAKN,UAAT,EAAqB;AACjB,iBAAKA,UAAL,CAAgBS,EAAhB,CAAmBd,GAAGM,IAAH,CAAQS,SAAR,CAAkBC,WAArC,EAAkD,KAAKP,QAAvD,EAAiE,IAAjE,EAAuE,IAAvE;AACA,iBAAKJ,UAAL,CAAgBS,EAAhB,CAAmBd,GAAGM,IAAH,CAAQS,SAAR,CAAkBE,WAArC,EAAkD,KAAKL,WAAvD,EAAoE,IAApE,EAA0E,IAA1E;AACA,iBAAKP,UAAL,CAAgBS,EAAhB,CAAmB,kBAAnB,EAAuC,KAAKI,QAA5C,EAAsD,IAAtD;AACA,iBAAKb,UAAL,CAAgBS,EAAhB,CAAmB,kBAAnB,EAAuC,KAAKK,QAA5C,EAAsD,IAAtD;AACH;AACJ,KAjBI;AAmBLC,SAnBK,mBAmBG;AACJ,aAAKC,UAAL;AACH,KArBI;AAuBLH,YAvBK,sBAuBM;AACP,aAAKI,IAAL,CAAUC,OAAV,GAAoB,GAApB;AACH,KAzBI;AA2BLJ,YA3BK,sBA2BM;AACP,aAAKG,IAAL,CAAUC,OAAV,GAAoB,CAApB;AACH,KA7BI;AA+BLb,WA/BK,qBA+BK;AACN,aAAKW,UAAL,CAAgB,CAAhB;AACH,KAjCI;AAmCLR,cAnCK,wBAmCQ;AACT,aAAKQ,UAAL;AACH,KArCI;AAuCLA,cAvCK,wBAuCmB;AAAA,YAAbG,KAAa,uEAAL,GAAK;;AACpB,aAAKC,YAAL,IAAqB,KAAKA,YAAL,CAAkBC,IAAlB,EAArB;AACA,aAAKD,YAAL,GAAoBzB,GAAG2B,KAAH,CAAS,KAAKL,IAAd,EACfM,EADe,CACZJ,KADY,EACL,EAAEK,OAAO,CAAC,GAAD,GAAO,KAAKtB,SAArB,EADK,EAEfuB,aAFe,GAGfV,KAHe,EAApB;AAIH,KA7CI;AA8CLW,aA9CK,uBA8CO;AACR,aAAKN,YAAL,IAAqB,KAAKA,YAAL,CAAkBC,IAAlB,EAArB;AACA,YAAI,KAAKrB,UAAT,EAAqB;AACjB,iBAAKA,UAAL,CAAgB2B,GAAhB,CAAoBhC,GAAGM,IAAH,CAAQS,SAAR,CAAkBC,WAAtC,EAAmD,KAAKN,OAAL,CAAaC,IAAb,CAAkB,IAAlB,CAAnD;AACA,iBAAKN,UAAL,CAAgB2B,GAAhB,CAAoBhC,GAAGM,IAAH,CAAQS,SAAR,CAAkBC,WAAtC,EAAmD,KAAKN,OAAL,CAAaC,IAAb,CAAkB,IAAlB,CAAnD;AACA,iBAAKN,UAAL,CAAgB2B,GAAhB,CAAoB,kBAApB,EAAwC,KAAKd,QAA7C,EAAuD,IAAvD;AACA,iBAAKb,UAAL,CAAgB2B,GAAhB,CAAoB,kBAApB,EAAwC,KAAKb,QAA7C,EAAuD,IAAvD;AACH;AACJ;AAtDI,CAAT","file":"IconSpin.js","sourceRoot":"../../../../../../../assets/cc-common/cc-slotbase-v2/slotGame/controller","sourcesContent":["\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        targetNode: cc.Node,\n        direction: 1\n    },\n\n    onLoad() {\n        this._onHover = this.onHover.bind(this);\n        this._onMouseOut = this.onMouseOut.bind(this);\n        if (this.targetNode) {\n            this.targetNode.on(cc.Node.EventType.MOUSE_ENTER, this._onHover, null, true);\n            this.targetNode.on(cc.Node.EventType.MOUSE_LEAVE, this._onMouseOut, null, true);\n            this.targetNode.on(\"BUTTON_SPIN_SHOW\", this.showIcon, this);\n            this.targetNode.on(\"BUTTON_SPIN_HIDE\", this.hideIcon, this);\n        }\n    },\n\n    start() {\n        this.rotateIcon();\n    },\n\n    showIcon() {\n        this.node.opacity = 255;\n    },\n\n    hideIcon() {\n        this.node.opacity = 0;\n    },\n\n    onHover() {\n        this.rotateIcon(1);\n    },\n\n    onMouseOut() {\n        this.rotateIcon();\n    },\n\n    rotateIcon(speed = 1.5) {\n        this._tweenRotate && this._tweenRotate.stop();\n        this._tweenRotate = cc.tween(this.node)\n            .by(speed, { angle: -360 * this.direction })\n            .repeatForever()\n            .start();\n    },\n    onDestroy() {\n        this._tweenRotate && this._tweenRotate.stop();\n        if (this.targetNode) {\n            this.targetNode.off(cc.Node.EventType.MOUSE_ENTER, this.onHover.bind(this));\n            this.targetNode.off(cc.Node.EventType.MOUSE_ENTER, this.onHover.bind(this));\n            this.targetNode.off(\"BUTTON_SPIN_SHOW\", this.showIcon, this);\n            this.targetNode.off(\"BUTTON_SPIN_HIDE\", this.hideIcon, this);\n        }\n    }\n\n});\n"]}