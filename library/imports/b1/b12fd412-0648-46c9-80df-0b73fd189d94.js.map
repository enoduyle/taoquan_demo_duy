{"version":3,"sources":["../../../../../../assets/cc-taoquan-9983/scripts/gameMode/assets/cc-taoquan-9983/scripts/gameMode/FreeGameDirector9983.js"],"names":["BaseSlotGameDirector","require","cc","Class","extends","properties","optionRemain","Label","wildMultiplier","Node","extendInit","table","active","ready","data","node","soundPlayer","stopAllAudio","playMainBGM","fsoi","gSlotDataStore","matrix","emit","fgoi","updateWildType","fsoiArr","split","fsor","updateOptionRemain","fwm","buttons","playSession","winAmount","freeGameRemain","isAutoSpin","spinTimes","scheduleOnce","runAction","_spinClick","script","_super","_showSoundWinAnimation","currentBetData","gameSpeed","isFTR","config","GAME_SPEED","INSTANTLY","playSFXWinLine","executeNextScript","_sendSpinToNetwork","mainDirector","enableCheckForever","gameStateManager","triggerFreeSpinRequest","_gameExit","fsm","can","gameRestart","resetMode","exit","_resumeGameMode","name","resumeGameMode","error","_showFreeGameOption","content","showCutscene","_hideCutscene","hideCutscene","parent","string","_updateOptionRemain","_updateWildMultiplier","extend","playMultiplier","_updateWildMultiplier_2","_showWildTransition","isSkip","_showWildTransition_2","_updateWildType","type","_showAllPayLine","_showAllPayLineSync","_showEachPayLineSync","_showAllPayLine_2","_showAllPayLineSync_2","_showSubSymbolPayLine","hasPayline","_hideSubSymbolPayLine","_showSubSymbolPayLine_2","_playSFXCloud2","playSFXCloud2","_playSFXCloud2_2","skipAllEffects","fastToResultClick","spinClick","_updateValueJP","updateValueJackpot","isGrand","value"],"mappings":"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","file":"FreeGameDirector9983.js","sourceRoot":"../../../../../../assets/cc-taoquan-9983/scripts/gameMode","sourcesContent":["const BaseSlotGameDirector = require('SlotGameDirector');\ncc.Class({\n    extends: BaseSlotGameDirector,\n    properties: {\n        optionRemain: cc.Label,\n        wildMultiplier: cc.Node,\n    },\n\n    extendInit() {\n        this.table.active = false;\n    },\n\n    ready(data) {\n        if (this.node.soundPlayer) this.node.soundPlayer.stopAllAudio();\n        if (this.node.soundPlayer) this.node.soundPlayer.playMainBGM();\n        const { fsoi } = this.node.gSlotDataStore;       \n        this.table.active = true;\n        if (data && data.matrix) {\n            this.table.emit(\"CHANGE_MATRIX\", { matrix: data.matrix });\n        }\n        if(data && data.fgoi) {\n            this.updateWildType(data.fgoi);\n        } else if(fsoi) {\n            const fsoiArr = fsoi.split(';');\n            this.updateWildType(fsoiArr[1]);\n        }\n        if(data && data.fsor) {\n            this.updateOptionRemain(data.fsor);\n        }\n        if (data && data.fwm && data.fwm > 1 && data.fgoi) {\n            this.wildMultiplier.emit('ACTIVE_FAST', data.fwm, data.fgoi);\n        }\n        this.buttons.emit('SPIN_SHOW');\n        this.buttons.emit('SPIN_ENABLE');\n        this.buttons.emit('STOP_AUTO_SPIN_HIDE');\n        const { winAmount, freeGameRemain } = this.node.gSlotDataStore.playSession;\n        if (!winAmount || (winAmount && winAmount == 0)) {\n            this.winAmount.emit(\"RESET_NUMBER\");\n        }\n\n        this.node.gSlotDataStore.isAutoSpin = true;\n        this.spinTimes.emit(\"UPDATE_SPINTIMES\", freeGameRemain);\n\n        this.scheduleOnce(() => {\n            this.runAction('SpinByTimes', freeGameRemain);\n        }, 1);\n    },\n\n    _spinClick(script) {\n        this._super(script);\n        this.wildMultiplier.emit('HIDE');\n    },\n\n    _showSoundWinAnimation(script,data) {\n        const {currentBetData, winAmount} = data;\n        const {gameSpeed } = this.node.gSlotDataStore;\n        const isFTR = gameSpeed === this.node.config.GAME_SPEED.INSTANTLY;\n        if(data && this.node.soundPlayer && !isFTR){\n            if(winAmount >= currentBetData * 5 && winAmount < currentBetData * 10 ){\n                this.node.soundPlayer.playSFXWinLine(3);\n            }else if (winAmount >= currentBetData && winAmount < currentBetData * 5 ){\n                this.node.soundPlayer.playSFXWinLine(2);\n            } else if(winAmount > 0  && winAmount < currentBetData){\n                this.node.soundPlayer.playSFXWinLine(1);\n            }\n        }\n        this.executeNextScript(script);\n    },\n    \n    _sendSpinToNetwork(script) {\n        this.node.mainDirector.enableCheckForever();\n        this.node.mainDirector.gameStateManager.triggerFreeSpinRequest();\n        this.executeNextScript(script);\n    },\n\n    _gameExit(script) {\n        if (!this.fsm.can('gameRestart')) return;\n        this.fsm.gameRestart();\n        this.spinTimes.emit(\"RESET_SPINTIMES\");\n        this.buttons.emit('SPIN_SHOW');\n        this.buttons.emit('SPIN_ENABLE');\n        this.resetMode();\n        this.node.exit(() => {\n            this.executeNextScript(script);\n        });\n    },\n    \n    resetMode() {\n        this.table.active = false;\n        this.wildMultiplier.emit('HIDE');\n    },\n\n    _resumeGameMode(script, { name, data }) {\n        if (this.node.mainDirector) {\n            this.node.mainDirector.resumeGameMode({ name, data }, () => {\n                if (this.node.soundPlayer) this.node.soundPlayer.stopAllAudio();\n                if (this.node.soundPlayer) this.node.soundPlayer.playMainBGM();\n                this.executeNextScript(script);\n            });\n        } else {\n            cc.error('There is no main Director to resume game mode');\n            this.executeNextScript(script);\n        }\n    },\n\n    _showFreeGameOption(script, { name, content }) {\n        if (this.node.mainDirector) {\n            this.node.mainDirector.showCutscene(name, content, () => {\n                this.executeNextScript(script);\n            });\n        } else {\n            cc.error('There is no main Director to play cutscenes');\n            this.executeNextScript(script);\n        }\n    },\n\n    _hideCutscene(script, { name }) {\n        if (this.node.mainDirector) {\n            this.node.mainDirector.hideCutscene(name, () => {\n                this.executeNextScript(script);\n            });\n        } else {\n            cc.error('There is no main Director to play cutscenes');\n            this.executeNextScript(script);\n        }\n    },\n\n    updateOptionRemain(data) {\n        if(data) {\n            this.optionRemain.node.parent.active = true;\n            this.optionRemain.string = '+'+data;\n        } else {\n            this.optionRemain.node.parent.active = false;\n        }\n    },\n\n    _updateOptionRemain(script, data) {\n        this.updateOptionRemain(data);\n        this.executeNextScript(script);\n    },\n\n    _updateWildMultiplier(script, data) {\n        const { fgoi } = this.node.gSlotDataStore.playSession.extend;\n        if (this.node.soundPlayer) this.node.soundPlayer.playMultiplier(data.fwm);\n        this.wildMultiplier.emit('ACTIVE_MULTIPLIER', data.fwm, fgoi, true, ()=>{\n            this.executeNextScript(script);\n        });\n    },\n    _updateWildMultiplier_2(script, data) {\n        const { fgoi } = this.node.gSlotDataStore.playSession.extend;\n        //if (this.node.soundPlayer) this.node.soundPlayer.playMultiplier(data);\n        this.wildMultiplier.emit('ACTIVE_FAST', data.fwm, fgoi);\n        this.executeNextScript(script);\n    },\n\n    _showWildTransition(script,{name,content}) {\n        const { fgoi } = this.node.gSlotDataStore.playSession.extend;\n        this.node.mainDirector.showCutscene(name, content, (isSkip) => {\n            if (isSkip) {\n                this.wildMultiplier.emit('ACTIVE_FAST', content.fwm, fgoi);\n                this.executeNextScript(script);\n            } else {\n                if (this.node.soundPlayer) this.node.soundPlayer.playMultiplier(content.fwm);\n                this.wildMultiplier.emit('ACTIVE_MULTIPLIER', content.fwm, fgoi, true, () => {\n                    this.executeNextScript(script);\n                });\n            }\n        });\n    },\n\n    _showWildTransition_2(script,{content}) {\n        const { fgoi } = this.node.gSlotDataStore.playSession.extend;\n        this.wildMultiplier.emit('ACTIVE_FAST', content.fwm, fgoi);\n        this.executeNextScript(script);\n    },\n\n    _updateWildType(script, data) {\n        const fsoiArr = data.split(';');\n        this.updateWildType(fsoiArr[1]);\n        this.executeNextScript(script);\n    },\n\n    updateWildType(type) {\n        this.table.emit(\"SET_WILD_TYPE\", type);\n    },\n\n    _showAllPayLine(script){\n        this.table.emit(\"BLINK_ALL_NORMAL_PAYLINES\",()=>{});\n        this.executeNextScript(script);\n    },\n\n    _showAllPayLineSync(script){\n        this.table.emit(\"BLINK_ALL_NORMAL_PAYLINES\", ()=>{\n            this.executeNextScript(script);\n        });\n    },\n\n    _showEachPayLineSync(script) {\n        this.table.emit(\"SHOW_ALL_NORMAL_PAYLINES\");\n        this.executeNextScript(script);\n    },\n\n    _showAllPayLine_2(script){\n        this.executeNextScript(script);\n    },\n\n    _showAllPayLineSync_2(script){\n        this.executeNextScript(script);\n    },\n\n    // _showEachPayLineSync_2(script) {\n    //     this.table.emit(\"HIDE_PAYLINES\");\n    //     this.executeNextScript(script);\n    // },\n\n    _showSubSymbolPayLine(script,data) {\n        if (!this.hasPayline) {\n            this.executeNextScript(script);\n            return;\n        }\n        this.table.emit(\"SHOW_SUB_SYMBOL_PAYLINE\",data,() => {\n            this.executeNextScript(script);\n        });\n    },\n\n    _hideSubSymbolPayLine(script){\n        this.table.emit(\"HIDE_SUB_SYMBOL_PAYLINE\");\n        this.executeNextScript(script);\n    },\n\n    _showSubSymbolPayLine_2(script) {\n        this.executeNextScript(script);\n    },\n    _playSFXCloud2(script){\n        if (this.node.soundPlayer) this.node.soundPlayer.playSFXCloud2();\n        this.executeNextScript(script);\n    },\n    _playSFXCloud2_2(script){\n        this.executeNextScript(script);\n    },\n\n    skipAllEffects() {\n        this.wildMultiplier.emit('SHOW_LAST_RESULT');\n        this._super();\n    },\n\n    fastToResultClick() {\n        this.skipAllEffects();\n        this._super();\n    },\n\n    spinClick() {\n        this.skipAllEffects();\n        this._super();\n    },\n\n    _updateValueJP(script, data) {\n        this.node.mainDirector.updateValueJackpot(data.isGrand, data.value);\n        this.executeNextScript(script);\n    },\n});\n"]}