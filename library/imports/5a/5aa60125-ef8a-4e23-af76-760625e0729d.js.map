{"version":3,"sources":["../../../../../../../assets/cc-common/cc-share-v1/History/Scripts/assets/cc-common/cc-share-v1/History/Scripts/BaseCellHistory.js"],"names":["require","formatMoney","formatUserName","addZero","i","cc","Class","extends","Component","properties","time","Node","account","bet","winAmount","timeFormat","onLoad","node","updateData","bind","data","getComponent","Label","string","formatTimeStamp","dn","betAmt","jpAmt","ts","date","Date","year","getFullYear","month","getMonth","day","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","replace"],"mappings":";;;;;;eAAwBA,QAAQ,OAAR;IAAhBC,uBAAAA;;gBACmBD,QAAQ,OAAR;IAAnBE,2BAAAA;;AAER,SAASC,OAAT,CAAiBC,CAAjB,EAAoB;AAChB,QAAIA,IAAI,EAAR,EAAY;AACRA,YAAI,MAAMA,CAAV;AACH;AACD,WAAOA,CAAP;AACH;;AAEDC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,cAAML,GAAGM,IADD;AAERC,iBAASP,GAAGM,IAFJ;AAGRE,aAAKR,GAAGM,IAHA;AAIRG,mBAAWT,GAAGM,IAJN;AAKRI,oBAAY;AALJ,KAHP;;AAWLC,UAXK,oBAWI;AACL,aAAKC,IAAL,CAAUC,UAAV,GAAuB,KAAKA,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CAAvB;AACH,KAbI;AAeLD,cAfK,sBAeME,IAfN,EAeY;AACb,YAAI,CAACA,IAAL,EAAW;AACX,aAAKV,IAAL,CAAUW,YAAV,CAAuBhB,GAAGiB,KAA1B,EAAiCC,MAAjC,GAA0C,KAAKC,eAAL,CAAqBJ,KAAKV,IAA1B,CAA1C;AACA,aAAKE,OAAL,CAAaS,YAAb,CAA0BhB,GAAGiB,KAA7B,EAAoCC,MAApC,GAA6CrB,eAAekB,KAAKK,EAApB,CAA7C;AACA,aAAKZ,GAAL,CAASQ,YAAT,CAAsBhB,GAAGiB,KAAzB,EAAgCC,MAAhC,GAAyCtB,YAAYmB,KAAKM,MAAjB,CAAzC;AACA,aAAKZ,SAAL,CAAeO,YAAf,CAA4BhB,GAAGiB,KAA/B,EAAsCC,MAAtC,GAA+CtB,YAAYmB,KAAKO,KAAjB,CAA/C;AACH,KArBI;AAwBLH,mBAxBK,2BAwBWI,EAxBX,EAwBe;AAChB,YAAMC,OAAO,IAAIC,IAAJ,CAASF,EAAT,CAAb;AACA,YAAIlB,OAAO,EAAX;;AAEA,YAAIqB,OAAOF,KAAKG,WAAL,EAAX;AACA,YAAIC,QAAQ9B,QAAQ0B,KAAKK,QAAL,KAAkB,CAA1B,CAAZ;AACA,YAAIC,MAAMhC,QAAQ0B,KAAKO,OAAL,EAAR,CAAV;;AAEA,YAAIC,QAAQlC,QAAQ0B,KAAKS,QAAL,EAAR,CAAZ;AACA,YAAIC,UAAUpC,QAAQ0B,KAAKW,UAAL,EAAR,CAAd;AACA,YAAIC,UAAUtC,QAAQ0B,KAAKa,UAAL,EAAR,CAAd;;AAEA,YAAI,KAAK3B,UAAT,EAAqB;AACjBL,mBAAO,KAAKK,UAAL,CAAgB4B,OAAhB,CAAwB,MAAxB,EAAgCZ,IAAhC,EACFY,OADE,CACM,IADN,EACYV,KADZ,EAEFU,OAFE,CAEM,IAFN,EAEYR,GAFZ,EAGFQ,OAHE,CAGM,IAHN,EAGYN,KAHZ,EAIFM,OAJE,CAIM,IAJN,EAIYJ,OAJZ,EAKFI,OALE,CAKM,IALN,EAKYF,OALZ,CAAP;AAMH,SAPD,MAOO;AACH/B,mBAAUyB,GAAV,SAAiBF,KAAjB,SAA0BF,IAA1B,SAAkCM,KAAlC,SAA2CE,OAA3C,SAAsDE,OAAtD;AACH;AACD,eAAO/B,IAAP;AACH;AA/CI,CAAT","file":"BaseCellHistory.js","sourceRoot":"../../../../../../../assets/cc-common/cc-share-v1/History/Scripts","sourcesContent":["const { formatMoney } = require('utils');\nconst { formatUserName } = require('utils');\n\nfunction addZero(i) {\n    if (i < 10) {\n        i = '0' + i;\n    }\n    return i;\n}\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        time: cc.Node,\n        account: cc.Node,\n        bet: cc.Node,\n        winAmount: cc.Node,\n        timeFormat: \"DD/MM hh:mm:ss\"\n    },\n\n    onLoad() {\n        this.node.updateData = this.updateData.bind(this);\n    },\n\n    updateData(data) {\n        if (!data) return;\n        this.time.getComponent(cc.Label).string = this.formatTimeStamp(data.time);\n        this.account.getComponent(cc.Label).string = formatUserName(data.dn);\n        this.bet.getComponent(cc.Label).string = formatMoney(data.betAmt);\n        this.winAmount.getComponent(cc.Label).string = formatMoney(data.jpAmt);\n    },\n\n\n    formatTimeStamp(ts) {\n        const date = new Date(ts);\n        let time = '';\n\n        let year = date.getFullYear();\n        let month = addZero(date.getMonth() + 1);\n        let day = addZero(date.getDate());\n\n        let hours = addZero(date.getHours());\n        let minutes = addZero(date.getMinutes());\n        let seconds = addZero(date.getSeconds());\n\n        if (this.timeFormat) {\n            time = this.timeFormat.replace('YYYY', year)\n                .replace('MM', month)\n                .replace('DD', day)\n                .replace('hh', hours)\n                .replace('mm', minutes)\n                .replace('ss', seconds);\n        } else {\n            time = `${day}/${month}/${year} ${hours}:${minutes}:${seconds}`;\n        }\n        return time;\n    }\n\n});\n"]}