{"version":3,"sources":["../../../../../../assets/cc-common/cc-slot-base-test/ExtendScripts/assets/cc-common/cc-slot-base-test/ExtendScripts/ExtendSlotSoundPlayer.js"],"names":["cc","Class","extends","require","playMainBGM","gameMode","currentGameMode","node","gSlotDataStore","sound","bgmMain","musicVolume","MUSIC_VOLUME","playSoundId","playMusic","playSFXId","sfxId","isStopPreviousSfx","currentSFX","currentSoundId","stopSound","playSFX","stopSFXId","soundId","isLoop","currentSound","playSound","stopSoundId"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASC,QAAQ,iBAAR,CADJ;;AAGLC,eAHK,uBAGOC,QAHP,EAGiB;AAClB,YAAMC,kBAAkBD,YAAY,KAAKE,IAAL,CAAUC,cAAV,CAAyBF,eAA7D;AACA,YAAIG,QAAQ,KAAKC,OAAjB;AACA,YAAIC,cAAc,KAAKC,YAAvB;;AAEA,YAAIN,oBAAoB,UAAxB,EAAoC;AAChC;AACA,iBAAKO,WAAL,CAAiB,oBAAjB,EAAuC,IAAvC;AACH,SAHD,MAGO,IAAIP,oBAAoB,WAAxB,EAAqC;AACxC;AACH,SAFM,MAEA,IAAIA,oBAAoB,YAAxB,EAAsC;AACzC;AACH,SAFM,MAEA,IAAIA,oBAAoB,WAAxB,EAAqC;AACxC;AACH;AACD,aAAKQ,SAAL,CAAeL,KAAf,EAAsB,IAAtB,EAA4BE,WAA5B;AACH,KAnBI;AAqBLI,aArBK,qBAqBKC,KArBL,EAqBuC;AAAA,YAA3BC,iBAA2B,uEAAP,KAAO;;AACxC,YAAIC,aAAa,KAAKF,KAAL,CAAjB;AACA,YAAIE,UAAJ,EAAgB;AACZ,gBAAID,sBAAsBC,WAAWC,cAAX,IAA6BD,WAAWC,cAAX,KAA8B,CAAjF,CAAJ,EAAyF;AACrF,qBAAKC,SAAL,CAAeF,WAAWC,cAA1B;AACH;AACDD,uBAAWC,cAAX,GAA4B,IAA5B;AACAD,uBAAWC,cAAX,GAA4B,KAAKE,OAAL,CAAaH,UAAb,CAA5B;AACH;AACJ,KA9BI;AAgCLI,aAhCK,qBAgCKN,KAhCL,EAgCY;AACb,YAAIE,aAAa,KAAKF,KAAL,CAAjB;AACA,YAAIE,UAAJ,EAAgB;AACZ,gBAAIA,WAAWC,cAAX,IAA6BD,WAAWC,cAAX,KAA8B,CAA/D,EAAkE;AAC9D,qBAAKC,SAAL,CAAeF,WAAWC,cAA1B;AACAD,2BAAWC,cAAX,GAA4B,IAA5B;AACH;AACJ;AACJ,KAxCI;AA0CLN,eA1CK,uBA0COU,OA1CP,EA0CgC;AAAA,YAAhBC,MAAgB,uEAAP,KAAO;;AACjC,YAAIC,eAAe,KAAKF,OAAL,CAAnB;AACA,YAAIE,YAAJ,EAAkB;AACd,gBAAIA,aAAaN,cAAb,IAA+BM,aAAaN,cAAb,KAAgC,CAAnE,EAAsE;AAClE,qBAAKC,SAAL,CAAeK,aAAaN,cAA5B;AACAM,6BAAaN,cAAb,GAA8B,IAA9B;AACH;AACDM,yBAAaN,cAAb,GAA8B,KAAKO,SAAL,CAAeD,YAAf,EAA6BD,MAA7B,CAA9B;AACH;AACJ,KAnDI;AAqDLG,eArDK,uBAqDOJ,OArDP,EAqDgB;AACjB,YAAIE,eAAe,KAAKF,OAAL,CAAnB;AACA,YAAIE,YAAJ,EAAkB;AACd,gBAAIA,aAAaN,cAAb,IAA+BM,aAAaN,cAAb,KAAgC,CAAnE,EAAsE;AAClE,qBAAKC,SAAL,CAAeK,aAAaN,cAA5B;AACAM,6BAAaN,cAAb,GAA8B,IAA9B;AACH;AACJ;AACJ;AA7DI,CAAT","file":"ExtendSlotSoundPlayer.js","sourceRoot":"../../../../../../assets/cc-common/cc-slot-base-test/ExtendScripts","sourcesContent":["cc.Class({\n    extends: require('SlotSoundPlayer'),\n\n    playMainBGM(gameMode) {\n        const currentGameMode = gameMode || this.node.gSlotDataStore.currentGameMode;\n        let sound = this.bgmMain;\n        let musicVolume = this.MUSIC_VOLUME;\n\n        if (currentGameMode === \"freeGame\") {\n            // if (this.bgmFreeGame) sound = this.bgmFreeGame;\n            this.playSoundId('sfxAmbientFreeGame', true);\n        } else if (currentGameMode === 'topupGame') {\n            // if (this.bgmTopUpGame) sound = this.bgmTopUpGame;\n        } else if (currentGameMode === 'freeOption') {\n            // if (this.bgmFreeGameOption) sound = this.bgmFreeGameOption;\n        } else if (currentGameMode === 'bonusGame') {\n            // if (this.bgmBonus) sound = this.bgmBonus;\n        }\n        this.playMusic(sound, true, musicVolume);\n    },\n\n    playSFXId(sfxId, isStopPreviousSfx = false) {\n        let currentSFX = this[sfxId];\n        if (currentSFX) {\n            if (isStopPreviousSfx && (currentSFX.currentSoundId || currentSFX.currentSoundId === 0)) {\n                this.stopSound(currentSFX.currentSoundId);\n            }\n            currentSFX.currentSoundId = null;\n            currentSFX.currentSoundId = this.playSFX(currentSFX);\n        }\n    },\n\n    stopSFXId(sfxId) {\n        let currentSFX = this[sfxId];\n        if (currentSFX) {\n            if (currentSFX.currentSoundId || currentSFX.currentSoundId === 0) {\n                this.stopSound(currentSFX.currentSoundId);\n                currentSFX.currentSoundId = null;\n            }\n        }\n    },\n\n    playSoundId(soundId, isLoop = false) {\n        let currentSound = this[soundId];\n        if (currentSound) {\n            if (currentSound.currentSoundId || currentSound.currentSoundId === 0) {\n                this.stopSound(currentSound.currentSoundId);\n                currentSound.currentSoundId = null;\n            }\n            currentSound.currentSoundId = this.playSound(currentSound, isLoop);\n        }\n    },\n\n    stopSoundId(soundId) {\n        let currentSound = this[soundId];\n        if (currentSound) {\n            if (currentSound.currentSoundId || currentSound.currentSoundId === 0) {\n                this.stopSound(currentSound.currentSoundId);\n                currentSound.currentSoundId = null;\n            }\n        }\n    },\n});\n"]}