{"version":3,"sources":["../../../../../../assets/cc-taoquan-9983/scripts/common/assets/cc-taoquan-9983/scripts/common/ParticleItem9983.js"],"names":["cc","Class","extends","Component","properties","onLoad","timer","velX","velY","aclX","aclY","node","startAnimation","bind","stopAnimation","screenSize","view","getVisibleSize","anim","getComponent","Animation","play","stop","poolManager","put","update","dt","x","y","pos","parent","convertToWorldSpaceAR","position","width","height","reuse","poolMng","active","unuse"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY,EAHP;AAKLC,UALK,oBAKG;AACJ,aAAKC,KAAL,GAAa,CAAb;;AAEA,aAAKC,IAAL,GAAY,CAAZ;AACA,aAAKC,IAAL,GAAY,CAAZ;AACA,aAAKC,IAAL,GAAY,CAAZ;AACA,aAAKC,IAAL,GAAY,CAAZ;AACA,aAAKC,IAAL,CAAUC,cAAV,GAA2B,KAAKA,cAAL,CAAoBC,IAApB,CAAyB,IAAzB,CAA3B;AACA,aAAKF,IAAL,CAAUG,aAAV,GAA0B,KAAKA,aAAL,CAAmBD,IAAnB,CAAwB,IAAxB,CAA1B;AACA,aAAKE,UAAL,GAAkBf,GAAGgB,IAAH,CAAQC,cAAR,EAAlB;AACH,KAfI;AAiBLL,kBAjBK,0BAiBWL,IAjBX,EAiBiBC,IAjBjB,EAiBuBC,IAjBvB,EAiB6BC,IAjB7B,EAiBmC;AACpC,aAAKH,IAAL,GAAYA,IAAZ;AACA,aAAKC,IAAL,GAAYA,IAAZ;AACA,aAAKC,IAAL,GAAYA,IAAZ;AACA,aAAKC,IAAL,GAAYA,IAAZ;AACA,YAAIQ,OAAO,KAAKP,IAAL,CAAUQ,YAAV,CAAuBnB,GAAGoB,SAA1B,CAAX;AACAF,aAAKG,IAAL;AACH,KAxBI;AA0BLP,iBA1BK,2BA0BY;AACb,YAAII,OAAO,KAAKP,IAAL,CAAUQ,YAAV,CAAuBnB,GAAGoB,SAA1B,CAAX;AACAF,aAAKI,IAAL;AACA,aAAKC,WAAL,CAAiBC,GAAjB,CAAqB,KAAKb,IAA1B;AACH,KA9BI;AA+BLc,UA/BK,kBA+BGC,EA/BH,EA+BO;AACR,aAAKf,IAAL,CAAUgB,CAAV,IAAe,KAAKpB,IAAL,GAAYmB,EAA3B;AACA,aAAKf,IAAL,CAAUiB,CAAV,IAAe,KAAKpB,IAAL,GAAYkB,EAA3B;AACA,aAAKnB,IAAL,IAAa,KAAKE,IAAL,GAAYiB,EAAzB;AACA,aAAKlB,IAAL,IAAa,KAAKE,IAAL,GAAYgB,EAAzB;AACA,YAAIG,MAAM,KAAKlB,IAAL,CAAUmB,MAAV,CAAiBC,qBAAjB,CAAuC,KAAKpB,IAAL,CAAUqB,QAAjD,CAAV;AACA,YAAIH,IAAIF,CAAJ,GAAQ,CAAC,KAAKZ,UAAL,CAAgBkB,KAAjB,GAAyB,GAAjC,IACAJ,IAAIF,CAAJ,GAAQ,KAAKZ,UAAL,CAAgBkB,KAAhB,GAAwB,GADhC,IAEAJ,IAAID,CAAJ,GAAQ,CAAC,KAAKb,UAAL,CAAgBmB,MAAjB,GAA0B,GAFlC,IAGAL,IAAID,CAAJ,GAAQ,KAAKb,UAAL,CAAgBmB,MAAhB,GAAyB,GAHrC,EAGyC;AACrC,iBAAKpB,aAAL;AACH;AACJ,KA3CI;;AA4CL;AACA;AACAqB,SA9CK,iBA8CCC,OA9CD,EA8CS;AACV,aAAKb,WAAL,GAAmBa,OAAnB;AACA,aAAKzB,IAAL,CAAU0B,MAAV,GAAmB,IAAnB;AACH,KAjDI;;AAkDL;AACAC,SAnDK,mBAmDE;AACH,aAAK3B,IAAL,CAAU0B,MAAV,GAAmB,KAAnB;AACH;AArDI,CAAT","file":"ParticleItem9983.js","sourceRoot":"../../../../../../assets/cc-taoquan-9983/scripts/common","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n    },\n    onLoad(){\n        this.timer = 0;\n\n        this.velX = 0;\n        this.velY = 0;\n        this.aclX = 0;\n        this.aclY = 0;\n        this.node.startAnimation = this.startAnimation.bind(this);\n        this.node.stopAnimation = this.stopAnimation.bind(this);\n        this.screenSize = cc.view.getVisibleSize();\n    },\n\n    startAnimation (velX, velY, aclX, aclY) {\n        this.velX = velX;\n        this.velY = velY;\n        this.aclX = aclX;\n        this.aclY = aclY;\n        let anim = this.node.getComponent(cc.Animation);\n        anim.play();\n    },\n\n    stopAnimation () {\n        let anim = this.node.getComponent(cc.Animation);\n        anim.stop();\n        this.poolManager.put(this.node);\n    },\n    update (dt) {\n        this.node.x += this.velX * dt;\n        this.node.y += this.velY * dt;\n        this.velX += this.aclX * dt;\n        this.velY += this.aclY * dt;\n        let pos = this.node.parent.convertToWorldSpaceAR(this.node.position);\n        if( pos.x < -this.screenSize.width * 0.5 ||\n            pos.x > this.screenSize.width * 1.5 ||\n            pos.y < -this.screenSize.height * 0.5 ||\n            pos.y > this.screenSize.height * 1.5){\n            this.stopAnimation();\n        }\n    },\n    //nodepool\n    //Called whenever card object is get from Object Pool\n    reuse(poolMng){\n        this.poolManager = poolMng;\n        this.node.active = true;\n    },\n    //Called whenever card object is returned to Object Pool\n    unuse(){\n        this.node.active = false;\n    },\n});"]}