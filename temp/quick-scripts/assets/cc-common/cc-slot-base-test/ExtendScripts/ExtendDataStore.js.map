{"version":3,"sources":["ExtendDataStore.js"],"names":["cc","Class","extends","require","formatData","playSession","TABLE_FORMAT","node","config","gSlotDataStore","matrix","freeGameMatrix","normalGameMatrix","bonusGameMatrix","tableFormat","_mapNewKeys","convertSlotMatrix","payLines","convertPayLine","warn"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASC,QAAQ,aAAR,CADJ;;AAGLC,cAHK,sBAGMC,WAHN,EAGmB;AAAA,YACZC,YADY,GACK,KAAKC,IAAL,CAAUC,MADf,CACZF,YADY;;AAEpB,aAAKC,IAAL,CAAUE,cAAV,CAAyBJ,WAAzB,GAAuCA,WAAvC;;AAFoB,2BAIiDA,WAJjD;AAAA,YAIZK,MAJY,gBAIZA,MAJY;AAAA,YAIJC,cAJI,gBAIJA,cAJI;AAAA,YAIYC,gBAJZ,gBAIYA,gBAJZ;AAAA,YAI8BC,eAJ9B,gBAI8BA,eAJ9B;;AAKpB,YAAIC,cAAcR,YAAlB;AACAD,sBAAc,KAAKU,WAAL,CAAiBV,WAAjB,CAAd;AACA,YAAIK,MAAJ,EAAY;AACRL,wBAAYK,MAAZ,GAAqB,KAAKH,IAAL,CAAUE,cAAV,CAAyBO,iBAAzB,CAA2CN,MAA3C,EAAmDI,WAAnD,CAArB;AACH,SAFD,MAEO,IAAIH,cAAJ,EAAoB;AACvBN,wBAAYK,MAAZ,GAAqB,KAAKH,IAAL,CAAUE,cAAV,CAAyBO,iBAAzB,CAA2CL,cAA3C,EAA2DG,WAA3D,CAArB;AACH,SAFM,MAEA,IAAIF,gBAAJ,EAAsB;AACzBP,wBAAYK,MAAZ,GAAqB,KAAKH,IAAL,CAAUE,cAAV,CAAyBO,iBAAzB,CAA2CJ,gBAA3C,EAA6DE,WAA7D,CAArB;AACH,SAFM,MAEA,IAAID,eAAJ,EAAqB;AACxBR,wBAAYQ,eAAZ,GAA8BA,eAA9B;AACH;;AAED,YAAIR,YAAYY,QAAhB,EAA0B;AACtBZ,wBAAYY,QAAZ,GAAuB,KAAKV,IAAL,CAAUE,cAAV,CAAyBS,cAAzB,CAAwCb,YAAYY,QAApD,CAAvB;AACH;;AAED,aAAKV,IAAL,CAAUE,cAAV,CAAyBJ,WAAzB,GAAuCA,WAAvC;AACAL,WAAGmB,IAAH,CAAQ,iBAAR,EAA2B,YAA3B,EAAyC,KAAKZ,IAAL,CAAUE,cAAV,CAAyBJ,WAAlE;AACA,eAAOA,WAAP;AACH;AA3BI,CAAT","file":"ExtendDataStore.js","sourceRoot":"../../../../../../assets/cc-common/cc-slot-base-test/ExtendScripts","sourcesContent":["cc.Class({\n    extends: require('DataStorev2'),\n\n    formatData(playSession) {\n        const { TABLE_FORMAT } = this.node.config;\n        this.node.gSlotDataStore.playSession = playSession;\n\n        const { matrix, freeGameMatrix, normalGameMatrix, bonusGameMatrix} = playSession;\n        let tableFormat = TABLE_FORMAT;\n        playSession = this._mapNewKeys(playSession);\n        if (matrix) {\n            playSession.matrix = this.node.gSlotDataStore.convertSlotMatrix(matrix, tableFormat);\n        } else if (freeGameMatrix) {\n            playSession.matrix = this.node.gSlotDataStore.convertSlotMatrix(freeGameMatrix, tableFormat);\n        } else if (normalGameMatrix) {\n            playSession.matrix = this.node.gSlotDataStore.convertSlotMatrix(normalGameMatrix, tableFormat);\n        } else if (bonusGameMatrix) {\n            playSession.bonusGameMatrix = bonusGameMatrix;\n        }\n\n        if (playSession.payLines) {\n            playSession.payLines = this.node.gSlotDataStore.convertPayLine(playSession.payLines);\n        }\n\n        this.node.gSlotDataStore.playSession = playSession;\n        cc.warn(\"%c data-update \", \"color: red\", this.node.gSlotDataStore.playSession);\n        return playSession;\n    },\n});\n"]}