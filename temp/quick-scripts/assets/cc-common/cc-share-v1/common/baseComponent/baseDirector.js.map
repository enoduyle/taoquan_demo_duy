{"version":3,"sources":["baseDirector.js"],"names":["cc","Class","switchMode","gameTrialSupport","trialMode","log","gameStateManager","switchToTrial","switchToReal","runAction","actionName","data","writer","script","executeNextScript","length","shift","command","destroyData"],"mappings":";;;;;;AAEAA,GAAGC,KAAH,CAAS;AACLC,cADK,wBACQ;AACT,YAAI,CAAC,KAAKC,gBAAV,EAA4B;;AAE5B,YAAI,CAAC,KAAKC,SAAV,EAAqB;AACjBJ,eAAGK,GAAH,CAAO,iBAAP;AACA,iBAAKD,SAAL,GAAiB,IAAjB;AACA,iBAAKE,gBAAL,CAAsBC,aAAtB;AACH,SAJD,MAIO;AACHP,eAAGK,GAAH,CAAO,qBAAP;AACA,iBAAKD,SAAL,GAAiB,KAAjB;AACA,iBAAKE,gBAAL,CAAsBE,YAAtB;AACH;AACJ,KAbI;AAcLC,aAdK,qBAcKC,UAdL,EAcgBC,IAdhB,EAcsB;AACvB,YAAI,CAAC,KAAKC,MAAN,IAAgB,OAAO,KAAKA,MAAL,CAAY,eAAaF,UAAzB,CAAP,KAAgD,UAApE,EAAgF;AAChF,YAAIG,SAAS,KAAKD,MAAL,CAAY,eAAaF,UAAzB,EAAqCC,IAArC,CAAb;AACA,aAAKE,MAAL,GAAcA,MAAd;AACA,aAAKC,iBAAL,CAAuBD,MAAvB;AACH,KAnBI;AAoBLC,qBApBK,6BAoBaD,MApBb,EAoBqB;AACtB,YAAI,CAACA,MAAD,IAAWA,OAAOE,MAAP,IAAiB,CAAhC,EAAmC;;AADb,4BAGIF,OAAOG,KAAP,EAHJ;AAAA,YAGdC,OAHc,iBAGdA,OAHc;AAAA,YAGLN,IAHK,iBAGLA,IAHK;;AAItB,YAAI,KAAKM,OAAL,KAAiB,OAAO,KAAKA,OAAL,CAAP,KAAyB,UAA9C,EAA0D;AACtD;AACA,iBAAKA,OAAL,EAAcJ,MAAd,EAAqBF,IAArB;AACH;AACJ,KA5BI;AA6BLO,eA7BK,yBA6BS;AACV,aAAKT,SAAL,GAAiB,YAAM,CAAE,CAAzB;AACA,aAAKK,iBAAL,GAAyB,YAAM,CAAE,CAAjC;AACA,aAAKD,MAAL,GAAc,EAAd;AACH;AAjCI,CAAT","file":"baseDirector.js","sourceRoot":"../../../../../../../assets/cc-common/cc-share-v1/common/baseComponent","sourcesContent":["\n\ncc.Class({\n    switchMode() {\n        if (!this.gameTrialSupport) return;\n\n        if (!this.trialMode) {\n            cc.log(\"Switch To Trial\");\n            this.trialMode = true;\n            this.gameStateManager.switchToTrial();\n        } else {\n            cc.log(\"Switch Back To Real\");\n            this.trialMode = false;\n            this.gameStateManager.switchToReal();\n        }\n    },\n    runAction(actionName,data) {\n        if (!this.writer || typeof this.writer['makeScript'+actionName] !== 'function') return;\n        let script = this.writer['makeScript'+actionName](data);\n        this.script = script;\n        this.executeNextScript(script);\n    },\n    executeNextScript(script) {\n        if (!script || script.length == 0) return;\n\n        const { command, data } = script.shift();\n        if (this[command] && typeof this[command] === 'function') {\n            //cc.log('run command ',command, data, script);\n            this[command](script,data);\n        }\n    },\n    destroyData() {\n        this.runAction = () => {};\n        this.executeNextScript = () => {};\n        this.script = [];\n    }\n});\n"]}